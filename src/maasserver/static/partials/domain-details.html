<header class="page-header margin-bottom" data-maas-sticky-header>
    <div class="inner-wrapper">
        <h1 class="page-header__title twelvel-col">
            {$ domain.displayname $}:
            <ng-pluralize data-ng-hide="loading" count="domain.hosts"
                          when="{'one': '{$ domain.hosts $} host,', 'other': '{$ domain.hosts $} hosts,'}"></ng-pluralize>
            <ng-pluralize data-ng-hide="loading" count="domain.resource_count"
                          when="{'one': ' {$ domain.resource_count $} record total', 'other': ' {$ domain.resource_count $} records total'}"></ng-pluralize>
            <span class="page-header__title--identicator" id="bulk-actions">
                <span class="power-status--power" data-ng-show="loading">
                    <span class="loader"></span>
                    Loading...
                </span>
            </span>
        </h1>
        <div class="page-header__actions four-col last-col ng-hide" data-ng-show="isSuperUser() && !isDefaultDomain()">
            <div class="page-header__cta two-col no-margin-bottom last-col">
                <div class="two-col no-margin-bottom last-col">
                    <button class="cta-ubuntu"
                        data-ng-click="deleteButton()"
                        data-ng-hide="loading || confirmingDelete">Delete Domain</button>
                    <button class="cta-ubuntu secondary ng-hide"
                        data-ng-click="cancelDeleteButton()"
                        data-ng-show="loading || confirmingDelete">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</header>
<div data-ng-show="!loading">
    <div class="page-header__dropdown border ng-hide" data-ng-show="confirmingDelete">
        <div class="page-header__feedback ten-col no-margin-bottom">
            <div class="twelve-col ng-hide" data-ng-show="error">
                <p class="page-header__feedback-message info">{$ error $}</p>
            </div>
            <div class="inner-wrapper">
                <div class="twelve-col">
                    <div class="table">
                        <div class="table__row table__row--no-hover">
                            <div class="table__data table__column--70">
                                Are you sure you want to delete this domain?
                            </div>
                            <div class="table__data table__column--10" data-ng-click="cancelDeleteButton()">Cancel</div>
                            <div class="table__data table__column--10">
                                <button class="cta-ubuntu secondary" data-ng-click="deleteConfirmButton()">Confirm</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <section class="row">
        <div class="inner-wrapper">
            <div class="twelve-col">
                <div class="table">
                    <header class="table__head">
                        <div class="table__row">
                            <div class="table__header table__column--20" data-ng-click="predicate='name'; reverse = !reverse"
                                 data-ng-class="{sort: predicate === 'name', 'sort-asc': reverse === false, 'sort-desc': reverse === true}">Name</div>
                            <div class="table__header table__column--5" data-ng-click="predicate='rrtype'; reverse = !reverse"
                                 data-ng-class="{sort: predicate === 'rrtype', 'sort-asc': reverse === false, 'sort-desc': reverse === true}">Type</div>
                            <div class="table__header table__column--75" data-ng-click="predicate='rrdata'; reverse = !reverse"
                                 data-ng-class="{sort: predicate === 'rrdata', 'sort-asc': reverse === false, 'sort-desc': reverse === true}">Data</div>
                        </div>
                    </header>
                    <main class="table-body">
                        <div class="table__row table__row--no-hover" data-ng-repeat="row in domain.rrsets | orderBy:predicate:reverse track by $index">
                          <div class="table__data table__column--20">
                            <span data-ng-if="row.system_id == null">{$ row.name $}</span>
                            <span data-ng-if="row.system_id !== null">
                                <div data-ng-switch="row.node_type">
                                  <!--
                                      XXX lamont 2016-02-10
                                      Node type is an enum (see node-details.html) and the comment therein.
                                  -->
                                  <span data-ng-switch-when="0"><a href="#/node/{$ row.system_id $}">{$ row.name $}</a></span>
                                  <span data-ng-switch-default>{$ row.name $}</span>
                                </div>
                            </span>
                          </div>
                          <div class="table__data table__column--5">{$ row.rrtype $}</div>
                          <div class="table__data table__column--75">{$ row.rrdata $}</div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
    </section>
</div>
