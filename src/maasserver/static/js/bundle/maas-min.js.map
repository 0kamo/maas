{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/babel-polyfill/lib/index.js","webpack:///./node_modules/core-js/fn/regexp/escape.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_a-number-value.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/_array-from-iterable.js","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_array-reduce.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_bind.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_collection-to-json.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_date-to-iso-string.js","webpack:///./node_modules/core-js/modules/_date-to-primitive.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_flatten-into-array.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_math-expm1.js","webpack:///./node_modules/core-js/modules/_math-fround.js","webpack:///./node_modules/core-js/modules/_math-log1p.js","webpack:///./node_modules/core-js/modules/_math-scale.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_metadata.js","webpack:///./node_modules/core-js/modules/_microtask.js","webpack:///./node_modules/core-js/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/core-js/modules/_object-forced-pam.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/core-js/modules/_parse-float.js","webpack:///./node_modules/core-js/modules/_parse-int.js","webpack:///./node_modules/core-js/modules/_perform.js","webpack:///./node_modules/core-js/modules/_promise-resolve.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_replacer.js","webpack:///./node_modules/core-js/modules/_same-value.js","webpack:///./node_modules/core-js/modules/_set-collection-from.js","webpack:///./node_modules/core-js/modules/_set-collection-of.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/core-js/modules/_task.js","webpack:///./node_modules/core-js/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/_user-agent.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/core.regexp.escape.js","webpack:///./node_modules/core-js/modules/es6.array.copy-within.js","webpack:///./node_modules/core-js/modules/es6.array.every.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.filter.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.array.for-each.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/es6.array.index-of.js","webpack:///./node_modules/core-js/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/modules/es6.array.join.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/core-js/modules/es6.array.map.js","webpack:///./node_modules/core-js/modules/es6.array.of.js","webpack:///./node_modules/core-js/modules/es6.array.reduce-right.js","webpack:///./node_modules/core-js/modules/es6.array.reduce.js","webpack:///./node_modules/core-js/modules/es6.array.slice.js","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.species.js","webpack:///./node_modules/core-js/modules/es6.date.now.js","webpack:///./node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/es6.date.to-primitive.js","webpack:///./node_modules/core-js/modules/es6.date.to-string.js","webpack:///./node_modules/core-js/modules/es6.function.bind.js","webpack:///./node_modules/core-js/modules/es6.function.has-instance.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/es6.math.acosh.js","webpack:///./node_modules/core-js/modules/es6.math.asinh.js","webpack:///./node_modules/core-js/modules/es6.math.atanh.js","webpack:///./node_modules/core-js/modules/es6.math.cbrt.js","webpack:///./node_modules/core-js/modules/es6.math.clz32.js","webpack:///./node_modules/core-js/modules/es6.math.cosh.js","webpack:///./node_modules/core-js/modules/es6.math.expm1.js","webpack:///./node_modules/core-js/modules/es6.math.fround.js","webpack:///./node_modules/core-js/modules/es6.math.hypot.js","webpack:///./node_modules/core-js/modules/es6.math.imul.js","webpack:///./node_modules/core-js/modules/es6.math.log10.js","webpack:///./node_modules/core-js/modules/es6.math.log1p.js","webpack:///./node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/es6.math.sinh.js","webpack:///./node_modules/core-js/modules/es6.math.tanh.js","webpack:///./node_modules/core-js/modules/es6.math.trunc.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/core-js/modules/es6.number.epsilon.js","webpack:///./node_modules/core-js/modules/es6.number.is-finite.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.parse-float.js","webpack:///./node_modules/core-js/modules/es6.number.parse-int.js","webpack:///./node_modules/core-js/modules/es6.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es6.number.to-precision.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js","webpack:///./node_modules/core-js/modules/es6.object.create.js","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack:///./node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.object.is-frozen.js","webpack:///./node_modules/core-js/modules/es6.object.is-sealed.js","webpack:///./node_modules/core-js/modules/es6.object.is.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.object.seal.js","webpack:///./node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.to-string.js","webpack:///./node_modules/core-js/modules/es6.parse-float.js","webpack:///./node_modules/core-js/modules/es6.parse-int.js","webpack:///./node_modules/core-js/modules/es6.promise.js","webpack:///./node_modules/core-js/modules/es6.reflect.apply.js","webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/core-js/modules/es6.reflect.define-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.delete-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.enumerate.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.reflect.get.js","webpack:///./node_modules/core-js/modules/es6.reflect.has.js","webpack:///./node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.reflect.own-keys.js","webpack:///./node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.reflect.set.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/core-js/modules/es6.string.big.js","webpack:///./node_modules/core-js/modules/es6.string.blink.js","webpack:///./node_modules/core-js/modules/es6.string.bold.js","webpack:///./node_modules/core-js/modules/es6.string.code-point-at.js","webpack:///./node_modules/core-js/modules/es6.string.ends-with.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/core-js/modules/es6.string.fontcolor.js","webpack:///./node_modules/core-js/modules/es6.string.fontsize.js","webpack:///./node_modules/core-js/modules/es6.string.from-code-point.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/es6.string.italics.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/es6.string.raw.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.string.small.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/core-js/modules/es6.string.strike.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.string.sup.js","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/es6.typed.array-buffer.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./node_modules/core-js/modules/es6.weak-set.js","webpack:///./node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/core-js/modules/es7.array.flatten.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/es7.asap.js","webpack:///./node_modules/core-js/modules/es7.error.is-error.js","webpack:///./node_modules/core-js/modules/es7.global.js","webpack:///./node_modules/core-js/modules/es7.map.from.js","webpack:///./node_modules/core-js/modules/es7.map.of.js","webpack:///./node_modules/core-js/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/modules/es7.math.clamp.js","webpack:///./node_modules/core-js/modules/es7.math.deg-per-rad.js","webpack:///./node_modules/core-js/modules/es7.math.degrees.js","webpack:///./node_modules/core-js/modules/es7.math.fscale.js","webpack:///./node_modules/core-js/modules/es7.math.iaddh.js","webpack:///./node_modules/core-js/modules/es7.math.imulh.js","webpack:///./node_modules/core-js/modules/es7.math.isubh.js","webpack:///./node_modules/core-js/modules/es7.math.rad-per-deg.js","webpack:///./node_modules/core-js/modules/es7.math.radians.js","webpack:///./node_modules/core-js/modules/es7.math.scale.js","webpack:///./node_modules/core-js/modules/es7.math.signbit.js","webpack:///./node_modules/core-js/modules/es7.math.umulh.js","webpack:///./node_modules/core-js/modules/es7.object.define-getter.js","webpack:///./node_modules/core-js/modules/es7.object.define-setter.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-getter.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-setter.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/es7.observable.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/modules/es7.promise.try.js","webpack:///./node_modules/core-js/modules/es7.reflect.define-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.delete-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.metadata.js","webpack:///./node_modules/core-js/modules/es7.set.from.js","webpack:///./node_modules/core-js/modules/es7.set.of.js","webpack:///./node_modules/core-js/modules/es7.set.to-json.js","webpack:///./node_modules/core-js/modules/es7.string.at.js","webpack:///./node_modules/core-js/modules/es7.string.match-all.js","webpack:///./node_modules/core-js/modules/es7.string.pad-end.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/core-js/modules/es7.string.trim-right.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/es7.symbol.observable.js","webpack:///./node_modules/core-js/modules/es7.system.global.js","webpack:///./node_modules/core-js/modules/es7.weak-map.from.js","webpack:///./node_modules/core-js/modules/es7.weak-map.of.js","webpack:///./node_modules/core-js/modules/es7.weak-set.from.js","webpack:///./node_modules/core-js/modules/es7.weak-set.of.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/modules/web.immediate.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./node_modules/core-js/shim.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/maasserver/static/js/angular/controllers/add_device.js","webpack:///./src/maasserver/static/js/angular/controllers/add_domain.js","webpack:///./src/maasserver/static/js/angular/controllers/add_hardware.js","webpack:///./src/maasserver/static/js/angular/controllers/dashboard.js","webpack:///./src/maasserver/static/js/angular/controllers/domain_details.js","webpack:///./src/maasserver/static/js/angular/controllers/domains_list.js","webpack:///./src/maasserver/static/js/angular/controllers/fabric_details.js","webpack:///./src/maasserver/static/js/angular/controllers/images.js","webpack:///./src/maasserver/static/js/angular/controllers/intro.js","webpack:///./src/maasserver/static/js/angular/controllers/intro_user.js","webpack:///./src/maasserver/static/js/angular/controllers/networks_list.js","webpack:///./src/maasserver/static/js/angular/controllers/node_details.js","webpack:///./src/maasserver/static/js/angular/controllers/node_details_networking.js","webpack:///./src/maasserver/static/js/angular/controllers/node_details_storage.js","webpack:///./src/maasserver/static/js/angular/controllers/node_details_storage_filesystems.js","webpack:///./src/maasserver/static/js/angular/controllers/node_events.js","webpack:///./src/maasserver/static/js/angular/controllers/node_result.js","webpack:///./src/maasserver/static/js/angular/controllers/node_results.js","webpack:///./src/maasserver/static/js/angular/controllers/nodes_list.js","webpack:///./src/maasserver/static/js/angular/controllers/pod_details.js","webpack:///./src/maasserver/static/js/angular/controllers/pods_list.js","webpack:///./src/maasserver/static/js/angular/controllers/prefs.js","webpack:///./src/maasserver/static/js/angular/controllers/settings.js","webpack:///./src/maasserver/static/js/angular/controllers/space_details.js","webpack:///./src/maasserver/static/js/angular/controllers/subnet_details.js","webpack:///./src/maasserver/static/js/angular/controllers/vlan_details.js","webpack:///./src/maasserver/static/js/angular/controllers/zone_details.js","webpack:///./src/maasserver/static/js/angular/controllers/zones_list.js","webpack:///./src/maasserver/static/js/angular/directives/accordion.js","webpack:///./src/maasserver/static/js/angular/directives/boot_images.js","webpack:///./src/maasserver/static/js/angular/directives/call_to_action.js","webpack:///./src/maasserver/static/js/angular/directives/card_loader.js","webpack:///./src/maasserver/static/js/angular/directives/code_lines.js","webpack:///./src/maasserver/static/js/angular/directives/contenteditable.js","webpack:///./src/maasserver/static/js/angular/directives/controller_image_status.js","webpack:///./src/maasserver/static/js/angular/directives/controller_status.js","webpack:///./src/maasserver/static/js/angular/directives/dbl_click_overlay.js","webpack:///./src/maasserver/static/js/angular/directives/default_os_select.js","webpack:///./src/maasserver/static/js/angular/directives/enter.js","webpack:///./src/maasserver/static/js/angular/directives/enter_blur.js","webpack:///./src/maasserver/static/js/angular/directives/error_overlay.js","webpack:///./src/maasserver/static/js/angular/directives/error_toggle.js","webpack:///./src/maasserver/static/js/angular/directives/ipranges.js","webpack:///./src/maasserver/static/js/angular/directives/login.js","webpack:///./src/maasserver/static/js/angular/directives/maas_obj_form.js","webpack:///./src/maasserver/static/js/angular/directives/mac_address.js","webpack:///./src/maasserver/static/js/angular/directives/machines_table.js","webpack:///./src/maasserver/static/js/angular/directives/navigation_dropdown.js","webpack:///./src/maasserver/static/js/angular/directives/navigation_mobile.js","webpack:///./src/maasserver/static/js/angular/directives/nodedetails/storage_disks_partitions.js","webpack:///./src/maasserver/static/js/angular/directives/nodedetails/storage_filesystems.js","webpack:///./src/maasserver/static/js/angular/directives/notifications.js","webpack:///./src/maasserver/static/js/angular/directives/os_select.js","webpack:///./src/maasserver/static/js/angular/directives/placeholder.js","webpack:///./src/maasserver/static/js/angular/directives/pod_parameters.js","webpack:///./src/maasserver/static/js/angular/directives/power_parameters.js","webpack:///./src/maasserver/static/js/angular/directives/pref_keys.js","webpack:///./src/maasserver/static/js/angular/directives/proxy_settings.js","webpack:///./src/maasserver/static/js/angular/directives/release_name.js","webpack:///./src/maasserver/static/js/angular/directives/release_options.js","webpack:///./src/maasserver/static/js/angular/directives/script_expander.js","webpack:///./src/maasserver/static/js/angular/directives/script_results_list.js","webpack:///./src/maasserver/static/js/angular/directives/script_runtime.js","webpack:///./src/maasserver/static/js/angular/directives/script_select.js","webpack:///./src/maasserver/static/js/angular/directives/script_status.js","webpack:///./src/maasserver/static/js/angular/directives/ssh_keys.js","webpack:///./src/maasserver/static/js/angular/directives/switches_table.js","webpack:///./src/maasserver/static/js/angular/directives/toggle_control.js","webpack:///./src/maasserver/static/js/angular/directives/type.js","webpack:///./src/maasserver/static/js/angular/directives/version_reloader.js","webpack:///./src/maasserver/static/js/angular/directives/window_width.js","webpack:///./src/maasserver/static/js/angular/factories/bootresources.js","webpack:///./src/maasserver/static/js/angular/factories/configs.js","webpack:///./src/maasserver/static/js/angular/factories/controllers.js","webpack:///./src/maasserver/static/js/angular/factories/devices.js","webpack:///./src/maasserver/static/js/angular/factories/dhcpsnippets.js","webpack:///./src/maasserver/static/js/angular/factories/discoveries.js","webpack:///./src/maasserver/static/js/angular/factories/domains.js","webpack:///./src/maasserver/static/js/angular/factories/events.js","webpack:///./src/maasserver/static/js/angular/factories/fabrics.js","webpack:///./src/maasserver/static/js/angular/factories/general.js","webpack:///./src/maasserver/static/js/angular/factories/ipranges.js","webpack:///./src/maasserver/static/js/angular/factories/machines.js","webpack:///./src/maasserver/static/js/angular/factories/node_results.js","webpack:///./src/maasserver/static/js/angular/factories/nodes.js","webpack:///./src/maasserver/static/js/angular/factories/notifications.js","webpack:///./src/maasserver/static/js/angular/factories/packagerepositories.js","webpack:///./src/maasserver/static/js/angular/factories/pods.js","webpack:///./src/maasserver/static/js/angular/factories/region.js","webpack:///./src/maasserver/static/js/angular/factories/resourcepools.js","webpack:///./src/maasserver/static/js/angular/factories/scripts.js","webpack:///./src/maasserver/static/js/angular/factories/services.js","webpack:///./src/maasserver/static/js/angular/factories/spaces.js","webpack:///./src/maasserver/static/js/angular/factories/sshkeys.js","webpack:///./src/maasserver/static/js/angular/factories/staticroutes.js","webpack:///./src/maasserver/static/js/angular/factories/subnets.js","webpack:///./src/maasserver/static/js/angular/factories/switches.js","webpack:///./src/maasserver/static/js/angular/factories/tags.js","webpack:///./src/maasserver/static/js/angular/factories/users.js","webpack:///./src/maasserver/static/js/angular/factories/vlans.js","webpack:///./src/maasserver/static/js/angular/factories/zones.js","webpack:///./src/maasserver/static/js/angular/filters/by_fabric.js","webpack:///./src/maasserver/static/js/angular/filters/by_space.js","webpack:///./src/maasserver/static/js/angular/filters/by_subnet.js","webpack:///./src/maasserver/static/js/angular/filters/by_vlan.js","webpack:///./src/maasserver/static/js/angular/filters/nodes.js","webpack:///./src/maasserver/static/js/angular/filters/order_by_date.js","webpack:///./src/maasserver/static/js/angular/filters/remove_default_vlan.js","webpack:///./src/maasserver/static/js/angular/maas.js","webpack:///./src/maasserver/static/js/angular/services/browser.js","webpack:///./src/maasserver/static/js/angular/services/converter.js","webpack:///./src/maasserver/static/js/angular/services/error.js","webpack:///./src/maasserver/static/js/angular/services/json.js","webpack:///./src/maasserver/static/js/angular/services/log.js","webpack:///./src/maasserver/static/js/angular/services/manager.js","webpack:///./src/maasserver/static/js/angular/services/managerhelper.js","webpack:///./src/maasserver/static/js/angular/services/pollingmanager.js","webpack:///./src/maasserver/static/js/angular/services/search.js","webpack:///./src/maasserver/static/js/angular/services/validation.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","_babelPolyfill","Error","DEFINE_PROPERTY","define","O","key","writable","String","padStart","padEnd","split","forEach","Array","Function","bind","RegExp","escape","it","TypeError","cof","msg","UNSCOPABLES","ArrayProto","undefined","Constructor","forbiddenField","isObject","toObject","toAbsoluteIndex","toLength","copyWithin","target","start","this","len","length","to","from","end","arguments","count","Math","min","inc","aLen","index","endPos","forOf","iter","ITERATOR","result","push","toIObject","IS_INCLUDES","$this","el","fromIndex","ctx","IObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","callbackfn","that","val","res","self","f","aFunction","memo","isRight","isArray","SPECIES","original","C","constructor","speciesConstructor","invoke","arraySlice","slice","factories","fn","partArgs","bound","args","concat","F","join","construct","TAG","ARG","T","B","e","tryGet","callee","toString","dP","redefineAll","anInstance","$iterDefine","step","setSpecies","DESCRIPTORS","fastKey","validate","SIZE","getEntry","entry","_i","_f","k","getConstructor","wrapper","NAME","ADDER","iterable","_t","_l","clear","data","delete","next","prev","v","has","def","setStrong","iterated","kind","_k","classof","getWeak","anObject","createArrayMethod","$has","arrayFind","arrayFindIndex","id","uncaughtFrozenStore","UncaughtFrozenStore","a","findUncaughtFrozen","store","set","splice","ufstore","$export","redefine","meta","fails","$iterDetect","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","Base","proto","fixMethod","KEY","b","entries","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","NEED","G","W","core","version","__e","$defineProperty","createDesc","apply","getTime","Date","$toISOString","toISOString","lz","num","NaN","isFinite","RangeError","y","getUTCFullYear","getUTCMilliseconds","abs","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","toPrimitive","hint","document","is","createElement","getKeys","gOPS","pIE","getSymbols","symbols","isEnum","hide","type","source","own","out","exp","IS_FORCED","IS_GLOBAL","IS_STATIC","S","IS_PROTO","P","IS_BIND","expProto","U","R","MATCH","re","exec","defined","wks","SYMBOL","fns","strfn","rxfn","string","arg","ignoreCase","multiline","unicode","sticky","IS_CONCAT_SPREADABLE","flattenIntoArray","sourceLen","depth","mapper","thisArg","element","spreadable","targetIndex","sourceIndex","mapFn","isArrayIter","getIterFn","BREAK","RETURN","iterator","iterFn","done","window","__g","documentElement","setPrototypeOf","un","propertyIsEnumerable","Iterators","floor","isRegExp","ret","descriptor","IteratorPrototype","LIBRARY","$iterCreate","getPrototypeOf","BUGGY","keys","returnThis","DEFAULT","IS_SET","FORCED","getMethod","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","SAFE_CLOSING","riter","skipClosing","safe","arr","$expm1","expm1","x","sign","pow","EPSILON","EPSILON32","MAX32","MIN32","fround","$abs","$sign","Infinity","log1p","log","scale","inLow","inHigh","outLow","outHigh","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","onFreeze","Map","shared","getOrCreateMetadataMap","targetKey","targetMetadata","keyMetadata","map","MetadataKey","metadataMap","MetadataValue","_","macrotask","Observer","MutationObserver","WebKitMutationObserver","process","Promise","isNode","head","last","notify","flush","parent","domain","exit","enter","nextTick","navigator","standalone","resolve","promise","then","toggle","node","createTextNode","observe","characterData","task","reject","$$resolve","$$reject","$assign","assign","A","Symbol","K","j","dPs","enumBugKeys","IE_PROTO","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","open","write","lt","close","Properties","IE8_DOM_DEFINE","Attributes","defineProperties","random","__defineSetter__","gOPD","getOwnPropertyDescriptor","gOPN","windowNames","getOwnPropertyNames","getWindowNames","$keys","hiddenKeys","getOwnPropertySymbols","ObjectProto","arrayIndexOf","names","isEntries","Reflect","ownKeys","$parseFloat","parseFloat","$trim","trim","str","charAt","$parseInt","parseInt","ws","hex","radix","test","newPromiseCapability","promiseCapability","bitmap","SRC","$toString","TPL","inspectSource","isFunction","regExp","replace","replacer","part","COLLECTION","mapping","cb","nextItem","of","check","buggy","__proto__","tag","stat","uid","D","method","toInteger","TO_STRING","pos","charCodeAt","searchString","quot","createHTML","attribute","p1","toLowerCase","repeat","maxLength","fillString","left","stringLength","fillStr","intMaxLength","fillLen","stringFiller","ceil","spaces","space","ltrim","rtrim","exporter","ALIAS","FORCE","defer","channel","port","html","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","listener","event","now","port2","port1","onmessage","postMessage","addEventListener","importScripts","removeChild","setTimeout","max","number","isNaN","valueOf","$typed","$buffer","propertyDesc","toIndex","createArrayIncludes","ArrayIterators","arrayFill","arrayCopyWithin","$DP","$GOPD","Uint8Array","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayIncludes","arrayValues","arrayKeys","arrayEntries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","sort","arrayToString","arrayToLocaleString","toLocaleString","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","toOffset","BYTES","offset","speciesFromList","list","fromList","addGetter","internal","_d","$from","mapfn","$of","TO_LOCALE_BUG","$toLocaleString","every","fill","filter","find","predicate","findIndex","indexOf","searchElement","includes","separator","reverse","middle","some","comparefn","subarray","begin","$begin","byteOffset","BYTES_PER_ELEMENT","$slice","$set","arrayLike","$iterators","isTAIndex","$getDesc","$setDesc","desc","$TypedArrayPrototype$","CLAMPED","GETTER","SETTER","TypedArray","TAC","ABV","TypedArrayPrototype","addElement","round","setter","$offset","$length","byteLength","klass","$len","$nativeIterator","CORRECT_ITER_NAME","$iterator","PROTOTYPE","WRONG_INDEX","BaseBuffer","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","_b","pack","conversion","ArrayBufferProto","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","Typed","TypedArrayConstructors","px","userAgent","wksExt","$Symbol","USE_SYMBOL","getIteratorMethod","$re","$every","$filter","$find","forced","$forEach","STRICT","createProperty","$indexOf","NEGATIVE_ZERO","addToUnscopables","Arguments","$reduce","upTo","size","cloned","$some","$sort","toJSON","pv","TO_PRIMITIVE","DateProto","HAS_INSTANCE","FunctionProto","FProto","nameRE","match","strong","sqrt","$acosh","acosh","Number","MAX_VALUE","$asinh","asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","hypot","value1","value2","div","sum","larg","$imul","imul","xn","yn","xl","yl","log10","LOG10E","log2","sinh","E","tanh","trunc","$Number","BROKEN_COF","TRIM","toNumber","argument","third","maxCode","first","code","digits","_isFinite","isInteger","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","aNumberValue","$toFixed","toFixed","ERROR","multiply","c2","divide","numToString","t","acc","fractionDigits","z","x2","$fails","$toPrecision","toPrecision","precision","$freeze","$getOwnPropertyDescriptor","$getPrototypeOf","$isExtensible","$isFrozen","$isSealed","$preventExtensions","$seal","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","microtask","newPromiseCapabilityModule","perform","promiseResolve","$Promise","empty","USE_NATIVE","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","_v","ok","_s","reaction","handler","fail","_h","onHandleUnhandled","onUnhandled","console","unhandled","isUnhandled","emit","onunhandledrejection","reason","error","_a","onrejectionhandled","$reject","_w","$resolve","executor","err","onFulfilled","onRejected","catch","capability","all","remaining","$index","alreadyCalled","race","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","propertyKey","attributes","deleteProperty","Enumerate","enumerate","getProto","receiver","setProto","V","existingDescriptor","ownDesc","$flags","$RegExp","re1","re2","CORRECT_NEW","tiRE","piRE","fiU","proxy","flags","$match","regexp","REPLACE","$replace","searchValue","replaceValue","SEARCH","$search","SPLIT","$split","_split","$push","NPCG","limit","separator2","lastIndex","lastLength","output","lastLastIndex","splitLimit","separatorCopy","add","$at","codePointAt","context","$endsWith","endsWith","endPosition","search","color","fromCharCode","$fromCodePoint","fromCodePoint","point","url","raw","callSite","tpl","$startsWith","startsWith","wksDefine","enumKeys","_create","gOPNExt","$JSON","JSON","_stringify","stringify","HIDDEN","SymbolRegistry","AllSymbols","OPSymbols","QObject","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperties","$propertyIsEnumerable","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","es6Symbols","wellKnownSymbols","for","keyFor","useSetter","useSimple","$replacer","$isView","isView","final","viewS","viewT","init","InternalMap","each","weak","tmp","$WeakMap","freeze","arraySpeciesCreate","flatMap","flatten","depthArg","$includes","asap","isError","clamp","lower","upper","DEG_PER_RAD","PI","RAD_PER_DEG","degrees","radians","fscale","iaddh","x0","x1","y0","y1","$x0","$y0","imulh","u","$u","$v","u0","v0","u1","v1","isubh","signbit","umulh","__defineGetter__","getOwnPropertyDescriptors","getDesc","__lookupGetter__","__lookupSetter__","$values","OBSERVABLE","cleanupSubscription","subscription","cleanup","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","complete","$Observable","subscribe","observable","items","Observable","finally","onFinally","try","metadata","toMetaKey","ordinaryDefineOwnMetadata","defineMetadata","metadataKey","metadataValue","deleteMetadata","Set","ordinaryOwnMetadataKeys","ordinaryMetadataKeys","oKeys","pKeys","getMetadataKeys","ordinaryHasOwnMetadata","ordinaryGetOwnMetadata","ordinaryGetMetadata","getMetadata","getOwnMetadataKeys","getOwnMetadata","ordinaryHasMetadata","hasMetadata","hasOwnMetadata","$metadata","at","getFlags","RegExpProto","$RegExpStringIterator","_r","matchAll","rx","$pad","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$task","MSIE","time","boundArgs","setInterval","Op","hasOwn","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","inModule","runtime","regeneratorRuntime","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","NativeIteratorPrototype","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","pop","Context","reset","skipTempReset","sent","_sent","delegate","tryEntries","resetTryEntry","stop","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","abrupt","finallyEntry","afterLoc","finish","thrown","delegateYield","resultName","nextLoc","protoGenerator","generator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","obj","unwrapped","previousPromise","callInvokeWithMethodAndArg","return","info","pushTryEntry","locs","iteratorMethod","g","eval","angular","controller","$scope","DevicesManager","SubnetsManager","DomainsManager","ManagerHelperService","ValidationService","newDevice","cloneDevice","interfaces","mac","ipAssignment","subnetId","ipAddress","getDefaultDomain","$parent","addDeviceScope","subnets","getItems","domains","viewable","ipAssignments","title","device","show","loadManagers","unloadManagers","$emit","nameHasError","validateHostname","macHasError","deviceInterface","validateMAC","ipHasError","validateIP","validateIPInNetwork","cidr","isNumber","subnet","getItemFromList","deviceHasError","externalIpError","staticIpError","addInterface","isPrimaryInterface","deleteInterface","cancel","save","addAnother","convertedDevice","hostname","primary_mac","extra_macs","nic","ip_assignment","ip_address","convertDeviceToProtocol","parseValidationError","addDomainScope","authoritative","validateDomainName","domainHasError","copy","convertDomainToProtocol","$q","$http","ZonesManager","ResourcePoolsManager","MachinesManager","GeneralManager","RegionConnection","addHardwareScope","model","zones","pools","architectures","getData","hwe_kernels","default_min_hwe_kernel","power_types","macAddressRegex","machine","chassis","virshFields","label","field_type","default","choices","required","defaultArchitecture","newMachine","cloneMachine","macs","zone","pool","architecture","min_hwe_kernel","power","parameters","text","newChassis","cloneChassis","chassisPowerTypes","description","fields","mode","loadedItems","loadedManagers","loadItems","showMachine","showChassis","addMac","removeMac","idx","invalidName","validateMac","machineHasError","in_error","chassisHasErrors","power_type","field","isUndefined","powerParametersHasError","saveMachine","pxe_mac","shift","power_parameters","saveChassis","params","chassis_type","username","$","param","headers","Content-Type","$window","$rootScope","$routeParams","$location","DiscoveriesManager","VLANsManager","ConfigsManager","deviceIPOptions","page","loaded","discoveredDevices","machines","devices","configManager","networkDiscovery","column","selectedDevice","convertTo","last_seen","sortTable","proxyManager","updateItem","createItem","createInterface","getDiscoveryName","discovery","getSubnetName","getName","getVLANName","vlanId","vlan","toggleSelected","deviceId","discovered","getDomainByName","goTo","saved","option","preProcess","item","mac_address","ip","afterSave","_removeItem","isString","path","UsersManager","ErrorService","domainLoaded","displayname","editSummary","action","editRow","deleteRow","domainsManager","newObject","supportedRecordTypes","enterEditSummary","exitEditSummary","isRecordAutogenerated","row","dnsresource_id","editRecord","previous_rrdata","rrdata","previous_rrtype","rrtype","previous_name","previous_ttl","ttl","removeRecord","confirmRemoveRecord","deleteDNSRecord","stopEditingRow","isSuperUser","isDefaultDomain","canBeDeleted","rrsets","deleteButton","actionInProgress","addRecordButton","cancelAction","deleteConfirmButton","deleteDomain","activeDomain","getActiveItem","requestedDomain","domain_id","raiseError","setActiveItem","currentpage","loading","addDomain","cancelAddDomain","FabricsManager","SpacesManager","ControllersManager","fabricLoaded","fabric","$watch","updateVLANs","rows","racks","vlans","space_name","vlan_name","subnet_name","rack_sids","rack_sid","rack","system_id","fabricManager","controllers","isDefaultFabric","confirmingDelete","cancelDeleteButton","deleteFabric","reply","activeFabric","requestedFabric","fabric_id","BootResourcesManager","bootResources","autoImport","resources","PackageRepositoriesManager","repoManager","hasImages","maasName","upstreamDNS","mainArchive","portsArchive","httpProxy","skip","clickContinue","welcomeInError","form","$maasForm","hasErrors","networkInError","inError","objs","canContinue","force","location","reload","MAAS_config","completed_intro","managers","repo","user","sshkeys_count","markIntroComplete","user_completed_intro","loadManager","getAuthUser","filterByVLAN","filterByFabric","filterBySpace","filterByNullSpace","getURLParameters","by","groupBy","ADD_FABRIC_ACTION","selectedTitle","objectName","ADD_VLAN_ACTION","ADD_SPACE_ACTION","ADD_SUBNET_ACTION","subnetManager","fabrics","spaceManager","vlanManager","group","orphanVLANs","actionObjectInitializers","vlan_ids","updateGroupBy","previous_space","updateOrphanVLANs","previous_fabric","previous_vlan","fabric_name","updateFabricsGroupBy","updateActions","actionOptions","actionChanged","actionOption","getFabricNameById","fabricId","actionSubnetPreSave","$on","$interval","TagsManager","ServicesManager","ScriptsManager","page_managers","DEVICE_IP_ASSIGNMENT","external","dynamic","static","updateTitle","fqdn","updateHeader","header","editing","editing_domain","options","selected","updateAvailableActionOptions","actionTypeForNodeType","0","1","2","3","4","isDataLoaded","node_type","allOptions","availableOptions","actions","updatePower","bmc_node_count","power_bmc_node_count","canEdit","in_pod","isDefined","pod","updateSummary","summary","tags","hasUsableArchitectures","hasInvalidArchitecture","updateServices","isController","services","getServices","service","updateDevices","child","nicIdx","deviceWithMAC","links","link","lIdx","deviceWithLink","nodeLoaded","$watchCollection","storageController","networkingController","showing_confirmation","osinfo","section","area","osSelection","osystem","release","hwe_kernel","commissionOptions","enableSSH","skipNetworking","skipStorage","updateFirmware","configureHBA","commissioningSelection","testSelection","releaseOptions","checkingPower","scripts","getDeviceIPAssignment","events","updateNode","queryPower","nodesManager","checkPowerState","tagsAutocomplete","query","autocomplete","getPowerStateClass","power_state","getPowerStateText","canCheckPowerState","isUbuntuOS","isUbuntuCoreOS","isCustomOS","isActionError","isDeployError","missing_osinfo","osystems","isSSHKeyError","getSSHKeyCount","optionChanged","actionCancel","actionGo","extra","distro_series","enable_ssh","skip_networking","skip_storage","commissioning_scripts","testing_scripts","status_code","erase","secure_erase","secureErase","quick_erase","quickErase","performAction","$reset","getArchitecturePlaceholder","isDevice","invalidArchitecture","isRackControllerConnected","isLocked","locked","editHeaderDomain","editHeader","editHeaderInvalid","cancelEditHeader","saveEditHeader","cancelEditSummary","saveEditSummary","invalidPowerType","editPower","cancelEditPower","saveEditPower","allowShowMoreEvents","showMoreEvents","getEventText","getPowerEventError","level","hasPowerEventError","getPowerEventErrorText","hasActionPowerError","actionName","hasPowerError","missing_packages","getPowerErrors","packages","getServiceClass","status","hasCustomCommissioningScripts","script_type","controllerLoaded","scope","showFailedTestWarning","testing_status","getCPUSubtext","cpu_count","cpu_speed","type_name","type_name_title","activeNode","originalInterfaces","filtered","usedVLANs","inter","parents","vlan_id","childInterface","found","link_id","interfaceType","vid","modes","getValue","nicType","allowLinkUp","JSONService","INTERFACE_TYPE","PHYSICAL","BOND","BRIDGE","VLAN","INTERFACE_TYPE_TEXTS","physical","bond","bridge","alias","LINK_MODE","AUTO","STATIC","DHCP","LINK_UP","LINK_MODE_TEXTS","auto","dhcp","link_up","SELECTION_MODE","NONE","SINGLE","MULTI","DELETE","ADD","CREATE_BOND","CREATE_BRIDGE","CREATE_PHYSICAL","EDIT","IP_ASSIGNMENT","updateLoaded","nodeHasLoaded","managersHaveLoaded","updateInterfaces","vlanTable","addedVlans","children","editInterface","selectedMode","formatted","members","vlanRecord","primary_rack","secondary_rack","sort_key","getVLANText","localeCompare","nic_copy","subnet_id","interfaceLinksMap","linkMaps","newInterface","parentId","linkId","newParent","iType","isAlias","isVLAN","canAddAlias","canAddVLAN","addTypeChanged","leaveSingleSelectionMode","updateNewInterface","mapNICToOriginalLink","nic_id","originalInteface","getDefaultVLAN","default_vlan_id","getUnusedVLANs","ignoreVLANs","getSelectedInterfaces","selectedInterfaces","splitKey","getNextName","prefix","tableInfo","interfaceErrorsByLinkId","newBondInterface","newBridgeInterface","bondOptions","isLimitedEditingAllowed","isAllNetworkingDisabled","isBootInterface","is_boot","getInterfaceTypeText","getLinkModeText","getSubnetText","getSubnet","isInterfaceNameInvalid","otherNic","isLinkModeDisabled","getInterfaceError","isIPAddressInvalid","getUniqueKey","toggleInterfaceSelect","isInterfaceSelected","cannotEditInterface","isEditing","edit","defaultSubnet","fabricChanged","vlanChanged","fabricChangedForm","updateValue","vlanChangedForm","subnetChanged","subnetChangedForm","modeChanged","modeChangedForm","originalLink","editCancel","preProcessInterface","interface_id","saveInterface","updateInterface","saveInterfaceLink","linkSubnet","editSave","isShowingDeleteConfirm","isShowingAdd","canAddAliasOrVLAN","canAddAnotherVLAN","getRemoveTypeText","canBeRemoved","remove","quickRemove","confirmRemove","unlinkSubnet","defaultVLAN","defaultMode","quickAdd","getAddName","aliasIdx","createVLANInterface","isDisabled","canCreateBond","isShowingCreateBond","showCreateBond","primary","lacpRate","xmitHashPolicy","hasBootInterface","getInterfacePlaceholderMACAddress","isMACAddressInvalid","invalidEmpty","showLACPRate","showXMITHashPolicy","cannotAddBond","addBond","bond_mode","bond_lacp_rate","bond_xmit_hash_policy","createBondInterface","canCreateBridge","isShowingCreateBridge","showCreateBridge","bridge_stp","bridge_fd","cannotAddBridge","addBridge","createBridgeInterface","isShowingCreatePhysical","showCreatePhysical","macError","errorMsg","cannotAddPhysicalInterface","addPhysicalInterface","createPhysicalInterface","errorStr","tryParse","disks","availableNew","single","disk","ConverterService","MIN_PARTITION_SIZE","MUTLI","UNMOUNT","UNFORMAT","FORMAT_AND_MOUNT","PARTITION","BCACHE","RAID","VOLUME_GROUP","LOGICAL_VOLUME","RAID_MODES","min_disks","allows_spares","calculateSize","minSize","numDisks","hasMountedFilesystem","filesystem","mount_point","hasFormattedUnmountedFilesystem","fstype","isInUse","is_format_fstype","available_size","getTags","cache_set_id","block_id","partition_id","updateDisks","used","cachesets","filesystems","has_disks","size_human","mount_options","filesystem_id","original_type","parent_type","partitions","partition","special_filesystems","oldFilesystem","filesystemsMap","$selected","updateFilesystemSelection","used_by","used_for","cacheset","oldCacheSet","cachesetsMap","updateCacheSetsSelection","available","has_partitions","available_size_human","used_size_human","serial","test_status","firmware_version","oldDisk","availableMap","$options","newDevices","updateAvailableSelection","updateAvailable","filesystemMode","filesystemAllSelected","cachesetsMode","cachesetsAllSelected","availableMode","availableAllSelected","deselectAll","capitalizeFirstLetter","toUpperCase","getIndexFromName","dIdx","isNameAlreadyInUse","exclude_disk","isLogicalVolume","newPartition","nodeManager","showMembers","isBootDiskDisabled","setAsBootDisk","setBootDisk","getSelectedFilesystems","toggleFilesystemSelect","toggleFilesystemAllSelect","isFilesystemsDisabled","isAllStorageDisabled","filesystemCancel","filesystemUnmount","quickFilesystemUnmount","filesystemConfirmUnmount","updateFilesystem","filesystemDelete","quickFilesystemDelete","filesystemConfirmDelete","unmountSpecialFilesystem","deletePartition","deleteFilesystem","hasUnmountedFilesystem","showFreeSpace","getDeviceType","getSelectedAvailable","toggleAvailableSelect","toggleAvailableAllSelect","isAvailableDisabled","canFormatAndMount","getPartitionButtonText","availablePartitionSpace","space_to_reserve","partition_table_type","INITIAL_PARTITION_OFFSET","roundByBlockSize","canAddPartition","isNameInvalid","nameHasChanged","parentName","availableCancel","usesMountPoint","usesStorage","isMountPointInvalid","mountPoint","canDelete","used_size","availableDelete","availableQuickDelete","availableEdit","editingTags","editingFilesystem","availableQuickEdit","availableConfirmEdit","mountOptions","updateDisk","availableConfirmDelete","deleteVolumeGroup","deleteDisk","availablePartition","size_and_units","sizeUnits","availableQuickPartition","getAddPartitionName","isAddPartitionSizeInvalid","unitsToBytes","roundUnits","availableConfirmPartition","removeDisk","available_space","partition_size","getSelectedCacheSets","toggleCacheSetSelect","toggleCacheSetAllSelect","isCacheSetsDisabled","cacheSetCancel","canDeleteCacheSet","cacheSetDelete","quickCacheSetDelete","cacheSetConfirmDelete","deleteCacheSet","canCreateCacheSet","createCacheSet","getCannotCreateBcacheMsg","canCreateBcache","createBcache","cacheMode","fstypeChanged","isNewDiskNameInvalid","createBcacheCanSave","availableConfirmCreateBcache","cache_set","cache_mode","canCreateRAID","createRAID","spares","getAvailableRAIDModes","getTotalNumberOfAvailableSpares","diff","getNumberOfRemainingSpares","allowed","showSparesColumn","RAIDModeChanged","isActiveRAIDMember","isSpareRAIDMember","setAsActiveRAIDMember","setAsSpareRAIDMember","getNewRAIDSize","deviceSize","bytesToUnits","createRAIDCanSave","availableConfirmCreateRAID","block_devices","spare_devices","spare_partitions","canCreateVolumeGroup","createVolumeGroup","getNewVolumeGroupSize","total","createVolumeGroupCanSave","availableConfirmCreateVolumeGroup","canAddLogicalVolume","availableLogicalVolume","namePrefix","isLogicalVolumeNameInvalid","newLogicalVolumeNameChanged","isAddLogicalVolumeSizeInvalid","availableConfirmLogicalVolume","createLogicalVolume","authUser","is_superuser","owner","hasStorageLayoutIssues","storage_layout_issues","SpecialFilesystem","_classCallCheck","parts","dropdown","addSpecialFilesystem","addSpecialFilesystemFinished","machineManager","specialFilesystemTypes","newFilesystem","watches","_loop","describe","canMount","isValid","EventsManagerFactory","eventsManager","getManager","days","getMaximumDays","eventsLoaded","loadMore","loadMaximumDays","destroy","NodeResultsManagerFactory","nodeResultsManager","requestedResult","getItem","get_result_data","resultLoaded","updateLogs","had_installation","logs","installation_results","selectedLog","commissioning_results","testing_results","results","updateLogOutput","resultsLoaded","logOutput","getSummaryXML","getSummaryYAML","loadHistory","showing_results","history_list","showing_history","loading_history","get_history","history","SearchService","SwitchesManager","isViewingSelected","tab","tabs","enterViewSelected","previous_search","leaveViewSelected","updateFilters","updateAllViewableChecked","filtered_items","allViewableChecked","clearAction","resetActionProgress","zoneSelection","poolSelection","poolAction","newPool","shouldClearAction","selectedItems","removeEmptyFilter","updateActionErrorCount","actionErrorCount","supportsAction","action_failed","progress","actionProgress","completed","errors","affected_nodes","addErrorToActionProgress","nodes","updateSelectedItems","hasActionsFailed","manager","unselectItem","hasActionsInProgress","switches","showswitches","pluralize","verb","pagetitle","searchValid","getSelectedItems","filters","getEmptyFilter","takeActionOptions","addPool","cancelAddPool","activeTarget","activeTargetAction","actionErrorMessage","initiatePoolAction","cancelPoolAction","editingPool","isPoolAction","actionConfirmEditPool","actionConfirmDeletePool","deleteItem","goToPoolMachines","clearSearch","toggleFilter","toggleTab","isDefaultPool","syncStatuses","addController","registerUrl","register_url","registerSecret","register_secret","addHardwareOption","addHardwareOptions","toggleChecked","isSelected","selectItem","toggleCheckAll","onNodeListingChanged","showSelected","filtersToString","isFilterActive","getCurrentFilters","selectColumnOrSort","actionOptionSelected","tabName","deferred","preAction","zone_id","pool_id","addHardwareOptionChanged","addDevice","cancelAddDevice","statusPoll","storeFilters","machinesFilter","retrieveFilters","devicesFilter","controllersFilter","switchesFilter","PodsManager","podManager","sentence","operation","refresh","inProgress","compose","storage","boot","machinesSearch","editPodConfiguration","exitEditPodConfiguration","actionOptionChanged","getPodTypeTitle","canCompose","capabilities","composeMachine","composePreProcess","sorted","constraint","cancelCompose","composeAddStorage","composeSetBootDisk","composeRemoveDisk","startWatching","getDefaultZone","default_pool","activePod","pods","filteredItems","cpu_over_commit_ratio","memory_over_commit_ratio","powerTypes","action_error","addPod","getDefaultPool","cancelAddPod","canAddPod","getPowerTypeTitle","powerType","DHCPSnippetsManager","snippetsManager","snippets","known_architectures","pockets_to_disable","components_to_disable","packageRepositoriesManager","repositories","newSnippet","editSnippet","deleteSnippet","snippetTypes","newRepository","editRepository","deleteRepository","repositoryEnabledToggle","repository","repositoryEnterRemove","repositoryExitRemove","repositoryConfirmRemove","isPPA","isMirror","repositoryEnterEdit","repositoryExitEdit","repositoryAdd","enabled","arches","distributions","components","repositoryAddCancel","getSnippetTypeText","snippet","getSnippetAppliesToObject","getSnippetAppliesToText","snippetEnterRemove","snippetExitRemove","snippetConfirmRemove","snippetEnterEdit","snippetExitEdit","snippetToggle","snippetAdd","snippetAddCancel","spaceLoaded","updateSubnets","isDefaultSpace","subnet_ids","deleteSpace","activeSpace","requestedSpace","space_id","StaticRoutesManager","active_discovery_data","active_discovery_interval","staticRoutes","staticRoutesManager","actionError","newStaticRoute","editStaticRoute","deleteStaticRoute","MAP_SUBNET_ACTION","DELETE_ACTION","ALLOC_TYPES","5","6","NODE_TYPES","updateIPVersion","ipVersion","subnetLoaded","updateFabric","ipSort","ipv4ToInteger","ipv6Expand","getAllocType","allocType","getSubnetCIDR","destId","allocTypeSort","alloc_type","getUsageForIP","node_summary","isContainer","is_container","nodeType","bmcs","dns_records","nodeTypeSort","ownerSort","sortIPTable","actionRetry","scanSubnet","scan_started_on","deleteSubnet","subnetPreSave","changedFields","addStaticRoute","gateway_ip","destination","metric","cancelAddStaticRoute","isStaticRouteInEditMode","route","staticRouteToggleEditMode","isStaticRouteInDeleteMode","staticRouteEnterDeleteMode","staticRouteCancelDelete","staticRouteConfirmDelete","choice","activeSubnet","requestedSubnet","objects","vm","updateManagementRacks","primaryRack","secondaryRack","updateRelatedControllers","relatedControllers","updateRelatedSubnets","relatedSubnets","updatePossibleActions","relay_vlan","RELAY_DHCP_ACTION","DISABLE_DHCP_ACTION","dhcp_on","PROVIDE_DHCP_ACTION","isFabricDefault","vlanLoaded","provideDHCPAction","getSpaceName","getActionByName","initProvideDHCP","forRelay","relayVLAN","maxIPs","startIP","endIP","gatewayIP","needsDynamicRange","iprange","statistics","suggested_dynamic_range","needsGatewayIP","subnetMissingGatewayIP","updatePrimaryRack","updateSecondaryRack","updateSubnet","filterPrimaryRack","suggested_gateway","num_addresses","startPlaceholder","endPlaceholder","gatewayPlaceholder","canPerformAction","gateway","configureDHCP","extraDHCP","relay","disableDHCP","deleteVLAN","getFullVLANName","getDHCPStatus","activeVLAN","requestedVLAN","zoneLoaded","zoneManager","isDefaultZone","activeZone","requestedZone","addZone","closeZone","directive","restrict","attrs","clickHandler","evt","toggleClass","on","off","template","$element","$document","design","templateUrl","files_version","saving","stopping","ubuntuImages","isNew","tooMany","showingAdvanced","connecting","errorMessage","source_type","keyring_filename","keyring_data","releases","selections","changed","ubuntuCoreImages","ubuntu_core","images","otherImages","other","generatedImages","customImages","ubuntuDeleteId","removingImage","getTitleIcon","showMirrorPath","isShowingAdvancedOptions","toggleAdvancedOptions","bothKeyringOptionsSet","showConnectButton","sourceChanged","currentSources","ubuntu","sources","prevNew","updateSource","regenerateUbuntuImages","connect","isConnectButtonDisabled","getSourceParams","selectDefaults","arch","fetch","fromJson","showConnectBlock","showSelections","getUbuntuLTSReleases","deleted","getUbuntuNonLTSReleases","getArchitectures","toggleSelection","showImagesTable","getResource","resource","resource_os","rtype","image","icon","beingDeleted","resourceId","downloading","name_split","regenerateUbuntuCoreImages","ubuntuCoreImage","checked","regenerateOtherImages","otherImage","_regenerateImages","image_id","regenerateGeneratedImages","regenerateCustomImages","ltsIsSelected","commissioningSeriesSelected","commissioning_series","cancelRemove","deleteImage","showStopImportButton","region_import_running","showSaveSelection","canSaveSelection","commissioning_series_being_deleted","commissioning_series_arches","getSaveSelectionText","canStopImport","getStopImportText","stopImport","saveSelection","saveUbuntu","getNewSelections","newObjs","oldSelections","newSelections","selection","source_len","toggleUbuntuCoreSelection","saveUbuntuCoreSelection","saveUbuntuCore","toggleOtherSelection","saveOtherSelection","saveOther","confirmDeleteImage","ready","startPolling","ubuntu_core_images","other_images","stopPolling","$templateCache","put","require","maasCta","ngModel","ngModelCtrl","defaultTitle","select","shown","$setViewValue","getTitle","$modelValue","secondary","getOptionTitle","$viewChangeListeners","$eval","ngChange","stopPropagation","$apply","$compile","include","maasCardLoader","contents","maasCodeLines","lines","newLine","insert","ngDisabled","maasEditing","focusHandler","blur","changeHandler","$render","$viewValue","unbind","$timeout","statuses","updateStatuses","controllerIds","checkImageStates","register","known","runningInterval","startTimeout","CHECK_INTERVAL","unregister","showSpinner","getImageStatus","ControllerImageStatusService","systemId","unwatch","registered","textOnly","getClass","countClass","classes","class_name","updateStatusClass","serviceClass","serviceText","styleElement","innerHTML","getElementsByTagName","BrowserService","transclude","maasDblClickOverlay","clickElement","overlay","tagName","createEvent","initMouseEvent","dispatchEvent","css","cursor","triggerHandler","overlayClick","preventDefault","overlayDblClick","browser","addClass","osInput","seriesInput","$attrs","osElement","seriesElement","switchTo","newOSValue","initialSkip","sel","split_value","removeClass","attr","modifyOption","first_option","hasClass","selectVisableOption","which","maasEnter","jasmine","Image","markDisconnected","connected","showDisconnected","clientError","wasConnected","watchConnection","isConnected","_error","disconnectedPromise","cancelTimeout","watchConnectionAndError","IPRangesManager","ipranges","iprangeManager","newRange","editIPRange","deleteIPRange","addRange","start_ip","end_ip","comment","cancelAddRange","ipRangeCanBeModified","range","isIPRangeInEditMode","ipRangeToggleEditMode","ipRangeClearEditMode","isIPRangeInDeleteMode","ipRangeEnterDeleteMode","ipRangeCancelDelete","ipRangeConfirmDelete","ipRangeSort","factory","visitPage","Bakery","WebHandler","BakeryStorage","localStorage","getBakery","loginURL","externalAuthURL","bakery","Info","VisitURL","nextPath","Accept","response","currentTarget","responseText","MAASFormController","savingKeys","managerMethod","cloneObject","clonedObj","isTableForm","tableForm","saveOnBlur","isSaving","showInputSaving","errorScope","registerField","unregisterField","startEditingField","stopEditingField","clearErrors","updatedObj","newObj","errorJson","errorField","setErrors","saveForm","newValue","inline","MAASGroupController","timeout","formController","keyIdx","pre","onChange","subtleText","subtle","missingAttrs","disabled","disableLabel","labelElement","labelWidth","labelWidthMobile","labelWidthTablet","labelLeft","append","labelInfo","infoWrapper","infoIcon","infoTooltip","inputWrapper","inputWidthMobile","inputWidthTablet","inputWidth","placeholder","inputElement","blurOnEnter","$applyAsync","currentValue","placeholderEnabled","childScope","$new","_ngDisabled","_selectValue","_selectNgChange","_change","checkScope","_selectedValues","_checked","_toggleChecked","tagsScope","_tags","hiddenScope","_toggle","switchScope","_changed","onValue","offValue","sliderScope","_slider","inputClass","errorsElement","helpText","helpTextElement","focus","subtleTextElement","removeAttr","ul","ele","macAddressFormat","numbers","$parsers","$formatters","hideCheckboxes","onListingChange","onCheckAll","onCheck","SPINNER_STATUSES","table","filteredMachines","updateAllChecked","$machine","showNodeStatus","other_test_status","getReleaseTitle","os_release","getStatusText","releaseTitle","$machines","NotificationsManager","notifications","dismiss","categories","categoryTitles","warning","success","categoryClasses","categoryNotifications","cns","category","notification","maasOsSelect","getSelectableReleases","allChoices","getSelectableKernels","kernels","os","osKernels","getDefaultOrFirst","array","defaultValue","weightValue","weightedPresent","setDefault","default_osystem","default_release","kernel","selectedOSChanged","selectedReleaseChanged","ngPlaceholder","hideType","podTypes","fieldsElement","updateFields","podType","$destroy","hideSlider","maasObjForm","getType","driver_type","req","input_type","replaceWith","maasPowerParameters","addKey","defaultConnect","createAuthorisationToken","token","injector","deleteKey","deleteAuthorisationToken","newScope","newElement","spinElement","prepend","prefsController","$sce","enableHttpProxy","usePeerProxy","proxy_type","releaseName","setText","maasReleaseOptions","onEraseChange","globalOptions","startTime","runTime","estimatedRunTime","scriptStatus","incrementCounter","seconds","minutes","hours","new_counter","scriptType","allScripts","getScripts","script","tags_string","onTagAdding","refocus","tagsInput","tagsInputScope","isolateScope","eventHandlers","input","change","for_hardware","getIcon","SSHKeysManager","groupedKeys","authId","sourceTitles","lp","gh","upload","openRow","rowMode","trustAsHtml","canImportKeys","importKeys","protocol","auth_id","__all__","confirmDelete","keyMap","groupObj","keysource","keysourceKey","switchHasError","filteredSwitches","switch_","$switch_","$switches","$attr","isToggled","toggleMenu","ngType","valid_types","LogService","reloadPage","enableAutoReload","site","href","oldValue","onResize","windowWidth","innerWidth","message","_loaded","_data","_polling","_nextPromise","_pollTimeout","_pollErrorTimeout","_pollEmptyTimeout","isLoaded","isPolling","_poll","_loadData","callMethod","newData","_pollAgain","pollTimeout","connection_error","Manager","_pk","_handler","registerNotifier","onNotify","NodesManager","service_ids","service_id","_metadataAttributes","_replaceItem","PollingManager","_batchKey","createDNSRecord","ip_addresses","updateDNSRecord","_items","EventsManager","nodeId","_nodeId","_factory","_maxDays","_managers","_initBatchLoadParameters","node_id","max_days","destroyManager","setMaximumDays","isLoading","_getManager","machine_actions","requested","polling","nextPromise","device_actions","request","region_controller_actions","rack_controller_actions","region_and_rack_controller_actions","min_hwe_kernels","replaceData","oldData","isEmpty","bond_options","newPowerType","oldPowerType","newItem","release_options","_autoReload","_type","_scopes","_getInternalData","isDataPolling","waitingCount","_reloadFunc","registerHandler","disableAutoReload","unregisterHandler","storage_tags","mountSpecialFilesystem","NodeResultsManager","_node","hardware_type","_getStorageSubtext","deviceinfo","_updateObject","existing","updated","_addOrReplace","showing_menu","_processItem","result_section","result_type","subtext","hardware_type_results","physical_blockdevice","_getIndexOfItem","_updateMetadata","_removeItemByIdFromArray","_selectedItems","hw_type","_area","has_surfaced","script_id","data_type","updateInterfaceForm","volume_group_id","blockdevice_id","createPartition","$cookies","MSG_TYPE","RESPONSE_TYPE","callbacks","requests","requestId","websocket","autoReconnect","retryTimeout","defaultConnectDefer","handlers","notifiers","newRequestId","func","unregisterNotifier","buildSocket","WebSocket","_buildUrl","onopen","onerror","onclose","onMessage","_getProtocol","host","pathname","csrftoken","base","newPath","newPort","encodeURIComponent","opened","errored","onResponse","request_id","remembered_request","remember","send","toJson","getLargestRange","largest_range","ranges","equals","purpose","hasDynamicRange","matching","_authUser","authuser","_loadAuthUser","reloadItems","addRackController","foreign_objects","standardFilter","mappings","cpu","cores","ram","memory","pod-id","matches","lowerTerm","exact","negate","_matches","terms","term","matched","mapFunc","substring","no_match","field2","aDate","bDate","config","$interpolateProvider","$routeProvider","$httpProvider","versionedPath","startSymbol","endSymbol","defaults","xsrfCookieName","xsrfHeaderName","routes","when","redirectTo","reloadOnSearch","controllerAs","superuser","otherwise","current","ga","q","userId","analytics_user_id","uuid","hash","regex","matcher","UNITS","unit","converted","units","block_size","ipv4ToOctets","octets","expandedAddress","groups","substr","ipv6ToGroups","jsonString","parse","_typeof","logging","logLevel","performance","_debug","debug","_log","_info","_warn","warn","formatMilliseconds","milliseconds","__log","unshift","METADATA_ACTIONS","CREATE","UPDATE","_name_field","_isLoading","_extraLoadDefers","_extraReloadDefers","_actionQueue","_activeItem","_metadata","pk_value","_replaceItemInArray","_batchLoadItems","extra_func","callLoad","_resolveDefers","defersArray","_rejectDefers","processActions","updatedIdx","updatedItem","updateItems","clearActiveItem","canProcessActions","_getMetadataValue","metadatas","_addMetadataValue","_removeMetadataValue","_updateMetadataArrayEntry","added","oldArray","_updateMetadataValueEntry","_updateMetadataEntry","oldItem","unloadManager","loadedManager","tryParsingJSON","SyntaxError","getPrintableString","dict","showNames","emptyFilter","getSplitSearch","fixedTerms","spanningParentheses","startIdx","searchTerms","_getFilterValueIndex","storedFilters","domainnamePattern","hostnamePattern","macPattern","ipv4Pattern","cidrMatcher","one","two","bits","domainname","macAddress","validateIPv4","validateIPv6","network","networkSplit","networkAddress","cidrBits","validateIPInRange","lowAddress","highAddress","ipOctets","lowOctets","highOctets"],"mappings":"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","file":"maas-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});","require('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.5.3' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = (!BUGGY && $native) || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = false;\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n","// https://rwaldron.github.io/proposal-math-extensions/\nmodule.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {\n  if (\n    arguments.length === 0\n      // eslint-disable-next-line no-self-compare\n      || x != x\n      // eslint-disable-next-line no-self-compare\n      || inLow != inLow\n      // eslint-disable-next-line no-self-compare\n      || inHigh != inHigh\n      // eslint-disable-next-line no-self-compare\n      || outLow != outLow\n      // eslint-disable-next-line no-self-compare\n      || outHigh != outHigh\n  ) return NaN;\n  if (x === Infinity || x === -Infinity) return x;\n  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var Map = require('./es6.map');\nvar $export = require('./_export');\nvar shared = require('./_shared')('metadata');\nvar store = shared.store || (shared.store = new (require('./es6.weak-map'))());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return undefined;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function (it) {\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function (O) {\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","'use strict';\n// Forced replacement prototype accessors methods\nmodule.exports = require('./_library') || !require('./_fails')(function () {\n  var K = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, K, function () { /* empty */ });\n  delete require('./_global')[K];\n});\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar TO_STRING = 'toString';\nvar $toString = Function[TO_STRING];\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","module.exports = function (regExp, replace) {\n  var replacer = replace === Object(replace) ? function (part) {\n    return replace[part];\n  } : replace;\n  return function (it) {\n    return String(it).replace(regExp, replacer);\n  };\n};\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export');\nvar $re = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = new Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","require('./_set-species')('Array');\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","// 20.2.2.17 Math.hypot([value1[, value2[, … ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);\n    existingDescriptor.value = V;\n    dP.f(receiver, propertyKey, existingDescriptor);\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split) {\n  'use strict';\n  var isRegExp = require('./_is-regexp');\n  var _split = $split;\n  var $push = [].push;\n  var $SPLIT = 'split';\n  var LENGTH = 'length';\n  var LAST_INDEX = 'lastIndex';\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    var NPCG = /()??/.exec('')[1] === undefined; // nonparticipating capturing group\n    // based on es5-shim implementation, need to rework it\n    $split = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return _split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var separator2, match, lastIndex, lastLength, i;\n      // Doesn't need flags gy, but they don't hurt\n      if (!NPCG) separator2 = new RegExp('^' + separatorCopy.source + '$(?!\\\\s)', flags);\n      while (match = separatorCopy.exec(string)) {\n        // `separatorCopy.lastIndex` is not reliable cross-browser\n        lastIndex = match.index + match[0][LENGTH];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          // Fix browsers whose `exec` methods don't consistently return `undefined` for NPCG\n          // eslint-disable-next-line no-loop-func\n          if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function () {\n            for (i = 1; i < arguments[LENGTH] - 2; i++) if (arguments[i] === undefined) match[i] = undefined;\n          });\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    $split = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit);\n    };\n  }\n  // 21.1.3.17 String.prototype.split(separator, limit)\n  return [function split(separator, limit) {\n    var O = defined(this);\n    var fn = separator == undefined ? undefined : separator[SPLIT];\n    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit);\n  }, $split];\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var final = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(final - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < final) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","'use strict';\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar validate = require('./_validate-collection');\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar tmp = {};\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (fails(function () { return new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7; })) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatten: function flatten(/* depthArg = 1 */) {\n    var depthArg = arguments[0];\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatten');\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export = require('./_export');\nvar microtask = require('./_microtask')();\nvar process = require('./_global').process;\nvar isNode = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export');\nvar cof = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it) {\n    return cof(it) === 'Error';\n  }\n});\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.G, { global: require('./_global') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clamp: function clamp(x, lower, upper) {\n    return Math.min(upper, Math.max(lower, x));\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar RAD_PER_DEG = 180 / Math.PI;\n\n$export($export.S, 'Math', {\n  degrees: function degrees(radians) {\n    return radians * RAD_PER_DEG;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar scale = require('./_math-scale');\nvar fround = require('./_math-fround');\n\n$export($export.S, 'Math', {\n  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {\n    return fround(scale(x, inLow, inHigh, outLow, outHigh));\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >> 16;\n    var v1 = $v >> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar DEG_PER_RAD = Math.PI / 180;\n\n$export($export.S, 'Math', {\n  radians: function radians(degrees) {\n    return degrees * DEG_PER_RAD;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { scale: require('./_math-scale') });\n","// http://jfbastien.github.io/papers/Math.signbit.html\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { signbit: function signbit(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;\n} });\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >>> 16;\n    var v1 = $v >>> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter) {\n    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter) {\n    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.get;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.set;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  } if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() { closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () { return this; });\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar getOrCreateMetadataMap = metadata.map;\nvar store = metadata.store;\n\nmetadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {\n  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);\n  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;\n  if (metadataMap.size) return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n} });\n","var Set = require('./es6.set');\nvar from = require('./_array-from-iterable');\nvar metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nvar ordinaryMetadataKeys = function (O, P) {\n  var oKeys = ordinaryOwnMetadataKeys(O, P);\n  var parent = getPrototypeOf(O);\n  if (parent === null) return oKeys;\n  var pKeys = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nvar ordinaryGetMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nvar ordinaryHasMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var $metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar toMetaKey = $metadata.key;\nvar ordinaryDefineOwnMetadata = $metadata.set;\n\n$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {\n  return function decorator(target, targetKey) {\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n} });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export');\nvar $at = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos) {\n    return $at(this, pos);\n  }\n});\n","'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export = require('./_export');\nvar defined = require('./_defined');\nvar toLength = require('./_to-length');\nvar isRegExp = require('./_is-regexp');\nvar getFlags = require('./_flags');\nvar RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function (regexp, string) {\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {\n  var match = this._r.exec(this._s);\n  return { value: match, done: match === null };\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp) {\n    defined(this);\n    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');\n    var S = String(this);\n    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);\n    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\n$export($export.P + $export.F * /Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(userAgent), 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\n$export($export.P + $export.F * /Version\\/10\\.\\d+(\\.\\d+)? Safari\\//.test(userAgent), 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', { global: require('./_global') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from\nrequire('./_set-collection-from')('WeakSet');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of\nrequire('./_set-collection-of')('WeakSet');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar userAgent = require('./_user-agent');\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n","require('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.array.flat-map');\nrequire('./modules/es7.array.flatten');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.map.of');\nrequire('./modules/es7.set.of');\nrequire('./modules/es7.weak-map.of');\nrequire('./modules/es7.weak-set.of');\nrequire('./modules/es7.map.from');\nrequire('./modules/es7.set.from');\nrequire('./modules/es7.weak-map.from');\nrequire('./modules/es7.weak-set.from');\nrequire('./modules/es7.global');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.clamp');\nrequire('./modules/es7.math.deg-per-rad');\nrequire('./modules/es7.math.degrees');\nrequire('./modules/es7.math.fscale');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.rad-per-deg');\nrequire('./modules/es7.math.radians');\nrequire('./modules/es7.math.scale');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.math.signbit');\nrequire('./modules/es7.promise.finally');\nrequire('./modules/es7.promise.try');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Add Device Controller\n */\n\nangular.module('MAAS').controller('AddDeviceController', [\n    '$scope', 'DevicesManager', 'SubnetsManager', 'DomainsManager',\n    'ManagerHelperService', 'ValidationService', function(\n        $scope, DevicesManager, SubnetsManager, DomainsManager,\n        ManagerHelperService, ValidationService) {\n\n        // Set the addDeviceScope in the parent, so it can call functions\n        // in this controller.\n        var parentScope = $scope.$parent;\n        parentScope.addDeviceScope = $scope;\n\n        // Set initial values.\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.domains = DomainsManager.getItems();\n        $scope.viewable = false;\n        $scope.error = null;\n\n        // Device ip assignment options.\n        $scope.ipAssignments = [\n            {\n                name: \"external\",\n                title: \"External\"\n            },\n            {\n                name: \"dynamic\",\n                title: \"Dynamic\"\n            },\n            {\n                name: \"static\",\n                title: \"Static\"\n            }\n        ];\n\n        // Makes a new interface.\n        function makeInterface() {\n            return {\n                mac: \"\",\n                ipAssignment: null,\n                subnetId: null,\n                ipAddress: \"\"\n            };\n        }\n\n        // Makes a new device.\n        function newDevice(cloneDevice) {\n            if(angular.isObject(cloneDevice)) {\n                return {\n                    name: \"\",\n                    domain: cloneDevice.domain,\n                    interfaces: [makeInterface()]\n                };\n            } else {\n                return {\n                    name: \"\",\n                    domain: DomainsManager.getDefaultDomain(),\n                    interfaces: [makeInterface()]\n                };\n            }\n        }\n\n        // Input values.\n        $scope.device = null;\n\n        // Converts the device information from how it is held in the UI to\n        // how it is handled over the websocket.\n        function convertDeviceToProtocol(device) {\n            // Return the new object.\n            var convertedDevice = {\n                hostname: device.name,\n                domain: device.domain,\n                primary_mac: device.interfaces[0].mac,\n                extra_macs: [],\n                interfaces: []\n            };\n            var i;\n            for(i = 1; i < device.interfaces.length; i++) {\n                convertedDevice.extra_macs.push(device.interfaces[i].mac);\n            }\n            angular.forEach(device.interfaces, function(nic) {\n                convertedDevice.interfaces.push({\n                    mac: nic.mac,\n                    ip_assignment: nic.ipAssignment.name,\n                    ip_address: nic.ipAddress,\n                    \"subnet\": nic.subnetId\n                });\n            });\n            return convertedDevice;\n        }\n\n        // Called by the parent scope when this controller is viewable.\n        $scope.show = function() {\n            // Exit early if already viewable.\n            if($scope.viewable) {\n                return;\n            }\n            // Load subnets to get the available subnets.\n            ManagerHelperService.loadManagers(\n                    $scope, [SubnetsManager, DomainsManager]).then(function() {\n                $scope.device = newDevice($scope.device);\n                $scope.viewable = true;\n            });\n        };\n\n        // Called by the parent scope when this controller is hidden.\n        $scope.hide = function() {\n            $scope.viewable = false;\n\n            ManagerHelperService.unloadManagers(\n                $scope, [SubnetsManager, DomainsManager]);\n            // Emit the hidden event.\n            $scope.$emit('addDeviceHidden');\n        };\n\n        // Returns true if the name is in error.\n        $scope.nameHasError = function() {\n            // If the name is empty don't show error.\n            if($scope.device === null || $scope.device.name.length === 0) {\n                return false;\n            }\n            return !ValidationService.validateHostname($scope.device.name);\n        };\n\n        // Returns true if the MAC is in error.\n        $scope.macHasError = function(deviceInterface) {\n            // If the MAC is empty don't show error.\n            if(deviceInterface.mac.length === 0) {\n                return false;\n            }\n            // If the MAC is invalid show error.\n            if(!ValidationService.validateMAC(deviceInterface.mac)) {\n                return true;\n            }\n            // If the MAC is the same as another MAC show error.\n            var i;\n            for(i = 0; i < $scope.device.interfaces.length; i++) {\n                var isSelf = $scope.device.interfaces[i] === deviceInterface;\n                if(!isSelf &&\n                    $scope.device.interfaces[i].mac === deviceInterface.mac) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Returns true if the IP address is in error.\n        $scope.ipHasError = function(deviceInterface) {\n            // If the IP is empty don't show error.\n            if(deviceInterface.ipAddress.length === 0) {\n                return false;\n            }\n            // If ip address is invalid, then exit early.\n            if(!ValidationService.validateIP(deviceInterface.ipAddress)) {\n                return true;\n            }\n            var i, inNetwork;\n            if(angular.isObject(deviceInterface.ipAssignment)){\n                if(deviceInterface.ipAssignment.name === \"external\") {\n                    // External IP address cannot be within a known subnet.\n                    for(i = 0; i < $scope.subnets.length; i++) {\n                        inNetwork = ValidationService.validateIPInNetwork(\n                            deviceInterface.ipAddress,\n                            $scope.subnets[i].cidr);\n                        if(inNetwork) {\n                            return true;\n                        }\n                    }\n                } else if(deviceInterface.ipAssignment.name === \"static\" &&\n                    angular.isNumber(deviceInterface.subnetId)) {\n                    // Static IP address must be within a subnet.\n                    var subnet = SubnetsManager.getItemFromList(\n                        deviceInterface.subnetId);\n                    inNetwork = ValidationService.validateIPInNetwork(\n                        deviceInterface.ipAddress, subnet.cidr);\n                    if(!inNetwork) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n        // Return true when the device is missing information or invalid\n        // information.\n        $scope.deviceHasError = function() {\n            if($scope.device === null || $scope.device.name === '' ||\n                    $scope.nameHasError()) {\n                return true;\n            }\n\n            var i;\n            for(i = 0; i < $scope.device.interfaces.length; i++) {\n                var deviceInterface = $scope.device.interfaces[i];\n                if(deviceInterface.mac === '' ||\n                    $scope.macHasError(deviceInterface) ||\n                    !angular.isObject(deviceInterface.ipAssignment)) {\n                    return true;\n                }\n                var externalIpError = (\n                    deviceInterface.ipAssignment.name === \"external\" && (\n                        deviceInterface.ipAddress === '' ||\n                        $scope.ipHasError(deviceInterface)));\n                var staticIpError = (\n                    deviceInterface.ipAssignment.name === \"static\" && (\n                        !angular.isNumber(deviceInterface.subnetId) ||\n                        $scope.ipHasError(deviceInterface)));\n                if(externalIpError || staticIpError) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Adds new interface to device.\n        $scope.addInterface = function() {\n            $scope.device.interfaces.push(makeInterface());\n        };\n\n        // Returns true if the first interface in the device interfaces array.\n        $scope.isPrimaryInterface = function(deviceInterface) {\n            return $scope.device.interfaces.indexOf(deviceInterface) === 0;\n        };\n\n        // Removes the interface from the devices interfaces array.\n        $scope.deleteInterface = function(deviceInterface) {\n            // Don't remove the primary.\n            if($scope.isPrimaryInterface(deviceInterface)) {\n                return;\n            }\n            $scope.device.interfaces.splice(\n                $scope.device.interfaces.indexOf(deviceInterface), 1);\n        };\n\n        // Called when cancel clicked.\n        $scope.cancel = function() {\n            $scope.error = null;\n            $scope.device = newDevice();\n            $scope.hide();\n        };\n\n        // Called when save is clicked.\n        $scope.save = function(addAnother) {\n            // Do nothing if device in error.\n            if($scope.deviceHasError()) {\n                return;\n            }\n\n            // Clear the error so it can be set again, if it fails to save\n            // the device.\n            $scope.error = null;\n\n            // Create the device.\n            var device = convertDeviceToProtocol($scope.device);\n            DevicesManager.create(device).then(function(device) {\n                if(addAnother) {\n                    $scope.device = newDevice($scope.device);\n                } else {\n                    $scope.device = newDevice();\n                    // Hide the scope if not adding another.\n                    $scope.hide();\n                }\n            }, function(error) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(error);\n            });\n        };\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Add Domain Controller\n */\n\nangular.module('MAAS').controller('AddDomainController', [\n    '$scope', 'DomainsManager', 'ManagerHelperService',\n    'ValidationService', function($scope, DomainsManager,\n        ManagerHelperService, ValidationService) {\n\n        // Set the addDomainScope in the parent, so it can call functions\n        // in this controller.\n        var parentScope = $scope.$parent;\n        parentScope.addDomainScope = $scope;\n\n        // Set initial values.\n        $scope.viewable = false;\n        $scope.error = null;\n\n        // Makes a new domain.\n        function makeDomain() {\n            return {\n                name: \"\",\n                authoritative: true\n            };\n        }\n\n        // Initial domain.\n        $scope.domain = makeDomain();\n\n        // Converts the domain information from how it is held in the UI to\n        // how it is handled over the websocket.  Since they're identical, we\n        // just return a copy: some day, they might be different, so we retain\n        // the function against that day.\n        function convertDomainToProtocol(domain) {\n            return angular.copy(domain);\n        }\n\n        // Called by the parent scope when this controller is viewable.\n        $scope.show = function() {\n            // Exit early if already viewable.\n            if($scope.viewable) {\n                return;\n            }\n            $scope.domain = makeDomain();\n            $scope.viewable = true;\n        };\n\n        // Called by the parent scope when this controller is hidden.\n        $scope.hide = function() {\n            $scope.viewable = false;\n\n            // Emit the hidden event.\n            $scope.$emit('addDomainHidden');\n        };\n\n        // Returns true if the name is in error.\n        $scope.nameHasError = function() {\n            // If the name is empty don't show error.\n            if($scope.domain.name.length === 0) {\n                return false;\n            }\n            return !ValidationService.validateDomainName($scope.domain.name);\n        };\n\n        // Return true when the domain is missing information or invalid\n        // information.\n        $scope.domainHasError = function() {\n            if($scope.domain.name === '' || $scope.nameHasError()) {\n                return true;\n            }\n\n            return false;\n        };\n\n        // Called when cancel clicked.\n        $scope.cancel = function() {\n            $scope.error = null;\n            $scope.domain = makeDomain();\n            $scope.hide();\n        };\n\n        // Called when save is clicked.\n        $scope.save = function(addAnother) {\n            // Do nothing if domain in error.\n            if($scope.domainHasError()) {\n                return;\n            }\n\n            // Clear the error so it can be set again, if it fails to save\n            // the domain.\n            $scope.error = null;\n\n            // Create the domain.\n            var domain = convertDomainToProtocol($scope.domain);\n            DomainsManager.create(domain).then(function() {\n                $scope.domain = makeDomain();\n                if(!addAnother) {\n                    // Hide the scope if not adding another.\n                    $scope.hide();\n                }\n            }, function(error) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(error);\n            });\n        };\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Add Hardware Controller\n */\n\nangular.module('MAAS').controller('AddHardwareController', [\n    '$q', '$scope', '$http', 'ZonesManager', 'ResourcePoolsManager',\n    'MachinesManager', 'GeneralManager', 'DomainsManager',\n    'RegionConnection', 'ManagerHelperService', 'ValidationService',\n    function(\n        $q, $scope, $http, ZonesManager, ResourcePoolsManager,\n        MachinesManager, GeneralManager, DomainsManager, RegionConnection,\n        ManagerHelperService, ValidationService) {\n\n        // Set the addHardwareScope in the parent, so it can call functions\n        // in this controller.\n        var parentScope = $scope.$parent;\n        parentScope.addHardwareScope = $scope;\n\n        // Set initial values.\n        $scope.viewable = false;\n        $scope.model = 'machine';\n        $scope.zones = ZonesManager.getItems();\n        $scope.pools = ResourcePoolsManager.getItems();\n        $scope.domains = DomainsManager.getItems();\n        $scope.architectures = GeneralManager.getData(\"architectures\");\n        $scope.architectures.push(\"Choose an architecture\");\n        $scope.hwe_kernels = GeneralManager.getData(\"hwe_kernels\");\n        $scope.default_min_hwe_kernel = GeneralManager.getData(\n            \"default_min_hwe_kernel\");\n        $scope.power_types = GeneralManager.getData(\"power_types\");\n        $scope.error = null;\n        $scope.macAddressRegex = /^([0-9A-F]{2}[::]){5}([0-9A-F]{2})$/gmi;\n\n        // Input values.\n        $scope.machine = null;\n        $scope.chassis = null;\n\n        // Hard coded chassis types. This is because there is no method in\n        // MAAS to get a full list of supported chassis. This needs to be\n        // fixed ASAP.\n        var virshFields = [\n            {\n                name: 'hostname',\n                label: 'Address',\n                field_type: 'string',\n                \"default\": '',  // Using \"default\" to make lint happy.\n                choices: [],\n                required: true\n            },\n            {\n                name: 'password',\n                label: 'Password',\n                field_type: 'string',\n                \"default\": '',\n                choices: [],\n                required: false\n            },\n            {\n                name: 'prefix_filter',\n                label: 'Prefix filter',\n                field_type: 'string',\n                \"default\": '',\n                choices: [],\n                required: false\n            }\n        ];\n        $scope.chassisPowerTypes = [\n            {\n                name: 'mscm',\n                description: 'Moonshot Chassis Manager',\n                fields: [\n                    {\n                        name: 'hostname',\n                        label: 'Host',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'username',\n                        label: 'Username',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'password',\n                        label: 'Password',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    }\n                ]\n            },\n            {\n                name: 'powerkvm',\n                description: 'PowerKVM',\n                fields: virshFields\n            },\n            {\n                name: 'recs_box',\n                description: 'Christmann RECS|Box',\n                fields: [\n                    {\n                        name: 'hostname',\n                        label: 'Hostname',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'port',\n                        label: 'Port',\n                        field_type: 'string',\n                        \"default\": '80',\n                        choices: [],\n                        required: false\n                    },\n                    {\n                        name: 'username',\n                        label: 'Username',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'password',\n                        label: 'Password',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    }\n                ]\n            },\n            {\n                name: 'seamicro15k',\n                description: 'SeaMicro 15000',\n                fields: [\n                    {\n                        name: 'hostname',\n                        label: 'Hostname',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'username',\n                        label: 'Username',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'password',\n                        label: 'Password',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'power_control',\n                        label: 'Power Control',\n                        field_type: 'choice',\n                        \"default\": 'restapi2',\n                        choices: [\n                            ['restapi2', 'REST API V2.0'],\n                            ['restapi', 'REST API V0.9'],\n                            ['ipmi', 'IPMI']\n                        ],\n                        required: true\n                    }\n                ]\n            },\n            {\n                name: 'ucsm',\n                description: 'UCS Chassis Manager',\n                fields: [\n                    {\n                        name: 'hostname',\n                        label: 'URL',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'username',\n                        label: 'Username',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'password',\n                        label: 'Password',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    }\n                ]\n            },\n            {\n                name: 'virsh',\n                description: 'Virsh (virtual systems)',\n                fields: virshFields\n            },\n            {\n                name: 'vmware',\n                description: 'VMware',\n                fields: [\n                    {\n                        name: 'hostname',\n                        label: 'Host',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'username',\n                        label: 'Username',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'password',\n                        label: 'Password',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: true\n                    },\n                    {\n                        name: 'prefix_filter',\n                        label: 'Prefix filter',\n                        field_type: 'string',\n                        \"default\": '',\n                        choices: [],\n                        required: false\n                    }\n                ]\n            }\n        ];\n\n        // Get the default zone from the loaded zones.\n        function defaultZone() {\n            if($scope.zones.length === 0) {\n                return null;\n            } else {\n                return $scope.zones[0];\n            }\n        }\n\n        // Get the default resource pools from loaded pools.\n        function defaultResourcePool() {\n            if($scope.pools.length === 0) {\n                return null;\n            } else {\n                return $scope.pools[0];\n            }\n        }\n\n        // Get the default architecture from the loaded architectures.\n        function defaultArchitecture() {\n            if($scope.architectures.length === 0) {\n                return '';\n            } else {\n                // Return amd64/generic first if available.\n                var i;\n                for(i = 0; i < $scope.architectures.length; i++) {\n                    if($scope.architectures[i] === \"amd64/generic\") {\n                        return $scope.architectures[i];\n                    }\n                }\n                return $scope.architectures[0];\n            }\n        }\n\n        // Return a new MAC address object.\n        function newMAC() {\n            return {\n                mac: '',\n                error: false\n            };\n        }\n\n        // Return a new machine object.\n        function newMachine(cloneMachine) {\n            // Clone the machine instead of just creating a new one.\n            // This helps the user by already having the previous selected\n            // items selected for the new machine.\n            if(angular.isObject(cloneMachine)) {\n                return {\n                    name: '',\n                    domain: cloneMachine.domain,\n                    macs: [newMAC()],\n                    zone: cloneMachine.zone,\n                    pool: cloneMachine.pool,\n                    architecture: cloneMachine.architecture,\n                    min_hwe_kernel: cloneMachine.min_hwe_kernel,\n                    power: {\n                        type: cloneMachine.power.type,\n                        parameters: {}\n                    }\n                };\n            }\n\n            // No clone machine. So create a new blank machine.\n            return {\n                name: '',\n                domain: DomainsManager.getDefaultDomain(),\n                macs: [newMAC()],\n                zone: defaultZone(),\n                pool: defaultResourcePool(),\n                architecture: defaultArchitecture(),\n                min_hwe_kernel: $scope.default_min_hwe_kernel.text,\n                power: {\n                    type: null,\n                    parameters: {}\n                }\n            };\n        }\n\n        // Return a new chassis object.\n        function newChassis(cloneChassis) {\n            // Clone the chassis instead of just creating a new one.\n            // This helps the user by already having the previous selected\n            // items selected for the new machine.\n            if(angular.isObject(cloneChassis)) {\n                return {\n                    domain: cloneChassis.domain,\n                    power: {\n                        type: null,\n                        parameters: {}\n                    }\n                };\n            } else {\n                return {\n                    domain: DomainsManager.getDefaultDomain(),\n                    power: {\n                        type: null,\n                        parameters: {}\n                    }\n                };\n            }\n        }\n\n        // Converts the machine information from how it is held in the UI to\n        // how it is handled over the websocket.\n        function convertMachineToProtocol(machine) {\n            // Convert the mac addresses.\n            var macs = angular.copy(machine.macs);\n            var pxe_mac = macs.shift().mac;\n            var extra_macs = macs.map(function(mac) { return mac.mac; });\n\n            // Return the new object.\n            return {\n                hostname: machine.name,\n                domain: machine.domain,\n                architecture: machine.architecture,\n                min_hwe_kernel: machine.min_hwe_kernel,\n                pxe_mac: pxe_mac,\n                extra_macs: extra_macs,\n                power_type: machine.power.type.name,\n                power_parameters: angular.copy(machine.power.parameters),\n                zone: {\n                    id: machine.zone.id,\n                    name: machine.zone.name\n                },\n                pool: {\n                    id: machine.pool.id,\n                    name: machine.pool.name\n                }\n            };\n        }\n\n        // Validate that all the parameters are there for the given power type.\n        function powerParametersHasError(power_type, parameters) {\n            var i;\n            for(i = 0; i < power_type.fields.length; i++) {\n                var field = power_type.fields[i];\n                var value = parameters[field.name];\n                if(field.required) {\n                    if(angular.isUndefined(value) || value === '') {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n\n        // Called by the parent scope when this controller is viewable.\n        $scope.show = function(mode) {\n            // Exit early if already viewable.\n            if($scope.viewable) {\n                return;\n            }\n\n            $scope.mode = mode;\n\n            var loadedItems = false, loadedManagers = false;\n            var defer = $q.defer();\n            defer.promise.then(function() {\n                   // Add the first machine and chassis.\n                $scope.machine = newMachine($scope.machine);\n                $scope.chassis = newChassis($scope.chassis);\n                $scope.error = null;\n\n                // If the machine doesn't have an architecture\n                // set then it was created before all of the\n                // architectures were loaded. Set the default\n                // architecture for that machine.\n                if(angular.isObject($scope.machine) &&\n                    $scope.machine.architecture === '') {\n                    $scope.machine.architecture = defaultArchitecture();\n                }\n                $scope.viewable = true;\n            });\n\n            // The parent scope has already loaded the GeneralManager. If the\n            // general manager is reloaded all items from the parents scope\n            // will be reloaded as well. Call loadItems so only the items\n            // the add hardware form cares about are loaded.\n            GeneralManager.loadItems([\n                \"architectures\", \"hwe_kernels\", \"default_min_hwe_kernel\"\n            ]).then(function() {\n                loadedItems = true;\n                if(loadedManagers) {\n                    defer.resolve();\n                }\n            });\n            ManagerHelperService.loadManagers(\n                $scope, [ZonesManager, DomainsManager]).then(function() {\n                    loadedManagers = true;\n                    if(loadedItems) {\n                        defer.resolve();\n                    }\n                });\n        };\n\n        // Called by the parent scope when this controller is hidden.\n        $scope.hide = function() {\n            $scope.viewable = false;\n\n            ManagerHelperService.unloadManagers(\n                $scope, [ZonesManager, DomainsManager]);\n\n            // Emit the hidden event.\n            $scope.$emit('addHardwareHidden');\n        };\n\n        // Return True when architectures loaded and in machine mode.\n        $scope.showMachine = function() {\n            if($scope.architectures.length === 0) {\n                return false;\n            }\n            return $scope.mode === \"machine\";\n        };\n\n        // Return True when architectures loaded and in chassis mode.\n        $scope.showChassis = function() {\n            if($scope.architectures.length === 0) {\n                return false;\n            }\n            return $scope.mode === \"chassis\";\n        };\n\n        // Add a new MAC address to the machine.\n        $scope.addMac = function() {\n            $scope.machine.macs.push(newMAC());\n        };\n\n        // Remove a MAC address to the machine.\n        $scope.removeMac = function(mac) {\n            var idx = $scope.machine.macs.indexOf(mac);\n            if(idx > -1) {\n                $scope.machine.macs.splice(idx, 1);\n            }\n        };\n\n        // Return true if the machine name is invalid.\n        $scope.invalidName = function() {\n            // Not invalid if empty.\n            if($scope.machine.name.length === 0) {\n                return false;\n            }\n            return !ValidationService.validateHostname($scope.machine.name);\n        };\n\n        // Validate that the mac address is valid.\n        $scope.validateMac = function(mac) {\n            if(mac.mac === '') {\n                mac.error = false;\n            } else {\n                mac.error = !ValidationService.validateMAC(mac.mac);\n            }\n        };\n\n        // Return true when the machine is missing information or invalid\n        // information.\n        $scope.machineHasError = function() {\n            // Early-out for errors.\n            in_error = (\n                $scope.machine === null ||\n                $scope.machine.zone === null ||\n                $scope.machine.pool === null ||\n                ($scope.machine.architecture === 'Choose an architecture' &&\n                    $scope.machine.power.type.name !== 'ipmi') ||\n                $scope.machine.power.type === null ||\n                $scope.invalidName($scope.machine));\n            if(in_error) {\n                return in_error;\n            }\n\n            // Make sure none of the mac addresses are in error. The first one\n            // cannot be blank the remaining are allowed to be empty.\n            if(($scope.machine.macs[0].mac === '' &&\n                $scope.machine.power.type.name !== 'ipmi') ||\n                $scope.machine.macs[0].error) {\n                return true;\n            }\n            var i;\n            for(i = 1; i < $scope.machine.macs.length; i++) {\n                var mac = $scope.machine.macs[i];\n                if(mac.mac !== '' && mac.error) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Return true if the chassis has errors.\n        $scope.chassisHasErrors = function() {\n            // Early-out for errors.\n            in_error = (\n                $scope.chassis === null ||\n                $scope.chassis.power.type === null);\n            if(in_error) {\n                return in_error;\n            }\n            return powerParametersHasError(\n                $scope.chassis.power.type, $scope.chassis.power.parameters);\n        };\n\n        // Called when the cancel button is pressed.\n        $scope.cancel = function() {\n            $scope.error = null;\n            $scope.machine = newMachine();\n            $scope.chassis = newChassis();\n\n            // Hide the controller.\n            $scope.hide();\n        };\n\n        // Called to perform the saving of the machine.\n        $scope.saveMachine = function(addAnother) {\n            // Does nothing if machine has errors.\n            if($scope.machineHasError()) {\n                return;\n            }\n\n            // Clear the error so it can be set again, if it fails to save\n            // the device.\n            $scope.error = null;\n\n            // Set the architecture to empty string if none was chosen.\n            if($scope.machine.architecture === \"Choose an architecture\") {\n                $scope.machine.architecture = '';\n            }\n\n            // Add the machine.\n            MachinesManager.create(\n                convertMachineToProtocol($scope.machine)).then(\n                    function() {\n                        if(addAnother) {\n                            $scope.machine = newMachine($scope.machine);\n                        } else {\n                            $scope.machine = newMachine();\n\n                            // Hide the scope if not adding another.\n                            $scope.hide();\n                        }\n                    }, function(error) {\n                        $scope.error =\n                            ManagerHelperService.parseValidationError(error);\n                    });\n        };\n\n        // Called to perform the saving of the chassis.\n        $scope.saveChassis = function(addAnother) {\n            // Does nothing if error exists.\n            if($scope.chassisHasErrors()) {\n                return;\n            }\n\n            // Clear the error so it can be set again, if it fails to save\n            // the device.\n            $scope.error = null;\n\n            // Create the parameters.\n            var params = angular.copy($scope.chassis.power.parameters);\n            params.chassis_type = $scope.chassis.power.type.name;\n            params.domain = $scope.chassis.domain.name;\n\n            // XXX ltrager 24-02-2016: Something is adding the username field\n            // even though its not defined in virshFields. The API rejects\n            // requests with improper fields so remove it before we send the\n            // request.\n            if(\n                    params.chassis_type === \"powerkvm\" ||\n                    params.chassis_type === \"virsh\") {\n                delete params.username;\n            }\n            // Add the chassis. For now we use the API as the websocket doesn't\n            // support probe and enlist.\n            $http({\n                method: 'POST',\n                url: 'api/2.0/machines/?op=add_chassis',\n                data: $.param(params),\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                }\n            }).then(function() {\n                if(addAnother) {\n                    $scope.chassis = newChassis($scope.chassis);\n                } else {\n                    $scope.chassis = newChassis();\n                    // Hide the scope if not adding another.\n                    $scope.hide();\n                }\n            }, function(error) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(error.data);\n            });\n        };\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Dashboard Controller\n */\n\nangular.module('MAAS').controller('DashboardController', [\n    '$scope', '$window', '$rootScope', '$routeParams', '$location',\n    'DiscoveriesManager', 'DomainsManager', 'MachinesManager',\n    'DevicesManager', 'SubnetsManager', 'VLANsManager', 'ConfigsManager',\n    'ManagerHelperService',\n    function($scope, $window, $rootScope, $routeParams, $location,\n             DiscoveriesManager, DomainsManager, MachinesManager,\n             DevicesManager, SubnetsManager, VLANsManager, ConfigsManager,\n             ManagerHelperService) {\n\n        // Default device IP options.\n        var deviceIPOptions = [\n            ['static', 'Static'],\n            ['dynamic', 'Dynamic'],\n            ['external', 'External']\n        ];\n\n        // Set title and page.\n        $rootScope.title = \"Dashboard\";\n        $rootScope.page = \"dashboard\";\n\n        // Set initial values.\n        $scope.loaded = false;\n        $scope.discoveredDevices = DiscoveriesManager.getItems();\n        $scope.domains = DomainsManager.getItems();\n        $scope.machines = MachinesManager.getItems();\n        $scope.devices = DevicesManager.getItems();\n        $scope.configManager = ConfigsManager;\n        $scope.networkDiscovery = null;\n        $scope.column = 'mac';\n        $scope.selectedDevice = null;\n        $scope.convertTo = null;\n\n        // Set default predicate to last_seen.\n        $scope.predicate = $scope.last_seen;\n\n        // Sorts the table by predicate.\n        $scope.sortTable = function(predicate) {\n            $scope.predicate = predicate;\n            $scope.reverse = !$scope.reverse;\n        };\n\n        // Proxy manager that the maas-obj-form directive uses to call the\n        // correct method based on current type.\n        $scope.proxyManager = {\n            updateItem: function(params) {\n                if($scope.convertTo.type === 'device') {\n                    return DevicesManager.createItem(params);\n                } else if($scope.convertTo.type === 'interface') {\n                    return DevicesManager.createInterface(params);\n                } else {\n                    throw new Error(\"Unknown type: \" + $scope.convertTo.type);\n                }\n            }\n        };\n\n        // Return the name name for the Discovery.\n        $scope.getDiscoveryName = function(discovery) {\n            if(discovery.hostname === null) {\n                return 'unknown';\n            }\n            else {\n                return discovery.hostname;\n            }\n        };\n\n        // Get the name of the subnet from its ID.\n        $scope.getSubnetName = function(subnetId) {\n            var subnet = SubnetsManager.getItemFromList(subnetId);\n            return SubnetsManager.getName(subnet);\n        };\n\n        // Get the name of the VLAN from its ID.\n        $scope.getVLANName = function(vlanId) {\n            var vlan = VLANsManager.getItemFromList(vlanId);\n            return VLANsManager.getName(vlan);\n        };\n\n        // Sets selected device\n        $scope.toggleSelected = function(deviceId) {\n            if($scope.selectedDevice === deviceId) {\n                $scope.selectedDevice = null;\n            } else {\n                var discovered = DiscoveriesManager.getItemFromList(deviceId);\n                var hostname = $scope.getDiscoveryName(discovered);\n                var domain;\n                if(hostname === 'unknown') {\n                    hostname = '';\n                }\n                if(hostname.indexOf('.') > 0) {\n                    domain = DomainsManager.getDomainByName(\n                        hostname.slice(hostname.indexOf('.') + 1));\n                    hostname = hostname.split(\".\", 1)[0];\n                    if(domain === null) {\n                        domain = DomainsManager.getDefaultDomain();\n                    }\n                } else {\n                    domain = DomainsManager.getDefaultDomain();\n                }\n                $scope.convertTo = {\n                    type: 'device',\n                    hostname: hostname,\n                    domain: domain,\n                    parent: null,\n                    ip_assignment: 'dynamic',\n                    goTo: false,\n                    saved: false,\n                    deviceIPOptions: deviceIPOptions.filter(\n                        function(option) {\n                            // Filter the options to not include static if\n                            // a subnet is not defined for this discovered\n                            // item.\n                            if(option[0] === 'static' &&\n                                !angular.isNumber(discovered.subnet)) {\n                                return false;\n                            } else {\n                                return true;\n                            }\n                        })\n                };\n                $scope.selectedDevice = deviceId;\n            }\n        };\n\n        // Called before the createItem is called to adjust the values\n        // passed over the call.\n        $scope.preProcess = function(item) {\n            var discovered = DiscoveriesManager.getItemFromList(\n                $scope.selectedDevice);\n            item = angular.copy(item);\n            if($scope.convertTo.type === 'device') {\n                item.primary_mac = discovered.mac_address;\n                item.extra_macs = [];\n                item.interfaces = [{\n                    mac: discovered.mac_address,\n                    ip_assignment: item.ip_assignment,\n                    ip_address: discovered.ip,\n                    subnet: discovered.subnet\n                }];\n            } else if($scope.convertTo.type === 'interface') {\n                item.mac_address = discovered.mac_address;\n                item.ip_address = discovered.ip;\n                item.subnet = discovered.subnet;\n            }\n            return item;\n        };\n\n        // Called after the createItem has been successful.\n        $scope.afterSave = function(obj) {\n            DiscoveriesManager._removeItem($scope.selectedDevice);\n            $scope.selectedDevice = null;\n            $scope.convertTo.hostname = obj.hostname;\n            $scope.convertTo.parent = obj.parent;\n            $scope.convertTo.saved = true;\n            if($scope.convertTo.goTo) {\n                if(angular.isString(obj.parent)) {\n                    $location.path('/device/' + obj.parent);\n                } else {\n                    $location.path('/devices/');\n                }\n            }\n        };\n\n        // Load all the managers and get the network discovery config item.\n        ManagerHelperService.loadManagers($scope, [\n            DiscoveriesManager, DomainsManager, MachinesManager,\n            DevicesManager, SubnetsManager, VLANsManager, ConfigsManager]).then(\n            function() {\n                $scope.loaded = true;\n                $scope.networkDiscovery = ConfigsManager.getItemFromList(\n                    'network_discovery');\n            });\n    }\n]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Domain Details Controller\n */\n\nangular.module('MAAS').controller('DomainDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$location',\n    'DomainsManager', 'UsersManager', 'ManagerHelperService', 'ErrorService',\n    function(\n        $scope, $rootScope, $routeParams, $location,\n        DomainsManager, UsersManager, ManagerHelperService, ErrorService) {\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Note: this value must match the top-level tab, in order for\n        // highlighting to occur properly.\n        $rootScope.page = \"domains\";\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.domain = null;\n        $scope.editSummary = false;\n        $scope.predicate = \"name\";\n        $scope.reverse = false;\n        $scope.action = null;\n        $scope.editRow = null;\n        $scope.deleteRow = null;\n\n        $scope.domainsManager = DomainsManager;\n        $scope.newObject = {};\n\n        $scope.supportedRecordTypes = [\n            'A', 'AAAA', 'CNAME', 'MX', 'NS', 'SRV', 'SSHFP', 'TXT'\n        ];\n\n        // Set default predicate to name.\n        $scope.predicate = 'name';\n\n        // Sorts the table by predicate.\n        $scope.sortTable = function(predicate) {\n            $scope.predicate = predicate;\n            $scope.reverse = !$scope.reverse;\n        };\n\n        $scope.enterEditSummary = function() {\n            $scope.editSummary = true;\n        };\n\n        // Called when the \"cancel\" button is clicked in the domain summary.\n        $scope.exitEditSummary = function() {\n            $scope.editSummary = false;\n        };\n\n        $scope.isRecordAutogenerated = function(row) {\n            // We can't edit records that don't have a dnsresource_id.\n            // (If the row doesn't have one, it has probably been automatically\n            // generated by means of a deployed node, or some other reason.)\n            return !row.dnsresource_id;\n        };\n\n        $scope.editRecord = function(row) {\n            $scope.editRow = row;\n            // We'll need the original values to determine if an update is\n            // required.\n            row.previous_rrdata = row.rrdata;\n            row.previous_rrtype = row.rrtype;\n            row.previous_name = row.name;\n            row.previous_ttl = row.ttl;\n            $scope.deleteRow = null;\n        };\n\n        $scope.removeRecord = function(row) {\n            $scope.deleteRow = row;\n            $scope.editRow = null;\n        };\n\n        $scope.confirmRemoveRecord = function(row) {\n            // The websocket handler needs the domain ID, so add it in.\n            row.domain = $scope.domain.id;\n            $scope.domainsManager.deleteDNSRecord(row);\n            $scope.stopEditingRow();\n        };\n\n        $scope.stopEditingRow = function() {\n            $scope.editRow = null;\n            $scope.deleteRow = null;\n        };\n\n        // Updates the page title.\n        function updateTitle() {\n            $rootScope.title = $scope.domain.displayname;\n        }\n\n        // Called when the domain has been loaded.\n        function domainLoaded(domain) {\n            $scope.domain = domain;\n            $scope.loaded = true;\n\n            updateTitle();\n        }\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Return true if this is the default domain.\n        $scope.isDefaultDomain = function() {\n            if(angular.isObject($scope.domain)) {\n                return $scope.domain.id === 0;\n            }\n            return false;\n        };\n\n        // Called to check if the space can be deleted.\n        $scope.canBeDeleted = function() {\n            if(angular.isObject($scope.domain)) {\n                return $scope.domain.rrsets.length === 0;\n            }\n            return false;\n        };\n\n        // Called when the delete domain button is pressed.\n        $scope.deleteButton = function() {\n            $scope.error = null;\n            $scope.actionInProgress = true;\n            $scope.action = 'delete';\n        };\n\n        // Called when the add record button is pressed.\n        $scope.addRecordButton = function() {\n            $scope.error = null;\n            $scope.actionInProgress = true;\n            $scope.action = 'add_record';\n        };\n\n        // Called when the cancel delete domain button is pressed.\n        $scope.cancelAction = function() {\n            $scope.actionInProgress = false;\n        };\n\n        // Called when the confirm delete domain button is pressed.\n        $scope.deleteConfirmButton = function() {\n            DomainsManager.deleteDomain($scope.domain).then(function() {\n                $scope.actionInProgress = false;\n                $location.path(\"/domains\");\n            }, function(error) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(error);\n            });\n        };\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers(\n            $scope, [DomainsManager, UsersManager]).then(function() {\n            // Possibly redirected from another controller that already had\n            // this domain set to active. Only call setActiveItem if not\n            // already the activeItem.\n            var activeDomain = DomainsManager.getActiveItem();\n            var requestedDomain = parseInt($routeParams.domain_id, 10);\n            if(isNaN(requestedDomain)) {\n                ErrorService.raiseError(\"Invalid domain identifier.\");\n            } else if(angular.isObject(activeDomain) &&\n                activeDomain.id === requestedDomain) {\n                domainLoaded(activeDomain);\n            } else {\n                DomainsManager.setActiveItem(\n                    requestedDomain).then(function(domain) {\n                        domainLoaded(domain);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Domains List Controller\n */\n\nangular.module('MAAS').controller('DomainsListController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', 'DomainsManager',\n    'UsersManager', 'ManagerHelperService',\n    function($scope, $rootScope, $routeParams, $filter, DomainsManager,\n        UsersManager, ManagerHelperService) {\n\n        // Load the filters that are used inside the controller.\n\n        // Set title and page.\n        $rootScope.title = \"DNS\";\n        $rootScope.page = \"domains\";\n\n        // Set initial values.\n        $scope.domains = DomainsManager.getItems();\n        $scope.currentpage = \"domains\";\n        $scope.predicate = \"name\";\n        $scope.reverse = false;\n        $scope.loading = true;\n\n        // This will hold the AddDomainController once it's initialized.  The\n        // controller will set this variable as it's always a child of this\n        // scope.\n        $scope.addDomainScope = null;\n\n        // Called when the add domain button is pressed.\n        $scope.addDomain = function() {\n            $scope.addDomainScope.show();\n        };\n\n        // Called when the cancel add domain button is pressed.\n        $scope.cancelAddDomain = function() {\n            $scope.addDomainScope.cancel();\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        ManagerHelperService.loadManagers(\n            $scope, [DomainsManager, UsersManager]).then(\n            function() {\n                $scope.loading = false;\n            });\n        }\n    ]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Fabric Details Controller\n */\n\nangular.module('MAAS').controller('FabricDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', '$location',\n    'FabricsManager', 'VLANsManager', 'SubnetsManager', 'SpacesManager',\n    'ControllersManager',\n    'UsersManager', 'ManagerHelperService', 'ErrorService',\n    function(\n        $scope, $rootScope, $routeParams, $filter, $location,\n        FabricsManager, VLANsManager, SubnetsManager, SpacesManager,\n        ControllersManager,\n        UsersManager, ManagerHelperService, ErrorService) {\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Note: this value must match the top-level tab, in order for\n        // highlighting to occur properly.\n        $rootScope.page = \"networks\";\n\n        // Initial values.\n        $scope.fabric = null;\n        $scope.fabricManager = FabricsManager;\n        $scope.editSummary = false;\n        $scope.vlans = VLANsManager.getItems();\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.controllers = ControllersManager.getItems();\n        $scope.loaded = false;\n\n        // Updates the page title.\n        function updateTitle() {\n            $rootScope.title = $scope.fabric.name;\n        }\n\n        // Called when the \"edit\" button is cliked in the fabric summary\n        $scope.enterEditSummary = function() {\n            $scope.editSummary = true;\n        };\n\n        // Called when the \"cancel\" button is cliked in the fabric summary\n        $scope.exitEditSummary = function() {\n            $scope.editSummary = false;\n        };\n\n        // Called when the fabric has been loaded.\n        function fabricLoaded(fabric) {\n            if(angular.isObject(fabric)) {\n                $scope.fabric = fabric;\n                updateTitle();\n                $scope.$watch(\"vlans\", updateVLANs, true);\n                $scope.$watch(\"subnets\", updateVLANs, true);\n                $scope.$watch(\"controllers\", updateVLANs, true);\n                $scope.loaded = true;\n                // Initial table sort order.\n                $scope.predicate = \"['vlan_name', 'vlan.id', 'subnet_name']\";\n            }\n        }\n\n        // Generate a table that can easily be rendered in the view.\n        function updateVLANs() {\n            var rows = [];\n            var racks = {};\n            angular.forEach($filter('filter')(\n                    $scope.vlans, {fabric:$scope.fabric.id}, true),\n                    function(vlan) {\n                var subnets =\n                    $filter('filter')($scope.subnets, {vlan:vlan.id}, true);\n                if(subnets.length > 0) {\n                    angular.forEach(subnets, function(subnet) {\n                        var space = SpacesManager.getItemFromList(subnet.space);\n                        var space_name = (space === null) ?\n                            \"(undefined)\" : space.name;\n                        var row = {\n                            vlan: vlan,\n                            vlan_name: VLANsManager.getName(vlan),\n                            subnet: subnet,\n                            subnet_name: SubnetsManager.getName(subnet),\n                            space: space,\n                            space_name: space_name\n                        };\n                        rows.push(row);\n                    });\n                } else {\n                    // If there are no subnets, populate a row based on the\n                    // information we have (just the VLAN).\n                    var row = {\n                        vlan: vlan,\n                        vlan_name: VLANsManager.getName(vlan),\n                        subnet: null,\n                        subnet_name: null,\n                        space: null,\n                        space_name: null\n                    };\n                    rows.push(row);\n                }\n                // Enumerate racks for vlan.\n                angular.forEach(vlan.rack_sids, function(rack_sid) {\n                    var rack = ControllersManager.getItemFromList(rack_sid);\n                    if(angular.isObject(rack)) {\n                        racks[rack.system_id] = rack;\n                    }\n                });\n            });\n            $scope.rows = rows;\n            $scope.racks = Object.keys(racks).map(function(key) {\n                return racks[key];\n            });\n        }\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Return true if this is the default Fabric\n        $scope.isDefaultFabric = function() {\n            if(!angular.isObject($scope.fabric)) {\n                return false;\n            }\n            return $scope.fabric.id === 0;\n        };\n\n        // Called to check if the space can be deleted.\n        $scope.canBeDeleted = function() {\n            if(angular.isObject($scope.fabric)) {\n                return $scope.fabric.id !== 0;\n            }\n            return false;\n        };\n\n        // Called when the delete fabric button is pressed.\n        $scope.deleteButton = function() {\n            $scope.error = null;\n            $scope.confirmingDelete = true;\n        };\n\n        // Called when the cancel delete fabric button is pressed.\n        $scope.cancelDeleteButton = function() {\n            $scope.confirmingDelete = false;\n        };\n\n        // Called when the confirm delete fabric button is pressed.\n        $scope.deleteConfirmButton = function() {\n            FabricsManager.deleteFabric($scope.fabric).then(function() {\n                $scope.confirmingDelete = false;\n                $location.path(\"/networks\");\n                $location.search('by', 'fabric');\n            }, function(reply) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(reply.error);\n            });\n        };\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers($scope, [\n            FabricsManager, VLANsManager, SubnetsManager, SpacesManager,\n            ControllersManager, UsersManager]).then(\n            function() {\n                // Possibly redirected from another controller that already had\n                // this fabric set to active. Only call setActiveItem if not\n                // already the activeItem.\n                var activeFabric = FabricsManager.getActiveItem();\n                var requestedFabric = parseInt($routeParams.fabric_id, 10);\n\n                if(isNaN(requestedFabric)) {\n                    ErrorService.raiseError(\"Invalid fabric identifier.\");\n                } else if(angular.isObject(activeFabric) &&\n                    activeFabric.id === requestedFabric) {\n                    fabricLoaded(activeFabric);\n                } else {\n                    FabricsManager.setActiveItem(\n                        requestedFabric).then(function(fabric) {\n                            fabricLoaded(fabric);\n                        }, function(error) {\n                            ErrorService.raiseError(error);\n                        });\n                }\n            });\n    }\n]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Images Controller\n */\n\nangular.module('MAAS').controller('ImagesController', [\n    '$rootScope', '$scope', 'BootResourcesManager',\n    'ConfigsManager', 'UsersManager', 'ManagerHelperService', function(\n        $rootScope, $scope, BootResourcesManager,\n        ConfigsManager, UsersManager, ManagerHelperService) {\n\n            $rootScope.page = \"images\";\n            $rootScope.title = \"Loading...\";\n\n            $scope.loading = true;\n            $scope.bootResources = BootResourcesManager.getData();\n            $scope.configManager = ConfigsManager;\n            $scope.autoImport = null;\n\n            // Return true if the user is a super user.\n            $scope.isSuperUser = function() {\n                return UsersManager.isSuperUser();\n            };\n\n            // Load the required managers.\n            ManagerHelperService.loadManagers(\n                $scope, [ConfigsManager, UsersManager]).then(function() {\n                $scope.autoImport = ConfigsManager.getItemFromList(\n                    \"boot_images_auto_import\");\n            });\n\n            // The boot-images directive will load the bootResources manager,\n            // we just watch until resources is set. That means the page is\n            // loaded.\n            $scope.$watch(\"bootResources.resources\", function() {\n                if(angular.isArray($scope.bootResources.resources)) {\n                    $scope.loading = false;\n                    $rootScope.title = \"Images\";\n                }\n            });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Intro Controller\n */\n\nangular.module('MAAS').controller('IntroController', [\n    '$rootScope', '$scope', '$window', '$location',\n    'ConfigsManager', 'PackageRepositoriesManager', 'BootResourcesManager',\n    'ManagerHelperService',\n    function(\n        $rootScope, $scope, $window, $location,\n        ConfigsManager, PackageRepositoriesManager, BootResourcesManager,\n        ManagerHelperService) {\n\n            $rootScope.page = \"intro\";\n            $rootScope.title = \"Welcome\";\n\n            $scope.loading = true;\n            $scope.configManager = ConfigsManager;\n            $scope.repoManager = PackageRepositoriesManager;\n            $scope.bootResources = BootResourcesManager.getData();\n            $scope.hasImages = false;\n            $scope.maasName = null;\n            $scope.upstreamDNS = null;\n            $scope.mainArchive = null;\n            $scope.portsArchive = null;\n            $scope.httpProxy = null;\n\n            // Set the skip function on the rootScope to allow skipping the\n            // intro view.\n            $rootScope.skip = function() {\n                $scope.clickContinue(true);\n            };\n\n            // Return true if the welcome section is not in error.\n            $scope.welcomeInError = function() {\n                var form = $scope.maasName.$maasForm;\n                if(angular.isObject(form)) {\n                    return form.hasErrors();\n                } else {\n                    return false;\n                }\n            };\n\n            // Return true if the network section is in error.\n            $scope.networkInError = function() {\n                var inError = false;\n                var objs = [\n                    $scope.upstreamDNS,\n                    $scope.mainArchive,\n                    $scope.portsArchive,\n                    $scope.httpProxy];\n                angular.forEach(objs, function(obj) {\n                    var form = obj.$maasForm;\n                    if(angular.isObject(form) && form.hasErrors()) {\n                        inError = true;\n                    }\n                });\n                return inError;\n            };\n\n            // Return true if continue can be clicked.\n            $scope.canContinue = function() {\n                return (\n                    !$scope.welcomeInError() &&\n                    !$scope.networkInError() &&\n                    $scope.hasImages);\n            };\n\n            // Called when continue button is clicked.\n            $scope.clickContinue = function(force) {\n                if(angular.isUndefined(force)) {\n                    force = false;\n                }\n                if(force || $scope.canContinue()) {\n                    ConfigsManager.updateItem({\n                        'name': 'completed_intro',\n                        'value': true\n                    }).then(function() {\n                        // Reload the whole page so that the MAAS_config will be\n                        // set to the new value.\n                        $window.location.reload();\n                    });\n                }\n            };\n\n            // If intro has been completed redirect to '/'.\n            if(MAAS_config.completed_intro) {\n                $location.path('/');\n            } else {\n                // Load the required managers.\n                var managers = [ConfigsManager, PackageRepositoriesManager];\n                ManagerHelperService.loadManagers(\n                    $scope, managers).then(function() {\n                    $scope.loading = false;\n                    $scope.maasName = ConfigsManager.getItemFromList(\n                        \"maas_name\");\n                    $scope.upstreamDNS = ConfigsManager.getItemFromList(\n                        \"upstream_dns\");\n                    $scope.httpProxy = ConfigsManager.getItemFromList(\n                        \"http_proxy\");\n                    $scope.mainArchive = (\n                        PackageRepositoriesManager.getItems().filter(\n                            function(repo) {\n                                return (repo['default'] &&\n                                    repo.name === \"main_archive\");\n                            })[0]);\n                    $scope.portsArchive = (\n                        PackageRepositoriesManager.getItems().filter(\n                            function(repo) {\n                                return (repo['default'] &&\n                                    repo.name === \"ports_archive\");\n                            })[0]);\n                });\n\n                // Don't load the boot resources as the boot-images directive\n                // performs that action. Just watch and make sure that\n                // at least one resource exists before continuing.\n                $scope.$watch(\"bootResources.resources\", function() {\n                    if(angular.isArray($scope.bootResources.resources) &&\n                        $scope.bootResources.resources.length > 0) {\n                        $scope.hasImages = true;\n                    } else {\n                        $scope.hasImages = false;\n                    }\n                });\n            }\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Intro Controller\n */\n\nangular.module('MAAS').controller('IntroUserController', [\n    '$rootScope', '$scope', '$window', '$location',\n    'UsersManager', 'ManagerHelperService',\n    function(\n        $rootScope, $scope, $window, $location,\n        UsersManager, ManagerHelperService) {\n\n            $rootScope.page = \"intro\";\n            $rootScope.title = \"Welcome\";\n\n            $scope.loading = true;\n            $scope.user = null;\n\n            // Set the skip function on the rootScope to allow skipping the\n            // intro view.\n            $rootScope.skip = function() {\n                $scope.clickContinue(true);\n            };\n\n            // Return true if super user.\n            $scope.isSuperUser = function() {\n                return UsersManager.isSuperUser();\n            };\n\n            // Return true if continue can be clicked.\n            $scope.canContinue = function() {\n                return $scope.user.sshkeys_count > 0;\n            };\n\n            // Called when continue button is clicked.\n            $scope.clickContinue = function(force) {\n                if(angular.isUndefined(force)) {\n                    force = false;\n                }\n                if(force || $scope.canContinue()) {\n                    UsersManager.markIntroComplete().then(function() {\n                        // Reload the whole page so that the MAAS_config will\n                        // be set to the new value.\n                        $window.location.reload();\n                    });\n                }\n            };\n\n            // If intro has been completed redirect to '/'.\n            if(MAAS_config.user_completed_intro) {\n                $location.path('/');\n            } else {\n                // Load the required managers.\n                ManagerHelperService.loadManager(\n                    $scope, UsersManager).then(function() {\n                        $scope.loading = false;\n                        $scope.user = UsersManager.getAuthUser();\n                    });\n            }\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Networks List Controller\n */\n\nangular.module('MAAS').controller('NetworksListController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', '$location',\n    'SubnetsManager', 'FabricsManager', 'SpacesManager', 'VLANsManager',\n    'UsersManager', 'ManagerHelperService',\n    function($scope, $rootScope, $routeParams, $filter, $location,\n             SubnetsManager, FabricsManager, SpacesManager, VLANsManager,\n             UsersManager, ManagerHelperService) {\n\n        // Load the filters that are used inside the controller.\n        var filterByVLAN = $filter('filterByVLAN');\n        var filterByFabric = $filter('filterByFabric');\n        var filterBySpace = $filter('filterBySpace');\n        var filterByNullSpace = $filter('filterByNullSpace');\n\n        // Set title and page.\n        $rootScope.title = \"Subnets\";\n        $rootScope.page = \"networks\";\n\n        // Set the initial value of $scope.groupBy based on the URL\n        // parameters, but default to the 'fabric' groupBy if it's not found.\n        $scope.getURLParameters = function() {\n            if(angular.isString($location.search().by)) {\n                $scope.groupBy = $location.search().by;\n            } else {\n                $scope.groupBy = 'fabric';\n            }\n        };\n\n        $scope.ADD_FABRIC_ACTION = {\n            name: \"add_fabric\",\n            title: \"Fabric\",\n            selectedTitle: \"Add fabric\",\n            objectName: 'fabric'\n        };\n        $scope.ADD_VLAN_ACTION = {\n            name: \"add_vlan\",\n            title: \"VLAN\",\n            selectedTitle: \"Add VLAN\",\n            objectName: 'vlan'\n        };\n        $scope.ADD_SPACE_ACTION = {\n            name: \"add_space\",\n            title: \"Space\",\n            selectedTitle: \"Add space\",\n            objectName: 'space'\n        };\n        $scope.ADD_SUBNET_ACTION = {\n            name: \"add_subnet\",\n            title: \"Subnet\",\n            selectedTitle: \"Add subnet\",\n            objectName: 'subnet'\n        };\n\n        $scope.getURLParameters();\n\n        // Set initial values.\n        $scope.subnetManager = SubnetsManager;\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.fabricManager = FabricsManager;\n        $scope.fabrics = FabricsManager.getItems();\n        $scope.spaceManager = SpacesManager;\n        $scope.spaces = SpacesManager.getItems();\n        $scope.vlanManager = VLANsManager;\n        $scope.vlans = VLANsManager.getItems();\n        $scope.loading = true;\n\n        $scope.group = {};\n        // Used when grouping by fabrics.\n        $scope.group.fabrics = {};\n        // User when grouping by spaces.\n        $scope.group.spaces = {};\n        $scope.group.spaces.orphanVLANs = [];\n\n        // Initializers for action objects.\n        var actionObjectInitializers = {\n            fabric: function() {\n                return {};\n            },\n            vlan: function() {\n                // Set initial fabric.\n                return {\n                    fabric: $scope.fabrics[0].id\n                };\n            },\n            space: function() {\n                return {};\n            },\n            subnet: function() {\n                // Set initial VLAN and space.\n                return {\n                    vlan: $scope.fabrics[0].vlan_ids[0]\n                };\n            }\n        };\n\n        // Return the name of the subnet.\n        function getSubnetName(subnet) {\n            return SubnetsManager.getName(subnet);\n        }\n\n        // Generate a table that can be easily rendered in the view.\n        // Traverses the fabrics and VLANs in-order so that if previous\n        // fabrics and VLANs' names are identical, they can be hidden from\n        // the table cell.\n        function updateFabricsGroupBy() {\n            var rows = [];\n            var previous_fabric = {id:-1};\n            var previous_vlan = {id:-1};\n            var fabrics = $filter('orderBy')($scope.fabrics, ['name']);\n            angular.forEach(fabrics, function(fabric) {\n                var vlans = filterByFabric($scope.vlans, fabric);\n                vlans = $filter('orderBy')(vlans, ['vid']);\n                angular.forEach(vlans, function(vlan) {\n                    var subnets = filterByVLAN($scope.subnets, vlan);\n                    if(subnets.length > 0) {\n                        angular.forEach(subnets, function(subnet) {\n                            var space = SpacesManager.getItemFromList(\n                                subnet.space);\n                            var row = {\n                                fabric: fabric,\n                                fabric_name: \"\",\n                                vlan: vlan,\n                                vlan_name: \"\",\n                                space: space,\n                                subnet: subnet,\n                                subnet_name: getSubnetName(subnet)\n                            };\n                            if(fabric.id !== previous_fabric.id) {\n                                previous_fabric.id = fabric.id;\n                                row.fabric_name = fabric.name;\n                            }\n                            if(vlan.id !== previous_vlan.id) {\n                                previous_vlan.id = vlan.id;\n                                row.vlan_name = $scope.getVLANName(vlan);\n                            }\n                            rows.push(row);\n                        });\n                    } else {\n                        var row = {\n                            fabric: fabric,\n                            fabric_name: \"\",\n                            vlan: vlan,\n                            vlan_name: $scope.getVLANName(vlan)\n                        };\n                        if(fabric.id !== previous_fabric.id) {\n                            previous_fabric.id = fabric.id;\n                            row.fabric_name = fabric.name;\n                        }\n                        rows.push(row);\n                    }\n                });\n            });\n            $scope.group.fabrics.rows = rows;\n        }\n\n        // Generate a table that can be easily rendered in the view.\n        // Traverses the spaces in-order so that if the previous space's name\n        // is identical, it can be hidden from the table cell.\n        // Note that this view only shows items that can be related to a space.\n        // That is, VLANs and fabrics with no corresponding subnets (and\n        // therefore spaces) cannot be shown in this table.\n        function updateSpacesGroupBy() {\n            var rows = [];\n            var spaces = $filter('orderBy')($scope.spaces, ['name']);\n            var previous_space = {id: -1};\n            angular.forEach(spaces, function(space) {\n                var subnets = filterBySpace($scope.subnets, space);\n                subnets = $filter('orderBy')(subnets, ['cidr']);\n                var index = 0;\n                angular.forEach(subnets, function(subnet) {\n                    index++;\n                    var vlan = VLANsManager.getItemFromList(subnet.vlan);\n                    var fabric = FabricsManager.getItemFromList(vlan.fabric);\n                    var row = {\n                        fabric: fabric,\n                        vlan: vlan,\n                        vlan_name: $scope.getVLANName(vlan),\n                        subnet: subnet,\n                        subnet_name: getSubnetName(subnet),\n                        space: space,\n                        space_name: \"\"\n                    };\n                    if(space.id !== previous_space.id) {\n                        previous_space.id = space.id;\n                        row.space_name = space.name;\n                    }\n                    rows.push(row);\n                });\n                if(index === 0) {\n                    rows.push({\n                        space: space,\n                        space_name: space.name\n                    });\n                }\n            });\n            $scope.group.spaces.rows = rows;\n        }\n\n        function updateOrphanVLANs() {\n            var rows = [];\n            var subnets = filterByNullSpace($scope.subnets);\n            subnets = $filter('orderBy')(subnets, ['cidr']);\n            angular.forEach(subnets, function(subnet) {\n                var vlan = VLANsManager.getItemFromList(subnet.vlan);\n                var fabric = FabricsManager.getItemFromList(vlan.fabric);\n                var row = {\n                    fabric: fabric,\n                    vlan: vlan,\n                    vlan_name: $scope.getVLANName(vlan),\n                    subnet: subnet,\n                    subnet_name: getSubnetName(subnet),\n                    space: null\n                };\n                rows.push(row);\n            });\n            $scope.group.spaces.orphanVLANs = rows;\n        }\n\n        // Update the \"Group by\" selection. This is called from a few places:\n        // * When the $watch notices data has changed\n        // * When the URL bar is updated, after the URL is parsed and\n        //   $scope.groupBy is updated\n        // * When the drop-down \"Group by\" selection box changes\n        $scope.updateGroupBy = function() {\n            var groupBy = $scope.groupBy;\n            if(groupBy === 'space') {\n                $location.search('by', 'space');\n                updateSpacesGroupBy();\n                updateOrphanVLANs();\n            } else {\n                // The only other option is 'fabric', but in case the user\n                // made a typo on the URL bar we just assume it was 'fabric'\n                // as a fallback.\n                $location.search('by', 'fabric');\n                updateFabricsGroupBy();\n            }\n        };\n\n        // Called when the managers load to populate the actions the user\n        // is allowed to perform.\n        $scope.updateActions = function() {\n            if(UsersManager.isSuperUser()) {\n                $scope.actionOptions = [\n                    $scope.ADD_FABRIC_ACTION,\n                    $scope.ADD_VLAN_ACTION,\n                    $scope.ADD_SPACE_ACTION,\n                    $scope.ADD_SUBNET_ACTION\n                ];\n            } else {\n                $scope.actionOptions = [];\n            }\n        };\n\n        // Called when a action is selected.\n        $scope.actionChanged = function() {\n            $scope.newObject = (\n                actionObjectInitializers[$scope.actionOption.objectName]());\n        };\n\n        // Called when the \"Cancel\" button is pressed.\n        $scope.cancelAction = function() {\n            $scope.actionOption = null;\n            $scope.newObject = null;\n        };\n\n        // Return the name name for the VLAN.\n        $scope.getVLANName = function(vlan) {\n            return VLANsManager.getName(vlan);\n        };\n\n        // Return the name of the fabric from its given ID.\n        $scope.getFabricNameById = function(fabricId) {\n            return FabricsManager.getName(\n                FabricsManager.getItemFromList(fabricId));\n        };\n\n        // Called before the subnet object is saved. Sets the fabric\n        // field to be the fabric for the selected VLAN.\n        $scope.actionSubnetPreSave = function(obj) {\n            obj.fabric = VLANsManager.getItemFromList(obj.vlan).fabric;\n            return obj;\n        };\n\n        ManagerHelperService.loadManagers($scope, [\n            SubnetsManager, FabricsManager, SpacesManager, VLANsManager,\n            UsersManager]).then(\n            function() {\n                $scope.loading = false;\n\n                $scope.updateActions();\n\n                $scope.$watch(\n                    \"[subnets, fabrics, spaces, vlans]\",\n                    $scope.updateGroupBy, true);\n\n                // If the route has been updated, a new search string must\n                // potentially be rendered.\n                $scope.$on(\"$routeUpdate\", function() {\n                    $scope.getURLParameters();\n                    $scope.updateGroupBy();\n                });\n                $scope.updateGroupBy();\n            });\n    }\n]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Node Details Controller\n */\n\nangular.module('MAAS').controller('NodeDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$location', '$interval',\n    'DevicesManager', 'MachinesManager', 'ControllersManager', 'ZonesManager',\n    'GeneralManager', 'UsersManager', 'TagsManager', 'DomainsManager',\n    'ManagerHelperService', 'ServicesManager', 'ErrorService',\n    'ValidationService', 'ScriptsManager', 'ResourcePoolsManager', function(\n        $scope, $rootScope, $routeParams, $location, $interval, DevicesManager,\n        MachinesManager, ControllersManager, ZonesManager, GeneralManager,\n        UsersManager, TagsManager, DomainsManager, ManagerHelperService,\n        ServicesManager, ErrorService, ValidationService, ScriptsManager,\n        ResourcePoolsManager) {\n\n        // Mapping of device.ip_assignment to viewable text.\n        var DEVICE_IP_ASSIGNMENT = {\n            external: \"External\",\n            dynamic: \"Dynamic\",\n            \"static\": \"Static\"\n        };\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Initial values.\n        $scope.MAAS_config = MAAS_config;\n        $scope.loaded = false;\n        $scope.node = null;\n        $scope.action = {\n          option: null,\n          allOptions: null,\n          availableOptions: [],\n          error: null,\n          showing_confirmation: false\n        };\n        $scope.power_types = GeneralManager.getData(\"power_types\");\n        $scope.osinfo = GeneralManager.getData(\"osinfo\");\n        $scope.section = {\n            area: angular.isString(\n                $routeParams.area) ? $routeParams.area : \"summary\"\n        };\n        $scope.osSelection = {\n            osystem: null,\n            release: null,\n            hwe_kernel: null\n        };\n        $scope.commissionOptions = {\n            enableSSH: false,\n            skipNetworking: false,\n            skipStorage: false,\n            updateFirmware: false,\n            configureHBA: false\n        };\n        $scope.commissioningSelection = [];\n        $scope.testSelection = [];\n        $scope.releaseOptions = {};\n        $scope.checkingPower = false;\n        $scope.devices = [];\n        $scope.scripts = ScriptsManager.getItems();\n\n        // Node header section.\n        $scope.header = {\n            editing: false,\n            editing_domain: false,\n            hostname: {\n                value: \"\"\n            },\n            domain: {\n                selected: null,\n                options: DomainsManager.getItems()\n            }\n        };\n\n        // Summary section.\n        $scope.summary = {\n            editing: false,\n            architecture: {\n                selected: null,\n                options: GeneralManager.getData(\"architectures\")\n            },\n            min_hwe_kernel: {\n                selected: null,\n                options: GeneralManager.getData(\"min_hwe_kernels\")\n            },\n            zone: {\n                selected: null,\n                options: ZonesManager.getItems()\n            },\n            pool: {\n                selected: null,\n                options: ResourcePoolsManager.getItems()\n            },\n            tags: []\n        };\n\n        // Service monitor section (for controllers).\n        $scope.services = {};\n\n        // Power section.\n        $scope.power = {\n            editing: false,\n            type: null,\n            bmc_node_count: 0,\n            parameters: {},\n            in_pod: false\n        };\n\n        // Get the display text for device ip assignment type.\n        $scope.getDeviceIPAssignment = function(ipAssignment) {\n            return DEVICE_IP_ASSIGNMENT[ipAssignment];\n        };\n\n        // Events section.\n        $scope.events = {\n            limit: 10\n        };\n\n        // Updates the page title.\n        function updateTitle() {\n            if($scope.node && $scope.node.fqdn) {\n                $rootScope.title = $scope.node.fqdn;\n            }\n        }\n\n        function updateHeader() {\n            // Don't update the value if in editing mode. As this would\n            // overwrite the users changes.\n            if($scope.header.editing || $scope.header.editing_domain) {\n                return;\n            }\n            $scope.header.hostname.value = $scope.node.fqdn;\n            // DomainsManager gives us all Domain information while the node\n            // only contains the name and id. Because of this we need to loop\n            // through the DomainsManager options and find the option with the\n            // id matching the node id. Otherwise we end up setting our\n            // selected field to an option not from DomainsManager which\n            // doesn't work.\n            var i;\n            for(i=0;i<$scope.header.domain.options.length;i++) {\n                var option = $scope.header.domain.options[i];\n                if(option.id === $scope.node.domain.id) {\n                    $scope.header.domain.selected = option;\n                    break;\n                }\n            }\n        }\n\n        // Update the available action options for the node.\n        function updateAvailableActionOptions() {\n            if(!angular.isObject($scope.node)) {\n                return;\n            }\n            var actionTypeForNodeType = {\n                0: \"machine_actions\",\n                1: \"device_actions\",\n                2: \"rack_controller_actions\",\n                3: \"region_controller_actions\",\n                4: \"region_and_rack_controller_actions\"\n            };\n            if(GeneralManager.isDataLoaded(\n                    actionTypeForNodeType[$scope.node.node_type])) {\n                // Build the available action options control from the\n                // allowed actions, except set-zone which does not make\n                // sense in this view because the form has this\n                // functionality\n                $scope.action.allOptions = GeneralManager.getData(\n                    actionTypeForNodeType[$scope.node.node_type]);\n                $scope.action.availableOptions.length = 0;\n                angular.forEach($scope.action.allOptions, function(option) {\n                    if($scope.node.actions.indexOf(option.name) >= 0\n                       && option.name !== \"set-zone\"\n                       && option.name !== \"set-pool\") {\n                        $scope.action.availableOptions.push(option);\n                    }\n                });\n            } else {\n                // The GeneralManager only loads data requested on load. This\n                // isn't called until after load as its triggered on the loaded\n                // node's actions. If the node's action list isn't loaded load\n                // it then update the available options.\n                var self = updateAvailableActionOptions;\n                GeneralManager.loadItems(\n                    [actionTypeForNodeType[$scope.node.node_type]]).then(\n                    updateAvailableActionOptions);\n            }\n        }\n\n        // Updates the currently selected items in the power section.\n        function updatePower() {\n            // Do not update the selected items, when editing this would\n            // cause the users selection to change.\n            if($scope.power.editing) {\n                return;\n            }\n\n            var i;\n            $scope.power.type = null;\n            for(i = 0; i < $scope.power_types.length; i++) {\n                if($scope.node.power_type === $scope.power_types[i].name) {\n                    $scope.power.type = $scope.power_types[i];\n                    break;\n                }\n            }\n\n            $scope.power.bmc_node_count = $scope.node.power_bmc_node_count;\n\n            $scope.power.parameters = angular.copy(\n                $scope.node.power_parameters);\n            if(!angular.isObject($scope.power.parameters)) {\n                $scope.power.parameters = {};\n            }\n\n            // Force editing mode on, if the power_type is missing for a\n            // machine. This is placed at the bottom because we wanted the\n            // selected items to be filled in at least once.\n            if($scope.canEdit() && $scope.node.power_type === \"\" &&\n               $scope.node.node_type === 0) {\n                $scope.power.editing = true;\n            }\n\n            $scope.power.in_pod = angular.isDefined($scope.node.pod);\n        }\n\n        // Updates the currently selected items in the summary section.\n        function updateSummary() {\n            // Do not update the selected items, when editing this would\n            // cause the users selection to change.\n            if($scope.summary.editing) {\n                return;\n            }\n\n            if(angular.isObject($scope.node.zone)) {\n                $scope.summary.zone.selected = ZonesManager.getItemFromList(\n                    $scope.node.zone.id);\n            }\n            if(angular.isObject($scope.node.pool)) {\n                $scope.summary.pool.selected = (\n                    ResourcePoolsManager.getItemFromList($scope.node.pool.id));\n            }\n            $scope.summary.architecture.selected = $scope.node.architecture;\n            $scope.summary.min_hwe_kernel.selected = $scope.node.min_hwe_kernel;\n            $scope.summary.tags = angular.copy($scope.node.tags);\n\n            // Force editing mode on, if the architecture is invalid. This is\n            // placed at the bottom because we wanted the selected items to\n            // be filled in at least once.\n            if($scope.canEdit() &&\n                $scope.hasUsableArchitectures() &&\n                $scope.hasInvalidArchitecture()) {\n                $scope.summary.editing = true;\n            }\n        }\n\n        // Updates the service monitor section.\n        function updateServices() {\n            if($scope.isController) {\n                $scope.services = {};\n                angular.forEach(ControllersManager.getServices(\n                        $scope.node), function(service) {\n                    $scope.services[service.name] = service;\n                });\n            }\n        }\n\n        // Update the devices array on the scope based on the device children\n        // on the node.\n        function updateDevices() {\n            $scope.devices = [];\n            angular.forEach($scope.node.devices, function(child) {\n                var device = {\n                    name: child.fqdn\n                };\n\n                // Add the interfaces to the device object if any exists.\n                if(angular.isArray(child.interfaces) &&\n                    child.interfaces.length > 0) {\n                    angular.forEach(child.interfaces, function(nic, nicIdx) {\n                        var deviceWithMAC = angular.copy(device);\n                        deviceWithMAC.mac_address = nic.mac_address;\n\n                        // Remove device name so it is not duplicated in the\n                        // table since this is another MAC address on this\n                        // device.\n                        if(nicIdx > 0) {\n                            deviceWithMAC.name = \"\";\n                        }\n\n                        // Add this links to the device object if any exists.\n                        if(angular.isArray(nic.links) &&\n                            nic.links.length > 0) {\n                            angular.forEach(nic.links, function(link, lIdx) {\n                                var deviceWithLink = angular.copy(\n                                    deviceWithMAC);\n                                deviceWithLink.ip_address = link.ip_address;\n\n                                // Remove the MAC address so it is not\n                                // duplicated in the table since this is\n                                // another link on this interface.\n                                if(lIdx > 0) {\n                                    deviceWithLink.mac_address = \"\";\n                                }\n\n                                $scope.devices.push(deviceWithLink);\n                            });\n                        } else {\n                            $scope.devices.push(deviceWithMAC);\n                        }\n                    });\n                } else {\n                    $scope.devices.push(device);\n                }\n            });\n        }\n\n        // Starts the watchers on the scope.\n        function startWatching() {\n            // Update the title and name when the node fqdn changes.\n            $scope.$watch(\"node.fqdn\", function() {\n                updateTitle();\n                updateHeader();\n            });\n\n            // Update the devices on the node.\n            $scope.$watch(\"node.devices\", updateDevices);\n\n            // Update the availableActionOptions when the node actions change.\n            $scope.$watch(\"node.actions\", updateAvailableActionOptions);\n\n            // Update the summary when the node or architectures list is\n            // updated.\n            $scope.$watch(\"node.architecture\", updateSummary);\n            $scope.$watchCollection(\n                $scope.summary.architecture.options, updateSummary);\n\n            // Uppdate the summary when min_hwe_kernel is updated.\n            $scope.$watch(\"node.min_hwe_kernel\", updateSummary);\n            $scope.$watchCollection(\n                $scope.summary.min_hwe_kernel.options, updateSummary);\n\n            // Update the summary when the node or zone list is\n            // updated.\n            $scope.$watch(\"node.zone.id\", updateSummary);\n            $scope.$watchCollection(\n                $scope.summary.zone.options, updateSummary);\n\n            // Update the summary when the node or the resouce pool list is\n            // updated.\n            $scope.$watch(\"node.pool.id\", updateSummary);\n            $scope.$watchCollection(\n                $scope.summary.pool.options, updateSummary);\n\n            // Update the power when the node power_type or power_parameters\n            // are updated.\n            $scope.$watch(\"node.power_type\", updatePower);\n            $scope.$watch(\"node.power_parameters\", updatePower);\n            $scope.$watchCollection(\"power_types\", updatePower);\n\n            // Update the services when the services list is updated.\n            $scope.$watch(\"node.service_ids\", updateServices);\n        }\n\n        // Called when the node has been loaded.\n        function nodeLoaded(node) {\n            $scope.node = node;\n            $scope.loaded = true;\n\n            updateTitle();\n            updateSummary();\n            updateServices();\n            startWatching();\n\n            // Tell the storageController and networkingController that the\n            // node has been loaded.\n            if(angular.isObject($scope.storageController)) {\n                $scope.storageController.nodeLoaded();\n            }\n            if(angular.isObject($scope.networkingController)) {\n                $scope.networkingController.nodeLoaded();\n            }\n        }\n\n        // Update the node with new data on the region.\n        $scope.updateNode = function(node, queryPower) {\n            if(angular.isUndefined(queryPower)) {\n                queryPower = false;\n            }\n            return $scope.nodesManager.updateItem(node).then(function(node) {\n                updateHeader();\n                updateSummary();\n                if(queryPower) {\n                    $scope.checkPowerState();\n                }\n            }, function(error) {\n                console.log(error);\n                updateHeader();\n                updateSummary();\n            });\n        };\n\n        // Called for autocomplete when the user is typing a tag name.\n        $scope.tagsAutocomplete = function(query) {\n            return TagsManager.autocomplete(query);\n        };\n\n        $scope.getPowerStateClass = function() {\n            // This will get called very early and node can be empty.\n            // In that case just return an empty string. It will be\n            // called again to show the correct information.\n            if(!angular.isObject($scope.node)) {\n                return \"\";\n            }\n\n            if($scope.checkingPower) {\n                return \"checking\";\n            } else {\n                return $scope.node.power_state;\n            }\n        };\n\n        // Get the power state text to show.\n        $scope.getPowerStateText = function() {\n            // This will get called very early and node can be empty.\n            // In that case just return an empty string. It will be\n            // called again to show the correct information.\n            if(!angular.isObject($scope.node)) {\n                return \"\";\n            }\n\n            if($scope.checkingPower) {\n                return \"Checking power\";\n            } else if($scope.node.power_state === \"unknown\") {\n                return \"\";\n            } else {\n                return \"Power \" + $scope.node.power_state;\n            }\n        };\n\n        // Returns true when the \"check now\" button for updating the power\n        // state should be shown.\n        $scope.canCheckPowerState = function() {\n            // This will get called very early and node can be empty.\n            // In that case just return false. It will be\n            // called again to show the correct information.\n            if(!angular.isObject($scope.node)) {\n                return false;\n            }\n            return (\n                $scope.node.power_state !== \"unknown\" &&\n                !$scope.checkingPower);\n        };\n\n        // Check the power state of the node.\n        $scope.checkPowerState = function() {\n            $scope.checkingPower = true;\n            $scope.nodesManager.checkPowerState($scope.node).then(function() {\n                $scope.checkingPower = false;\n            });\n        };\n\n        $scope.isUbuntuOS = function() {\n            // This will get called very early and node can be empty.\n            // In that case just return an empty string. It will be\n            // called again to show the correct information.\n            if(!angular.isObject($scope.node)) {\n                return false;\n            }\n\n            if($scope.node.osystem === \"ubuntu\") {\n                return true;\n            }\n            return false;\n        };\n\n        $scope.isUbuntuCoreOS = function() {\n            // This will get called very early and node can be empty.\n            // In that case just return an empty string. It will be\n            // called again to show the correct information.\n            if(!angular.isObject($scope.node)) {\n                return false;\n            }\n\n            if($scope.node.osystem === \"ubuntu-core\") {\n                return true;\n            }\n            return false;\n        };\n\n        $scope.isCustomOS = function() {\n            // This will get called very early and node can be empty.\n            // In that case just return an empty string. It will be\n            // called again to show the correct information.\n            if(!angular.isObject($scope.node)) {\n                return false;\n            }\n\n            if($scope.node.osystem === \"custom\") {\n                return true;\n            }\n            return false;\n        };\n\n        // Return true if there is an action error.\n        $scope.isActionError = function() {\n            return $scope.action.error !== null;\n        };\n\n        // Return True if in deploy action and the osinfo is missing.\n        $scope.isDeployError = function() {\n            // Never a deploy error when there is an action error.\n            if($scope.isActionError()) {\n                return false;\n            }\n\n            var missing_osinfo = (\n                angular.isUndefined($scope.osinfo.osystems) ||\n                $scope.osinfo.osystems.length === 0);\n            if(angular.isObject($scope.action.option) &&\n                $scope.action.option.name === \"deploy\" &&\n                missing_osinfo) {\n                return true;\n            }\n            return false;\n        };\n\n        // Return True if unable to deploy because of missing ssh keys.\n        $scope.isSSHKeyError = function() {\n            // Never a deploy error when there is an action error.\n            if($scope.isActionError()) {\n                return false;\n            }\n            if(angular.isObject($scope.action.option) &&\n                $scope.action.option.name === \"deploy\" &&\n                UsersManager.getSSHKeyCount() === 0) {\n                return true;\n            }\n            return false;\n        };\n\n        // Called when the actionOption has changed.\n        $scope.action.optionChanged = function() {\n            // Clear the action error.\n            $scope.action.error = null;\n            $scope.action.showing_confirmation = false;\n        };\n\n        // Cancel the action.\n        $scope.actionCancel = function() {\n            $scope.action.option = null;\n            $scope.action.error = null;\n            $scope.action.showing_confirmation = false;\n        };\n\n        // Perform the action.\n        $scope.actionGo = function() {\n            var extra = {};\n            var i;\n            // Set deploy parameters if a deploy.\n            if($scope.action.option.name === \"deploy\" &&\n                angular.isString($scope.osSelection.osystem) &&\n                angular.isString($scope.osSelection.release)) {\n\n                // Set extra. UI side the release is structured os/release, but\n                // when it is sent over the websocket only the \"release\" is\n                // sent.\n                extra.osystem = $scope.osSelection.osystem;\n                var release = $scope.osSelection.release;\n                release = release.split(\"/\");\n                release = release[release.length-1];\n                extra.distro_series = release;\n                // hwe_kernel is optional so only include it if its specified\n                if(angular.isString($scope.osSelection.hwe_kernel) &&\n                   ($scope.osSelection.hwe_kernel.indexOf('hwe-') >= 0 ||\n                    $scope.osSelection.hwe_kernel.indexOf('ga-') >= 0)) {\n                    extra.hwe_kernel = $scope.osSelection.hwe_kernel;\n                }\n            } else if($scope.action.option.name === \"commission\") {\n                extra.enable_ssh = $scope.commissionOptions.enableSSH;\n                extra.skip_networking = (\n                    $scope.commissionOptions.skipNetworking);\n                extra.skip_storage = $scope.commissionOptions.skipStorage;\n                extra.commissioning_scripts = [];\n                for(i=0;i<$scope.commissioningSelection.length;i++) {\n                    extra.commissioning_scripts.push(\n                        $scope.commissioningSelection[i].id);\n                }\n                if($scope.commissionOptions.updateFirmware) {\n                    extra.commissioning_scripts.push('update_firmware')\n                }\n                if($scope.commissionOptions.configureHBA) {\n                    extra.commissioning_scripts.push('configure_hba')\n                }\n                if(extra.commissioning_scripts.length === 0) {\n                    // Tell the region not to run any custom commissioning\n                    // scripts.\n                    extra.commissioning_scripts.push('none');\n                }\n                extra.testing_scripts = [];\n                for(i=0;i<$scope.testSelection.length;i++) {\n                    extra.testing_scripts.push($scope.testSelection[i].id);\n                }\n                if(extra.testing_scripts.length === 0) {\n                    // Tell the region not to run any tests.\n                    extra.testing_scripts.push('none');\n                }\n            } else if($scope.action.option.name === \"test\") {\n                if($scope.node.status_code === 6 &&\n                        !$scope.action.showing_confirmation) {\n                    $scope.action.showing_confirmation = true;\n                    return;\n                }\n                // Set the test options.\n                extra.enable_ssh = $scope.commissionOptions.enableSSH;\n                extra.testing_scripts = [];\n                for(i=0;i<$scope.testSelection.length;i++) {\n                    extra.testing_scripts.push($scope.testSelection[i].id);\n                }\n                if(extra.testing_scripts.length === 0) {\n                    // Tell the region not to run any tests.\n                    extra.testing_scripts.push('none');\n                }\n            } else if($scope.action.option.name === \"release\") {\n                // Set the release options.\n                extra.erase = $scope.releaseOptions.erase;\n                extra.secure_erase = $scope.releaseOptions.secureErase;\n                extra.quick_erase = $scope.releaseOptions.quickErase;\n            }\n\n            $scope.nodesManager.performAction(\n                $scope.node, $scope.action.option.name, extra).then(function() {\n                    // If the action was delete, then go back to listing.\n                    if($scope.action.option.name === \"delete\") {\n                        $location.path(\"/machines\");\n                    }\n                    $scope.action.option = null;\n                    $scope.action.error = null;\n                    $scope.action.showing_confirmation = false;\n                    $scope.osSelection.$reset();\n                    $scope.commissionOptions.enableSSH = false;\n                    $scope.commissionOptions.skipNetworking = false;\n                    $scope.commissionOptions.skipStorage = false;\n                    $scope.commissionOptions.updateFirmware = false;\n                    $scope.commissionOptions.configureHBA = false;\n                    $scope.commissioningSelection = [];\n                    $scope.testSelection = [];\n                }, function(error) {\n                    $scope.action.error = error;\n                });\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Return true if their are usable architectures.\n        $scope.hasUsableArchitectures = function() {\n            return $scope.summary.architecture.options.length > 0;\n        };\n\n        // Return the placeholder text for the architecture dropdown.\n        $scope.getArchitecturePlaceholder = function() {\n            if($scope.hasUsableArchitectures()) {\n                return \"Choose an architecture\";\n            } else {\n                return \"-- No usable architectures --\";\n            }\n        };\n\n        // Return true if the saved architecture is invalid.\n        $scope.hasInvalidArchitecture = function() {\n            if(angular.isObject($scope.node)) {\n                return (\n                    !$scope.isDevice && (\n                        $scope.node.architecture === \"\" ||\n                        $scope.summary.architecture.options.indexOf(\n                            $scope.node.architecture) === -1));\n            } else {\n                return false;\n            }\n        };\n\n        // Return true if the current architecture selection is invalid.\n        $scope.invalidArchitecture = function() {\n            return (\n                !$scope.isDevice && !$scope.isController && (\n                    $scope.summary.architecture.selected === \"\" ||\n                    $scope.summary.architecture.options.indexOf(\n                        $scope.summary.architecture.selected) === -1));\n        };\n\n        // Return true if at least a rack controller is connected to the\n        // region controller.\n        $scope.isRackControllerConnected = function() {\n            // If power_types exist then a rack controller is connected.\n            return $scope.power_types.length > 0;\n        };\n\n        // Return true if the node is locked\n        $scope.isLocked = function() {\n            if ($scope.node === null) {\n                return false;\n            }\n\n            return $scope.node.locked;\n        };\n\n        // Return true when the edit buttons can be clicked.\n        $scope.canEdit = function() {\n            // Devices can be edited, since either the user is a super\n            // user, or he owns the device (since he can't see devices\n            // that he doesn't own).\n            if ($scope.isDevice) {\n                return true;\n            }\n            return (\n                $scope.isRackControllerConnected() &&\n                    $scope.isSuperUser() &&\n                    ! $scope.isLocked());\n        };\n\n        // Called to edit the domain name.\n        $scope.editHeaderDomain = function() {\n            if($scope.canEdit()) {\n                return;\n            }\n\n            // Do nothing if already editing because we don't want to reset\n            // the current value.\n            if($scope.header.editing_domain) {\n                return;\n            }\n            $scope.header.editing = false;\n            $scope.header.editing_domain = true;\n\n            // Set the value to the hostname, as hostname and domain are edited\n            // using different fields.\n            $scope.header.hostname.value = $scope.node.hostname;\n        };\n\n        // Called to edit the node name.\n        $scope.editHeader = function() {\n            if(!$scope.canEdit()) {\n                return;\n            }\n\n            // Do nothing if already editing because we don't want to reset\n            // the current value.\n            if($scope.header.editing) {\n                return;\n            }\n            $scope.header.editing = true;\n            $scope.header.editing_domain = false;\n\n            // Set the value to the hostname, as hostname and domain are edited\n            // using different fields.\n            $scope.header.hostname.value = $scope.node.hostname;\n        };\n\n        // Return true when the hostname or domain in the header is invalid.\n        $scope.editHeaderInvalid = function() {\n            // Not invalid unless editing.\n            if(!$scope.header.editing && !$scope.header.editing_domain) {\n                return false;\n            }\n\n            // The value cannot be blank.\n            var value = $scope.header.hostname.value;\n            if(value.length === 0) {\n                return true;\n            }\n            return !ValidationService.validateHostname(value);\n        };\n\n        // Called to cancel editing of the node hostname and domain.\n        $scope.cancelEditHeader = function() {\n            $scope.header.editing = false;\n            $scope.header.editing_domain = false;\n            updateHeader();\n        };\n\n        // Called to save editing of node hostname or domain.\n        $scope.saveEditHeader = function() {\n            // Does nothing if invalid.\n            if($scope.editHeaderInvalid()) {\n                return;\n            }\n            $scope.header.editing = false;\n            $scope.header.editing_domain = false;\n\n            // Copy the node and make the changes.\n            var node = angular.copy($scope.node);\n            node.hostname = $scope.header.hostname.value;\n            node.domain = $scope.header.domain.selected;\n\n            // Update the node.\n            $scope.updateNode(node);\n        };\n\n        // Called to enter edit mode in the summary section.\n        $scope.editSummary = function() {\n            if(!$scope.canEdit()) {\n                return;\n            }\n            $scope.summary.editing = true;\n        };\n\n        // Called to cancel editing in the summary section.\n        $scope.cancelEditSummary = function() {\n            // Leave edit mode only if node has valid architecture.\n            if($scope.isDevice || $scope.isController) {\n                $scope.summary.editing = false;\n            } else if(!$scope.hasInvalidArchitecture()) {\n                $scope.summary.editing = false;\n            }\n\n            updateSummary();\n        };\n\n        // Called to save the changes made in the summary section.\n        $scope.saveEditSummary = function() {\n            // Do nothing if invalidArchitecture.\n            if($scope.invalidArchitecture()) {\n                return;\n            }\n\n            $scope.summary.editing = false;\n\n            // Copy the node and make the changes.\n            var node = angular.copy($scope.node);\n            node.zone = angular.copy($scope.summary.zone.selected);\n            node.pool = angular.copy($scope.summary.pool.selected);\n            node.architecture = $scope.summary.architecture.selected;\n            if($scope.summary.min_hwe_kernel.selected === null) {\n                node.min_hwe_kernel = \"\";\n            } else {\n                node.min_hwe_kernel = $scope.summary.min_hwe_kernel.selected;\n            }\n            node.tags = [];\n            angular.forEach($scope.summary.tags, function(tag) {\n                node.tags.push(tag.text);\n            });\n\n            // Update the node.\n            $scope.updateNode(node);\n        };\n\n        // Return true if the current power type selection is invalid.\n        $scope.invalidPowerType = function() {\n            return !angular.isObject($scope.power.type);\n        };\n\n        // Called to enter edit mode in the power section.\n        $scope.editPower = function() {\n            if(!$scope.canEdit()) {\n                return;\n            }\n            $scope.power.editing = true;\n        };\n\n        // Called to cancel editing in the power section.\n        $scope.cancelEditPower = function() {\n            // If the node is not a machine, only leave edit mode if node has\n            // valid power type.\n            if ($scope.node.node_type !== 0 || $scope.node.power_type !== \"\") {\n                $scope.power.editing = false;\n            }\n            updatePower();\n        };\n\n        // Called to save the changes made in the power section.\n        $scope.saveEditPower = function() {\n            // Does nothing if invalid power type.\n            if($scope.invalidPowerType()) {\n                return;\n            }\n            $scope.power.editing = false;\n\n            // Copy the node and make the changes.\n            var node = angular.copy($scope.node);\n            node.power_type = $scope.power.type.name;\n            node.power_parameters = angular.copy($scope.power.parameters);\n\n            // Update the node.\n            $scope.updateNode(node, true);\n        };\n\n        // Return true if the \"load more\" events button should be available.\n        $scope.allowShowMoreEvents = function() {\n            if(!angular.isObject($scope.node)) {\n                return false;\n            }\n            if(!angular.isArray($scope.node.events)) {\n                return false;\n            }\n            return (\n                $scope.node.events.length > 0 &&\n                $scope.node.events.length > $scope.events.limit &&\n                $scope.events.limit < 50);\n        };\n\n        // Show another 10 events.\n        $scope.showMoreEvents = function() {\n            $scope.events.limit += 10;\n        };\n\n        // Return the nice text for the given event.\n        $scope.getEventText = function(event) {\n            var text = event.type.description;\n            if(angular.isString(event.description) &&\n                event.description.length > 0) {\n                text += \" - \" + event.description;\n            }\n            return text;\n        };\n\n        $scope.getPowerEventError = function() {\n            if(!angular.isObject($scope.node) ||\n                !angular.isArray($scope.node.events)) {\n                return;\n            }\n\n            var i;\n            for(i = 0; i < $scope.node.events.length; i++) {\n                var event = $scope.node.events[i];\n                if(event.type.level === \"warning\" &&\n                   event.type.description === \"Failed to query node's BMC\") {\n                    // Latest power event is an error\n                    return event;\n                } else if(event.type.level === \"info\" &&\n                          event.type.description === \"Queried node's BMC\") {\n                    // Latest power event is not an error\n                    return;\n                }\n            }\n            // No power event found, thus no error\n            return;\n        };\n\n        $scope.hasPowerEventError = function() {\n            var event = $scope.getPowerEventError();\n            return angular.isObject(event);\n        };\n\n        $scope.getPowerEventErrorText = function() {\n            var event = $scope.getPowerEventError();\n            if(angular.isObject(event)) {\n                // Return text\n                return event.description;\n            } else {\n                return \"\";\n            }\n        };\n\n        // true if power error prevents the provided action\n        $scope.hasActionPowerError = function(actionName) {\n            if(!$scope.hasPowerError()) {\n                return false; // no error, no need to check state\n            }\n            // these states attempt to manipulate power\n            var powerChangingStates = [\n                'commission',\n                'deploy',\n                'on',\n                'off',\n                'release'\n            ];\n            if(actionName && powerChangingStates.indexOf(actionName) > -1) {\n                return true;\n            }\n            return false;\n        };\n\n        // Check to see if the power type has any missing system packages.\n        $scope.hasPowerError = function() {\n            if(angular.isObject($scope.power.type)) {\n                return $scope.power.type.missing_packages.length > 0;\n            } else {\n                return false;\n            }\n        };\n\n        // Returns a formatted string of missing system packages.\n        $scope.getPowerErrors = function() {\n            var i;\n            var result = \"\";\n            if(angular.isObject($scope.power.type)) {\n                var packages = $scope.power.type.missing_packages;\n                packages.sort();\n                for(i = 0; i < packages.length; i++) {\n                    result += packages[i];\n                    if(i+2 < packages.length) {\n                        result += \", \";\n                    }\n                    else if(i+1 < packages.length) {\n                        result += \" and \";\n                    }\n                }\n                result += packages.length > 1 ? \" packages\" : \" package\";\n            }\n            return result;\n        };\n\n        // Return the class to apply to the service.\n        $scope.getServiceClass = function(service) {\n            if(!angular.isObject(service)) {\n                return \"none\";\n            } else {\n                if(service.status === \"running\") {\n                    return \"success\";\n                } else if(service.status === \"dead\") {\n                    return \"error\";\n                } else if(service.status === \"degraded\") {\n                    return \"warning\";\n                } else {\n                    return \"none\";\n                }\n            }\n        };\n\n        $scope.hasCustomCommissioningScripts = function() {\n            var i;\n            for(i=0;i<$scope.scripts.length;i++) {\n                if($scope.scripts[i].script_type === 0) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Called by the children controllers to let the parent know.\n        $scope.controllerLoaded = function(name, scope) {\n            $scope[name] = scope;\n            if(angular.isObject(scope.node)) {\n              scope.nodeLoaded();\n            }\n        };\n\n        // Only show a warning that tests have failed if there are failed tests\n        // and the node isn't currently commissioning or testing.\n        $scope.showFailedTestWarning = function() {\n            // Devices can't have failed tests and don't have status_code\n            // defined.\n            if($scope.node.node_type === 1 || !$scope.node.status_code) {\n                return false;\n            }\n            switch($scope.node.status_code) {\n                // NEW\n                case 0:\n                // COMMISSIONING\n                case 1:\n                // FAILED_COMMISSIONING\n                case 2:\n                // TESTING\n                case 21:\n                // FAILED_TESTING\n                case 22:\n                    return false;\n            }\n            switch($scope.node.testing_status) {\n                // Tests havn't been run\n                case -1:\n                // Tests have passed\n                case 2:\n                    return false;\n            }\n            return true;\n        };\n\n        // Get the subtext for the CPU card. Only nodes commissioned after\n        // MAAS 2.4 will have the CPU speed.\n        $scope.getCPUSubtext = function() {\n            var label = $scope.node.cpu_count + \" cores\";\n            if(!$scope.node.cpu_speed || $scope.node.cpu_speed === 0) {\n                return label;\n            } else if($scope.node.cpu_speed < 1000) {\n                return label + \" @ \" + $scope.node.cpu_speed + \" Mhz\";\n            } else {\n                return label + \" @ \" + ($scope.node.cpu_speed / 1000) + \" Ghz\";\n            }\n        }\n\n        // Reload osinfo when the page reloads\n        $scope.$on(\"$routeUpdate\", function () {\n            GeneralManager.loadItems(\n                [\"osinfo\", \"architectures\", \"min_hwe_kernels\"]);\n        });\n\n        var page_managers;\n        if($location.path().indexOf('/controller') !== -1) {\n            $scope.nodesManager = ControllersManager;\n            page_managers = [ControllersManager, ScriptsManager];\n            $scope.isController = true;\n            $scope.isDevice = false;\n            $scope.type_name = 'controller';\n            $scope.type_name_title = 'Controller';\n            $rootScope.page = 'controllers';\n        } else if($location.path().indexOf('/device') !== -1) {\n            $scope.nodesManager = DevicesManager;\n            page_managers = [DevicesManager];\n            $scope.isController = false;\n            $scope.isDevice = true;\n            $scope.type_name = 'device';\n            $scope.type_name_title = 'Device';\n            $rootScope.page = 'devices';\n        } else {\n            $scope.nodesManager = MachinesManager;\n            page_managers = [MachinesManager, ScriptsManager];\n            $scope.isController = false;\n            $scope.isDevice = false;\n            $scope.type_name = 'machine';\n            $scope.type_name_title = 'Machine';\n            $rootScope.page = 'machines';\n        }\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers($scope, [\n            ZonesManager,\n            GeneralManager,\n            UsersManager,\n            TagsManager,\n            DomainsManager,\n            ServicesManager,\n            ResourcePoolsManager,\n        ].concat(page_managers)).then(function() {\n            // Possibly redirected from another controller that already had\n            // this node set to active. Only call setActiveItem if not already\n            // the activeItem.\n            var activeNode = $scope.nodesManager.getActiveItem();\n            if(angular.isObject(activeNode) &&\n                activeNode.system_id === $routeParams.system_id) {\n                nodeLoaded(activeNode);\n            } else {\n                $scope.nodesManager.setActiveItem(\n                    $routeParams.system_id).then(function(node) {\n                        nodeLoaded(node);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n                activeNode = $scope.nodesManager.getActiveItem();\n            }\n            if($scope.isDevice) {\n                $scope.ip_assignment = activeNode.ip_assignment;\n            }\n        });\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Node Networking Controller\n */\n\n// Filter that is specific to the NodeNetworkingController. Filters the\n// list of VLANs to be only those that are unused by the interface.\nangular.module('MAAS').filter('filterByUnusedForInterface', function() {\n    return function(vlans, nic, originalInterfaces) {\n        var filtered = [];\n        if(!angular.isObject(nic) ||\n            !angular.isObject(originalInterfaces)) {\n            return filtered;\n        }\n        var usedVLANs = [];\n        angular.forEach(originalInterfaces, function(inter) {\n            if(inter.type === \"vlan\") {\n                var parent = inter.parents[0];\n                if(parent === nic.id) {\n                    usedVLANs.push(inter.vlan_id);\n                }\n            }\n        });\n        angular.forEach(vlans, function(vlan) {\n            var idx = usedVLANs.indexOf(vlan.id);\n            if(idx === -1) {\n                filtered.push(vlan);\n            }\n        });\n        return filtered;\n    };\n});\n\n\n// Filter that is specific to the NodeNetworkingController. Filters the\n// list of interfaces to not include the current parent interfaces being\n// bonded together.\nangular.module('MAAS').filter('removeInterfaceParents', function() {\n    return function(interfaces, childInterface, skip) {\n        if(skip || !angular.isObject(childInterface) ||\n            !angular.isArray(childInterface.parents)) {\n            return interfaces;\n        }\n        var filtered = [];\n        angular.forEach(interfaces, function(nic) {\n            var i, parent, found = false;\n            for(i = 0; i < childInterface.parents.length; i++) {\n                parent = childInterface.parents[i];\n                if(parent.id === nic.id && parent.link_id === nic.link_id) {\n                    found = true;\n                    break;\n                }\n            }\n            if(!found) {\n                filtered.push(nic);\n            }\n        });\n        return filtered;\n    };\n});\n\n\n// Filter that is specific to the NodeNetworkingController. Remove the default\n// VLAN if the interface is a VLAN interface.\nangular.module('MAAS').filter('removeDefaultVLANIfVLAN', function() {\n    return function(vlans, interfaceType) {\n        if(!angular.isString(interfaceType)) {\n            return vlans;\n        }\n        var filtered = [];\n        angular.forEach(vlans, function(vlan) {\n            if(interfaceType !== \"vlan\") {\n                filtered.push(vlan);\n            } else if(vlan.vid !== 0) {\n                filtered.push(vlan);\n            }\n        });\n        return filtered;\n    };\n});\n\n\n// Filter that is specific to the NodeNetworkingController. Only provide the\n// available modes for that interface type.\nangular.module('MAAS').filter('filterLinkModes', function() {\n    return function(modes, nic) {\n        if(!angular.isObject(nic)) {\n            return modes;\n        }\n        var filtered = [];\n\n        // If this is not a $maasForm, make it work like one.\n        // We need to use getValue() to access attributes, because each\n        // type of maas-obj-form gets to define how values come out.\n        if(!angular.isFunction(nic.getValue)) {\n            nic.getValue = function(name) {\n                return this[name];\n            };\n        }\n\n        if(!angular.isObject(nic.getValue('subnet'))) {\n            // No subnet is configure so the only allowed mode\n            // is 'link_up'.\n            angular.forEach(modes, function(mode) {\n                if(mode.mode === \"link_up\") {\n                    filtered.push(mode);\n                }\n            });\n        } else {\n            // Don't add LINK_UP if more than one link exists or\n            // if the interface is an alias.\n            var links = nic.getValue('links');\n            var nicType = nic.getValue('type');\n            var allowLinkUp = (\n                (angular.isObject(links) && links.length > 1) ||\n                (nicType === \"alias\"));\n            angular.forEach(modes, function(mode) {\n                if(allowLinkUp && mode.mode === \"link_up\") {\n                    return;\n                }\n                // Can't run DHCP twice on one NIC.\n                if(nicType === \"alias\" && mode.mode === \"dhcp\") {\n                    return;\n                }\n                filtered.push(mode);\n            });\n        }\n        return filtered;\n    };\n});\n\n\nangular.module('MAAS').controller('NodeNetworkingController', [\n    '$scope', '$filter', 'FabricsManager', 'VLANsManager', 'SubnetsManager',\n    'MachinesManager', 'ControllersManager', 'DevicesManager',\n    'GeneralManager', 'UsersManager',\n    'ManagerHelperService', 'ValidationService', 'JSONService',\n    function(\n        $scope, $filter, FabricsManager, VLANsManager, SubnetsManager,\n        MachinesManager, ControllersManager, DevicesManager,\n        GeneralManager, UsersManager,\n        ManagerHelperService, ValidationService, JSONService) {\n\n        // Different interface types.\n        var INTERFACE_TYPE = {\n            PHYSICAL: \"physical\",\n            BOND: \"bond\",\n            BRIDGE: \"bridge\",\n            VLAN: \"vlan\",\n            ALIAS: \"alias\"\n        };\n        var INTERFACE_TYPE_TEXTS = {\n            \"physical\": \"Physical\",\n            \"bond\": \"Bond\",\n            \"bridge\": \"Bridge\",\n            \"vlan\": \"VLAN\",\n            \"alias\": \"Alias\"\n        };\n\n        // Different link modes for an interface.\n        var LINK_MODE = {\n            AUTO: \"auto\",\n            STATIC: \"static\",\n            DHCP: \"dhcp\",\n            LINK_UP: \"link_up\"\n        };\n        var LINK_MODE_TEXTS = {\n            \"auto\": \"Auto assign\",\n            \"static\": \"Static assign\",\n            \"dhcp\": \"DHCP\",\n            \"link_up\": \"Unconfigured\"\n        };\n\n        // Different selection modes.\n        var SELECTION_MODE = {\n            NONE: null,\n            SINGLE: \"single\",\n            MULTI: \"multi\",\n            DELETE: \"delete\",\n            ADD: \"add\",\n            CREATE_BOND: \"create-bond\",\n            CREATE_BRIDGE: \"create-bridge\",\n            CREATE_PHYSICAL: \"create-physical\",\n            EDIT: \"edit\"\n        };\n\n        var IP_ASSIGNMENT = {\n            DYNAMIC: \"dynamic\",\n            EXTERNAL: \"external\",\n            STATIC: \"static\"\n        };\n\n        // Device ip assignment options.\n        $scope.ipAssignments = [\n            {\n                name: IP_ASSIGNMENT.EXTERNAL,\n                text: \"External\"\n            },\n            {\n                name: IP_ASSIGNMENT.DYNAMIC,\n                text: \"Dynamic\"\n            },\n            {\n                name: IP_ASSIGNMENT.STATIC,\n                text: \"Static\"\n            }\n        ];\n\n        // Set the initial values for this scope.\n        $scope.loaded = false;\n        $scope.nodeHasLoaded = false;\n        $scope.managersHaveLoaded = false;\n        $scope.tableInfo = {column: 'name'};\n        $scope.fabrics = FabricsManager.getItems();\n        $scope.vlans = VLANsManager.getItems();\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.interfaces = [];\n        $scope.interfaceLinksMap = {};\n        $scope.interfaceErrorsByLinkId = {};\n        $scope.originalInterfaces = {};\n        $scope.selectedInterfaces = [];\n        $scope.selectedMode = null;\n        $scope.newInterface = {};\n        $scope.newBondInterface = {};\n        $scope.newBridgeInterface = {};\n        $scope.editInterface = null;\n        $scope.bondOptions = GeneralManager.getData(\"bond_options\");\n        $scope.modes = [\n            {\n                mode: LINK_MODE.AUTO,\n                text: LINK_MODE_TEXTS[LINK_MODE.AUTO]\n            },\n            {\n                mode: LINK_MODE.STATIC,\n                text: LINK_MODE_TEXTS[LINK_MODE.STATIC]\n            },\n            {\n                mode: LINK_MODE.DHCP,\n                text: LINK_MODE_TEXTS[LINK_MODE.DHCP]\n            },\n            {\n                mode: LINK_MODE.LINK_UP,\n                text: LINK_MODE_TEXTS[LINK_MODE.LINK_UP]\n            }\n        ];\n\n        // Sets loaded to true if both the node has been loaded at the\n        // other required managers for this scope have been loaded.\n        function updateLoaded() {\n            $scope.loaded = $scope.nodeHasLoaded && $scope.managersHaveLoaded;\n            if($scope.loaded) {\n                updateInterfaces();\n            }\n        }\n\n        // Update the list of interfaces for the node. For each link on the\n        // interface, the interface is duplicated in the list to make render\n        // in a data-ng-repeat easier.\n        function updateInterfaces() {\n            $scope.originalInterfaces = {};\n            angular.forEach($scope.node.interfaces, function(nic) {\n                $scope.originalInterfaces[nic.id] = nic;\n            });\n\n            var interfaces = [];\n            // vlanTable contains data packaged for the 'Served VLANs' section,\n            // which is essentially Interface LEFT JOIN VLAN LEFT JOIN Subnet.\n            var vlanTable = [];\n            // Keep track of VLAN IDs we've processed.\n            var addedVlans = {};\n\n            angular.forEach($scope.node.interfaces, function(nic) {\n                // When a interface has a child that is a bond or bridge.\n                // Then that interface is not included in the interface list.\n                // Parent interface with a bond or bridge child can only have\n                // one child.\n                if(nic.children.length === 1) {\n                    var child = $scope.originalInterfaces[nic.children[0]];\n                    if(child.type === INTERFACE_TYPE.BOND ||\n                       child.type === INTERFACE_TYPE.BRIDGE) {\n                        // This parent now has a bond or bridge for a child.\n                        // If this was the editInterface, then it needs to be\n                        // unset. We only need to check the \"id\" (not\n                        // the \"link_id\"), because if this interface did have\n                        // aliases they have now been removed.\n                        if(angular.isObject($scope.editInterface) &&\n                            $scope.editInterface.id === nic.id) {\n                            $scope.editInterface = null;\n                            $scope.selectedMode = SELECTION_MODE.NONE;\n                        }\n                        return;\n                    }\n                }\n\n                // When the interface is a bond or a bridge, place the children\n                // as members for that interface.\n                if(nic.type === INTERFACE_TYPE.BOND ||\n                   nic.type === INTERFACE_TYPE.BRIDGE) {\n                    nic.members = [];\n                    angular.forEach(nic.parents, function(parent) {\n                        nic.members.push(\n                            angular.copy($scope.originalInterfaces[parent]));\n                    });\n                }\n\n                // Format the tags when they have not already been formatted.\n                if(angular.isArray(nic.tags) &&\n                    nic.tags.length > 0 &&\n                    !angular.isString(nic.tags[0].text)) {\n                    nic.tags = formatTags(nic.tags);\n                }\n\n                nic.vlan = VLANsManager.getItemFromList(nic.vlan_id);\n                if(angular.isObject(nic.vlan)) {\n                    nic.fabric = FabricsManager.getItemFromList(\n                            nic.vlan.fabric);\n\n                    // Build the vlanTable for controller detail page.\n                    if ($scope.$parent.isController) {\n                        // Skip duplicate VLANs (by id, they can share names).\n                        if(!(Object.prototype.hasOwnProperty.call(\n                                addedVlans, nic.vlan.id))) {\n                            addedVlans[nic.vlan.id] = true;\n                            var vlanRecord = {\n                                \"fabric\": nic.fabric,\n                                \"vlan\": nic.vlan,\n                                \"subnets\": $filter('filter')(\n                                    $scope.subnets, {vlan:nic.vlan.id}, true),\n                                \"primary_rack\": null,\n                                \"secondary_rack\": null,\n                                \"sort_key\": nic.fabric.name + \"|\" +\n                                    $scope.getVLANText(nic.vlan)\n                            };\n                            if(nic.vlan.primary_rack) {\n                                vlanRecord.primary_rack =\n                                    ControllersManager.getItemFromList(\n                                        nic.vlan.primary_rack);\n                            }\n                            if(nic.vlan.secondary_rack) {\n                                vlanRecord.secondary_rack =\n                                    ControllersManager.getItemFromList(\n                                        nic.vlan.secondary_rack);\n                            }\n                            vlanTable.push(vlanRecord);\n                        }\n                        // Sort the table by (VLANText, fabric.name).\n                        vlanTable.sort(function(a, b) {\n                            return a.sort_key.localeCompare(b.sort_key);\n                        });\n                    }\n                }\n\n                // Update the interface based on its links or duplicate the\n                // interface if it has multiple links.\n                if(nic.links.length === 0) {\n                    // No links on this interface. The interface is either\n                    // disabled or has no links (which means the interface\n                    // is in LINK_UP mode).\n                    nic.link_id = -1;\n                    nic.subnet = null;\n                    nic.mode = LINK_MODE.LINK_UP;\n                    nic.ip_address = \"\";\n                    interfaces.push(nic);\n                } else {\n                    var idx = 0;\n                    angular.forEach(nic.links, function(link) {\n                        var nic_copy = angular.copy(nic);\n                        nic_copy.link_id = link.id;\n                        nic_copy.subnet = SubnetsManager.getItemFromList(\n                            link.subnet_id);\n                        nic_copy.mode = link.mode;\n                        nic_copy.ip_address = link.ip_address;\n                        if(angular.isUndefined(nic_copy.ip_address)) {\n                            nic_copy.ip_address = \"\";\n                        }\n                        // We don't want to deep copy the VLAN and fabric\n                        // object so we set those back to the original.\n                        nic_copy.vlan = nic.vlan;\n                        nic_copy.fabric = nic.fabric;\n                        if(idx > 0) {\n                            // Each extra link is an alais on the original\n                            // interface.\n                            nic_copy.type = INTERFACE_TYPE.ALIAS;\n                            nic_copy.name += \":\" + idx;\n                        }\n                        idx++;\n                        interfaces.push(nic_copy);\n                    });\n                }\n            });\n\n            // Update the scopes interfaces.\n            $scope.interfaces = interfaces;\n            $scope.vlanTable = vlanTable;\n\n            // Update the scope interface links mapping.\n            $scope.interfaceLinksMap = {};\n            angular.forEach($scope.interfaces, function(nic) {\n                var linkMaps = $scope.interfaceLinksMap[nic.id];\n                if(angular.isUndefined(linkMaps)) {\n                    linkMaps = {};\n                    $scope.interfaceLinksMap[nic.id] = linkMaps;\n                }\n                linkMaps[nic.link_id] = nic;\n            });\n\n            // Clear the editInterface if it no longer exists in the\n            // interfaceLinksMap.\n            if(angular.isObject($scope.editInterface)) {\n                var links = $scope.interfaceLinksMap[$scope.editInterface.id];\n                if(angular.isUndefined(links)) {\n                    $scope.editInterface = null;\n                    $scope.selectedMode = SELECTION_MODE.NONE;\n                } else {\n                    var link = links[$scope.editInterface.link_id];\n                    if(angular.isUndefined(link)) {\n                        $scope.editInterface = null;\n                        $scope.selectedMode = SELECTION_MODE.NONE;\n                    }\n                }\n            }\n\n            // Update newInterface.parent if it has changed.\n            updateNewInterface();\n        }\n\n        // Return the original link object for the given interface.\n        function mapNICToOriginalLink(nic_id, link_id) {\n            var originalInteface = $scope.originalInterfaces[nic_id];\n            if(angular.isObject(originalInteface)) {\n                var i, link = null;\n                for(i = 0; i < originalInteface.links.length; i++) {\n                    link = originalInteface.links[i];\n                    if(link.id === link_id) {\n                        break;\n                    }\n                }\n                return link;\n            } else {\n                return null;\n            }\n        }\n\n        // Leave single selection mode.\n        function leaveSingleSelectionMode() {\n            if($scope.selectedMode === SELECTION_MODE.SINGLE ||\n                $scope.selectedMode === SELECTION_MODE.ADD ||\n                $scope.selectedMode === SELECTION_MODE.DELETE) {\n                $scope.selectedMode = SELECTION_MODE.NONE;\n            }\n        }\n\n        // Update the new interface since the interfaces list has\n        // been reloaded.\n        function updateNewInterface() {\n            if(angular.isObject($scope.newInterface.parent)) {\n                var parentId = $scope.newInterface.parent.id;\n                var linkId = $scope.newInterface.parent.link_id;\n                var links = $scope.interfaceLinksMap[parentId];\n                if(angular.isObject(links)) {\n                    var newParent = links[linkId];\n                    if(angular.isObject(newParent)) {\n                        $scope.newInterface.parent = newParent;\n\n                        var iType = $scope.newInterface.type;\n                        var isAlias = iType === INTERFACE_TYPE.ALIAS;\n                        var isVLAN = iType === INTERFACE_TYPE.VLAN;\n                        var canAddAlias = $scope.canAddAlias(newParent);\n                        var canAddVLAN = $scope.canAddVLAN(newParent);\n                        if(!canAddAlias && !canAddVLAN) {\n                            // Cannot do any adding now.\n                            $scope.newInterface = {};\n                            leaveSingleSelectionMode();\n                        } else {\n                            if(isAlias && !canAddAlias && canAddVLAN) {\n                                $scope.newInterface.type = \"vlan\";\n                                $scope.addTypeChanged();\n                            } else if(isVLAN && !canAddVLAN && canAddAlias) {\n                                $scope.newInterface.type = \"alias\";\n                                $scope.addTypeChanged();\n                            }\n                        }\n                        return;\n                    }\n                }\n\n                // Parent no longer exists. Exit the single selection modes.\n                $scope.newInterface = {};\n                leaveSingleSelectionMode();\n            }\n        }\n\n        // Return the default VLAN for a fabric.\n        function getDefaultVLAN(fabric) {\n            return VLANsManager.getItemFromList(fabric.default_vlan_id);\n        }\n\n        // Return list of unused VLANs for an interface. Also remove the\n        // ignoreVLANs from the returned list.\n        function getUnusedVLANs(nic, ignoreVLANs) {\n            var vlans = $filter('removeDefaultVLAN')($scope.vlans);\n            vlans = $filter('filterByFabric')(vlans, nic.fabric);\n            vlans = $filter('filterByUnusedForInterface')(\n                vlans, nic, $scope.originalInterfaces);\n\n            // Remove the VLAN's that should be ignored when getting the unused\n            // VLANs. This is done to help the selection of the next default.\n            if(angular.isUndefined(ignoreVLANs)) {\n                ignoreVLANs = [];\n            }\n            angular.forEach(ignoreVLANs, function(vlan) {\n                var i;\n                for(i = 0; i < vlans.length; i++) {\n                    if(vlans[i].id === vlan.id) {\n                        vlans.splice(i, 1);\n                        break;\n                    }\n                }\n            });\n            return vlans;\n        }\n\n        // Return the currently selected interface objects.\n        function getSelectedInterfaces() {\n            var interfaces = [];\n            angular.forEach($scope.selectedInterfaces, function(key) {\n                var splitKey = key.split('/');\n                var links = $scope.interfaceLinksMap[splitKey[0]];\n                if(angular.isObject(links)) {\n                    var nic = links[splitKey[1]];\n                    if(angular.isObject(nic)) {\n                        interfaces.push(nic);\n                    }\n                }\n            });\n            return interfaces;\n        }\n\n        // Get the next available name.\n        function getNextName(prefix) {\n            var idx = 0;\n            angular.forEach($scope.originalInterfaces, function(nic) {\n                if(nic.name === prefix + idx) {\n                    idx++;\n                }\n            });\n            return prefix + idx;\n        }\n\n        // Return the tags formatted for ngTagInput.\n        function formatTags(tags) {\n            var formatted = [];\n            angular.forEach(tags, function(tag) {\n                formatted.push({ text: tag });\n            });\n            return formatted;\n        }\n\n        // Called by $parent when the node has been loaded.\n        $scope.nodeLoaded = function() {\n            $scope.$watch(\"node.interfaces\", updateInterfaces);\n            // Watch subnets for the served VLANs section.\n            if ($scope.$parent.isController) {\n                $scope.$watch(\"subnets\", updateInterfaces, true);\n            }\n            $scope.nodeHasLoaded = true;\n            updateLoaded();\n        };\n\n        // Return true if only the name or mac address of an interface can\n        // be edited.\n        $scope.isLimitedEditingAllowed = function(nic) {\n            if (!$scope.isSuperUser()) {\n                // If the user is not the superuser, pretend it's not Ready.\n                return false;\n            }\n            if ($scope.$parent.isController || $scope.$parent.isDevice) {\n                // Controllers and Devices are never in limited mode.\n                return false;\n            }\n            return (\n                angular.isObject($scope.node) &&\n                $scope.node.status === \"Deployed\" &&\n                nic.type !== \"vlan\");\n        };\n\n        // Return true if the networking information cannot be edited.\n        // (it can't be changed when the node is in any state other\n        // than Ready or Broken and the user is not a superuser)\n        $scope.isAllNetworkingDisabled = function() {\n            if (!$scope.isSuperUser() && !$scope.$parent.isDevice) {\n                // If the user is not a superuser and not looking at a\n                // device, disable the networking panel.\n                return true;\n            }\n            if ($scope.$parent.isController || $scope.$parent.isDevice) {\n                // Never disable the full networking panel when its a\n                // Controller or Device.\n                return false;\n            }\n            if (angular.isObject($scope.node) &&\n                    [\"New\", \"Ready\", \"Allocated\", \"Broken\"].indexOf(\n                        $scope.node.status) === -1) {\n                // If a non-controller node is not ready allocated, or broken,\n                // disable networking panel.\n                return true;\n            }\n            // User must be a superuser and the node must be\n            // either ready or broken. Enable it.\n            return false;\n        };\n\n        // Return true if the interface is the boot interface or has a parent\n        // that is the boot interface.\n        $scope.isBootInterface = function(nic) {\n            if(!angular.isObject(nic)) {\n                return false;\n            }\n\n            if(nic.is_boot && nic.type !== INTERFACE_TYPE.ALIAS) {\n                return true;\n            } else if(nic.type === INTERFACE_TYPE.BOND ||\n                      nic.type === INTERFACE_TYPE.BRIDGE) {\n                var i;\n                for(i = 0; i < nic.members.length; i++) {\n                    if(nic.members[i].is_boot) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n        // Get the text for the type of the interface.\n        $scope.getInterfaceTypeText = function(nic) {\n            var text = INTERFACE_TYPE_TEXTS[nic.type];\n            if(angular.isDefined(text)) {\n                return text;\n            } else {\n                return nic.type;\n            }\n        };\n\n        // Get the text for the link mode of the interface.\n        $scope.getLinkModeText = function(nic) {\n            var text = LINK_MODE_TEXTS[nic.mode];\n            if(angular.isDefined(text)) {\n                return text;\n            } else {\n                return nic.mode;\n            }\n        };\n\n        // Get the text to display in the VLAN dropdown.\n        $scope.getVLANText = function(vlan) {\n            if(!angular.isObject(vlan)) {\n                return \"\";\n            }\n\n            if(vlan.vid === 0) {\n                return \"untagged\";\n            } else if(angular.isString(vlan.name) && vlan.name.length > 0) {\n                return vlan.vid + \" (\" + vlan.name + \")\";\n            } else {\n                return vlan.vid;\n            }\n        };\n\n        // Get the text to display in the subnet dropdown.\n        $scope.getSubnetText = function(subnet) {\n            if(!angular.isObject(subnet)) {\n                return \"Unconfigured\";\n            } else if(angular.isString(subnet.name) &&\n                subnet.name.length > 0 &&\n                subnet.cidr !== subnet.name) {\n                return subnet.cidr + \" (\" + subnet.name + \")\";\n            } else {\n                return subnet.cidr;\n            }\n        };\n\n        // Get the subnet from its ID.\n        $scope.getSubnet = function(subnetId) {\n            return SubnetsManager.getItemFromList(subnetId);\n        };\n\n        // Return True if the interface name that the user typed is invalid.\n        $scope.isInterfaceNameInvalid = function(nic) {\n            if(!angular.isObject(nic) || !nic.hasOwnProperty('name') ||\n                    nic.name.length === 0) {\n                return true;\n            } else if(angular.isArray($scope.node.interfaces)) {\n                var i;\n                for(i = 0; i < $scope.node.interfaces.length; i++) {\n                    var otherNic = $scope.node.interfaces[i];\n                    if(otherNic.name === nic.name && otherNic.id !== nic.id) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n        // Return True if the link mode select should be disabled.\n        $scope.isLinkModeDisabled = function(nic) {\n            // This is only disabled when a subnet has not been selected.\n            if(angular.isFunction(nic.getValue)) {\n                return !angular.isObject(nic.getValue('subnet'));\n            } else {\n                return !angular.isObject(nic.subnet);\n            }\n        };\n\n        // Return the interface errors.\n        $scope.getInterfaceError = function(nic) {\n            if(angular.isDefined(nic.link_id) && nic.link_id >= 0) {\n                return $scope.interfaceErrorsByLinkId[nic.link_id];\n            }\n            return null;\n        };\n\n        // Return True if the interface IP address that the user typed is\n        // invalid.\n        $scope.isIPAddressInvalid = function(nic) {\n            if(angular.isString(nic.ip_address) && nic.mode === 'static') {\n                return (\n                    !ValidationService.validateIP(nic.ip_address) ||\n                    !ValidationService.validateIPInNetwork(\n                        nic.ip_address, nic.subnet.cidr));\n            } else {\n                return false;\n            }\n        };\n\n        // Return unique key for the interface.\n        $scope.getUniqueKey = function(nic) {\n            return nic.id + \"/\" + nic.link_id;\n        };\n\n        // Toggle selection of the interface.\n        $scope.toggleInterfaceSelect = function(nic) {\n            var key = $scope.getUniqueKey(nic);\n            var idx = $scope.selectedInterfaces.indexOf(key);\n            if(idx > -1) {\n                $scope.selectedInterfaces.splice(idx, 1);\n            } else {\n                $scope.selectedInterfaces.push(key);\n            }\n\n            if($scope.selectedInterfaces.length > 1) {\n                if($scope.selectedMode !== SELECTION_MODE.BOND) {\n                    $scope.selectedMode = SELECTION_MODE.MULTI;\n                }\n            } else if($scope.selectedInterfaces.length === 1) {\n                $scope.selectedMode = SELECTION_MODE.SINGLE;\n            } else {\n                $scope.selectedMode = SELECTION_MODE.NONE;\n            }\n        };\n\n        // Return true when the interface is selected.\n        $scope.isInterfaceSelected = function(nic) {\n            return $scope.selectedInterfaces.indexOf(\n                $scope.getUniqueKey(nic)) > -1;\n        };\n\n        // Returns true if the interface is not selected\n        $scope.cannotEditInterface = function(nic) {\n            if ($scope.selectedMode === SELECTION_MODE.NONE) {\n                return false;\n            } else if (\n                  $scope.selectedMode !== SELECTION_MODE.MULTI &&\n                  $scope.isInterfaceSelected(nic)) {\n                return false;\n            } else {\n                return true;\n            }\n        };\n\n        // Return true if in editing mode for the interface.\n        $scope.isEditing = function(nic) {\n            if($scope.selectedMode !== SELECTION_MODE.EDIT) {\n                return false;\n            } else {\n                return $scope.editInterface.id === nic.id;\n            }\n        };\n\n        // Start editing this interface.\n        $scope.edit = function(nic) {\n            $scope.selectedInterfaces = [$scope.getUniqueKey(nic)];\n            $scope.selectedMode = SELECTION_MODE.EDIT;\n            if($scope.$parent.isDevice) {\n                $scope.editInterface = {\n                    id: nic.id,\n                    name: nic.name,\n                    mac_address: nic.mac_address,\n                    tags: nic.tags.map(function(tag) { return tag.text; }),\n                    subnet: nic.subnet,\n                    ip_address: nic.ip_address,\n                    ip_assignment: nic.ip_assignment,\n                    link_id: nic.link_id\n                };\n                if(nic.subnet !== undefined && nic.subnet !== null) {\n                    $scope.editInterface.defaultSubnet = nic.subnet;\n                } else {\n                    $scope.editInterface.defaultSubnet = $scope.subnets[0];\n                }\n            } else {\n                $scope.editInterface = {\n                    id: nic.id,\n                    name: nic.name,\n                    mac_address: nic.mac_address,\n                    tags: nic.tags.map(function(tag) { return tag.text; }),\n                    fabric: nic.fabric,\n                    vlan: nic.vlan,\n                    subnet: nic.subnet,\n                    mode: nic.mode,\n                    ip_address: nic.ip_address,\n                    link_id: nic.link_id\n                };\n            }\n        };\n\n        // Called when the fabric is changed.\n        $scope.fabricChanged = function(nic) {\n            // Update the VLAN on the node to be the default VLAN for that\n            // fabric. The first VLAN for the fabric is the default.\n            if(nic.fabric !== null) {\n                nic.vlan = getDefaultVLAN(nic.fabric);\n            } else {\n                nic.vlan = null;\n            }\n            $scope.vlanChanged(nic);\n        };\n\n        // Called when the fabric is changed in a maas-obj-form.\n        $scope.fabricChangedForm = function(key, value, form) {\n            var vlan;\n            if(value !== null) {\n                vlan = getDefaultVLAN(value);\n            } else {\n                vlan = null;\n            }\n            form.updateValue('vlan', vlan);\n            $scope.vlanChangedForm('vlan', vlan, form);\n        };\n\n        // Called when the VLAN is changed.\n        $scope.vlanChanged = function(nic) {\n            nic.subnet = null;\n            $scope.subnetChanged(nic);\n        };\n\n        // Called when the VLAN is changed on a maas-obj-form\n        $scope.vlanChangedForm = function(key, value, form) {\n            form.updateValue('subnet', null);\n            $scope.subnetChangedForm('subnet', null, form);\n        };\n\n        // Called when the subnet is changed.\n        $scope.subnetChanged = function(nic) {\n            if(!angular.isObject(nic.subnet)) {\n                // Set to 'Unconfigured' so the link mode should be set to\n                // 'link_up'.\n                nic.mode = LINK_MODE.LINK_UP;\n            }\n            if ($scope.$parent.isDevice) {\n                nic.ip_address = null;\n            }\n            $scope.modeChanged(nic);\n        };\n\n        // Called when the subnet is changed.\n        $scope.subnetChangedForm = function(key, value, form) {\n            if(!angular.isObject(value)) {\n                // Set to 'Unconfigured' so the link mode should be set to\n                // 'link_up'.\n                form.updateValue('mode', LINK_MODE.LINK_UP);\n            }\n            mode = form.getValue('mode');\n            form.updateValue('ip_address', null);\n            $scope.modeChangedForm('mode', mode, form);\n        };\n\n        // Called when the mode is changed.\n        $scope.modeChanged = function(nic) {\n            // Clear the IP address when the mode is changed.\n            nic.ip_address = \"\";\n            if(nic.mode === 'static') {\n                var originalLink = mapNICToOriginalLink(nic.id, nic.link_id);\n                if(angular.isObject(originalLink) &&\n                    nic.subnet.id === originalLink.subnet_id) {\n                    // Set the original IP address if same subnet.\n                    nic.ip_address = originalLink.ip_address;\n                }\n            }\n        };\n\n        // Called when the mode is changed on a maas-obj-form.\n        $scope.modeChangedForm = function(key, value, form) {\n            // Clear the IP address when the mode is changed.\n            form.updateValue('ip_address', \"\");\n            if(value === 'static') {\n                var originalLink = mapNICToOriginalLink(\n                  form.getValue('id'), form.getValue('link_id'));\n                if(angular.isObject(originalLink) &&\n                    form.getValue('subnet').id === originalLink.subnet_id) {\n                    // Set the original IP address if same subnet.\n                    form.updateValue('ip_address', originalLink.ip_address);\n                }\n            }\n        };\n\n        // Called to cancel edit mode.\n        $scope.editCancel = function(nic) {\n            $scope.selectedInterfaces = [];\n            $scope.selectedMode = SELECTION_MODE.NONE;\n            $scope.editInterface = null;\n        };\n\n        // Preprocess things for updateInterfaceForm.\n        $scope.preProcessInterface = function(nic) {\n            var params = angular.copy(nic);\n\n            delete params.id;\n            params.system_id = $scope.node.system_id;\n            params.interface_id = nic.id;\n\n            // we need IDs not objects.\n            if(nic.fabric !== undefined && nic.fabric !== null) {\n                params.fabric = nic.fabric.id;\n            } else {\n                params.fabric = null;\n            }\n            if(nic.vlan !== undefined && nic.vlan !== null) {\n                params.vlan = nic.vlan.id;\n            } else {\n                params.vlan = null;\n            }\n            if(nic.subnet !== undefined && nic.subnet !== null) {\n                params.subnet = params.subnet.id;\n            } else {\n                delete params.subnet;\n            }\n\n            if(angular.isDefined(nic.link_id) && nic.link_id >= 0) {\n                params.link_id = nic.link_id;\n                delete $scope.interfaceErrorsByLinkId[nic.link_id];\n            } else {\n                delete params.link_id;\n            }\n            if((nic.mode === LINK_MODE.STATIC ||\n                nic.ip_assignment !== IP_ASSIGNMENT.DYNAMIC) &&\n               angular.isString(nic.ip_address) &&\n               nic.ip_address.length > 0) {\n                params.ip_address = nic.ip_address;\n            } else {\n                delete params.ip_address;\n            }\n            return params;\n        };\n\n        // Save the following interface on the node.\n        $scope.saveInterface = function(nic) {\n            var params;\n            if($scope.$parent.isDevice) {\n                params = {\n                    \"name\": nic.name,\n                    \"mac_address\": nic.mac_address,\n                    \"ip_assignment\": nic.ip_assignment,\n                    \"ip_address\": nic.ip_address\n                };\n            } else {\n                params = {\n                    \"name\": nic.name,\n                    \"mac_address\": nic.mac_address,\n                    \"mode\": nic.mode,\n                    \"tags\": nic.tags.map(\n                        function(tag) { return tag.text; })\n                };\n            }\n            if(nic.fabric !== undefined && nic.fabric !== null) {\n                params.fabric = nic.fabric.id;\n            } else {\n                params.fabric = null;\n            }\n            if(nic.vlan !== undefined && nic.vlan !== null) {\n                params.vlan = nic.vlan.id;\n            } else {\n                params.vlan = null;\n            }\n            if (nic.subnet !== undefined && nic.subnet !== null) {\n                params.subnet = nic.subnet.id;\n            } else {\n                params.subnet = null;\n            }\n            if(angular.isDefined(nic.link_id) && nic.link_id >= 0) {\n                params.link_id = nic.link_id;\n                delete $scope.interfaceErrorsByLinkId[nic.link_id];\n            }\n            if(angular.isString(nic.ip_address) && nic.ip_address.length > 0) {\n                params.ip_address = nic.ip_address;\n            }\n            return $scope.$parent.nodesManager.updateInterface(\n                $scope.node, nic.id, params).then(null, function(error) {\n                    // XXX blake_r: Just log the error in the console, but\n                    // we need to expose this as a better message to the\n                    // user.\n                    console.log(error);\n\n                    // Update the interfaces so it is back to the way it\n                    // was before the user changed it.\n                    updateInterfaces();\n                });\n        };\n\n        // Save the following link on the node.\n        $scope.saveInterfaceLink = function(nic) {\n            var params = {\n                \"mode\": nic.mode\n            };\n            if($scope.$parent.isDevice) {\n                params.ip_assignment = nic.ip_assignment;\n            }\n            if(angular.isObject(nic.subnet)) {\n                params.subnet = nic.subnet.id;\n            }\n            if(angular.isDefined(nic.link_id) && nic.link_id >= 0) {\n                params.link_id = nic.link_id;\n                delete $scope.interfaceErrorsByLinkId[nic.link_id];\n            }\n            if(nic.mode === LINK_MODE.STATIC &&\n                angular.isString(nic.ip_address) &&\n                nic.ip_address.length > 0) {\n                params.ip_address = nic.ip_address;\n            }\n            return $scope.$parent.nodesManager.linkSubnet(\n                $scope.node, nic.id, params).then(null, function(error) {\n                    console.log(error);\n                    if(angular.isDefined(nic.link_id) && nic.link_id >= 0) {\n                        $scope.interfaceErrorsByLinkId[nic.link_id] = error;\n                    }\n                    // Update the interfaces so it is back to the way it\n                    // was before the user changed it.\n                    updateInterfaces();\n                    throw error;\n                });\n        };\n\n        // Called to save the interface.\n        $scope.editSave = function(editInterface) {\n            $scope.editCancel();\n            return editInterface;\n        };\n\n        // Return true if the interface delete confirm is being shown.\n        $scope.isShowingDeleteConfirm = function() {\n            return $scope.selectedMode === SELECTION_MODE.DELETE;\n        };\n\n        // Return true if the interface add interface is being shown.\n        $scope.isShowingAdd = function() {\n            return $scope.selectedMode === SELECTION_MODE.ADD;\n        };\n\n        // Return true if either an alias or VLAN can be added.\n        $scope.canAddAliasOrVLAN = function(nic) {\n            if($scope.$parent.isController) {\n                return false;\n            } else if ($scope.isAllNetworkingDisabled()) {\n                return false;\n            } else {\n                return $scope.canAddAlias(nic) || $scope.canAddVLAN(nic);\n            }\n        };\n\n        // Return true if the alias can be added to interface.\n        $scope.canAddAlias = function(nic) {\n            if(!angular.isObject(nic)) {\n                return false;\n            } else if(nic.type === INTERFACE_TYPE.ALIAS) {\n                return false;\n            } else if(nic.links.length === 0 ||\n                nic.links[0].mode === LINK_MODE.LINK_UP) {\n                return false;\n            } else {\n                return true;\n            }\n        };\n\n        // Return true if the VLAN can be added to interface.\n        $scope.canAddVLAN = function(nic) {\n            if(!angular.isObject(nic)) {\n                return false;\n            } else if(nic.type === INTERFACE_TYPE.ALIAS ||\n                nic.type === INTERFACE_TYPE.VLAN) {\n                return false;\n            }\n            var unusedVLANs = getUnusedVLANs(nic);\n            return unusedVLANs.length > 0;\n        };\n\n        // Return true if another VLAN can be added to this already being\n        // added interface.\n        $scope.canAddAnotherVLAN = function(nic) {\n            if(!$scope.canAddVLAN(nic)) {\n                return false;\n            }\n            var unusedVLANs = getUnusedVLANs(nic);\n            return unusedVLANs.length > 1;\n        };\n\n        // Return the text to use for the remove link and message.\n        $scope.getRemoveTypeText = function(nic) {\n            if(nic.type === INTERFACE_TYPE.PHYSICAL) {\n                return \"interface\";\n            } else if(nic.type === INTERFACE_TYPE.VLAN) {\n                return \"VLAN\";\n            } else {\n                return nic.type;\n            }\n        };\n\n        // Return true if the interface can be removed.\n        $scope.canBeRemoved = function() {\n            return (\n                !$scope.$parent.isController &&\n                !$scope.isAllNetworkingDisabled());\n        };\n\n        // Enter remove mode.\n        $scope.remove = function() {\n            $scope.selectedMode = SELECTION_MODE.DELETE;\n        };\n\n        // Quickly enter remove by selecting the node first.\n        $scope.quickRemove = function(nic) {\n            $scope.selectedInterfaces = [$scope.getUniqueKey(nic)];\n            $scope.remove();\n        };\n\n        // Cancel the current mode go back to sinle selection mode.\n        $scope.cancel = function() {\n            $scope.selectedInterfaces = [];\n            $scope.newInterface = {};\n            $scope.newBondInterface = {};\n            $scope.newBridgeInterface = {};\n            if($scope.selectedMode === SELECTION_MODE.CREATE_BOND) {\n                $scope.selectedMode = SELECTION_MODE.MULTI;\n            } else {\n                $scope.selectedMode = SELECTION_MODE.NONE;\n            }\n        };\n\n        // Confirm the removal of interface.\n        $scope.confirmRemove = function(nic) {\n            $scope.selectedMode = SELECTION_MODE.NONE;\n            $scope.selectedInterfaces = [];\n            if(nic.type !== INTERFACE_TYPE.ALIAS) {\n                $scope.$parent.nodesManager.deleteInterface(\n                    $scope.node, nic.id);\n            } else {\n                $scope.$parent.nodesManager.unlinkSubnet(\n                    $scope.node, nic.id, nic.link_id);\n            }\n\n            // Remove the interface from available interfaces\n            var idx = $scope.interfaces.indexOf(nic);\n            if(idx > -1) {\n                $scope.interfaces.splice(idx, 1);\n            }\n        };\n\n        // Enter add mode.\n        $scope.add = function(type, nic) {\n            // When this is called right after another VLAN was just added, we\n            // remove its used VLAN from the available list.\n            var ignoreVLANs = [];\n            if(angular.isObject($scope.newInterface.vlan)) {\n                ignoreVLANs.push($scope.newInterface.vlan);\n            }\n\n            // Get the default VLAN for the new interface.\n            var vlans = getUnusedVLANs(nic, ignoreVLANs);\n            var defaultVLAN = null;\n            if(vlans.length > 0) {\n                defaultVLAN = vlans[0];\n            }\n            var defaultSubnet = null;\n            var defaultMode = LINK_MODE.LINK_UP;\n\n            // Alias used defaults based from its parent.\n            if(type === INTERFACE_TYPE.ALIAS) {\n                defaultVLAN = nic.vlan;\n                defaultSubnet = $filter('filter')(\n                    $scope.subnets, {vlan:defaultVLAN.id}, true)[0];\n                defaultMode = LINK_MODE.AUTO;\n            }\n\n            // Setup the new interface and enter add mode.\n            $scope.newInterface = {\n                type: type,\n                vlan: defaultVLAN,\n                subnet: defaultSubnet,\n                mode: defaultMode,\n                parent: nic,\n                tags: []\n            };\n            $scope.selectedMode = SELECTION_MODE.ADD;\n        };\n\n        // Quickly enter add by selecting the node first.\n        $scope.quickAdd = function(nic) {\n            $scope.selectedInterfaces = [$scope.getUniqueKey(nic)];\n            var type = 'alias';\n            if(!$scope.canAddAlias(nic)) {\n                type = 'vlan';\n            }\n            $scope.add(type, nic);\n        };\n\n        // Return the name of the interface being added.\n        $scope.getAddName = function() {\n            if($scope.newInterface.type === INTERFACE_TYPE.ALIAS) {\n                var aliasIdx = $scope.newInterface.parent.links.length;\n                return $scope.newInterface.parent.name + \":\" + aliasIdx;\n            } else if ($scope.newInterface.type === INTERFACE_TYPE.VLAN) {\n                return (\n                    $scope.newInterface.parent.name + \".\" +\n                    $scope.newInterface.vlan.vid);\n            }\n        };\n\n        // Called when the type of interface is changed.\n        $scope.addTypeChanged = function() {\n            if($scope.newInterface.type === INTERFACE_TYPE.ALIAS) {\n                $scope.newInterface.vlan = $scope.newInterface.parent.vlan;\n                $scope.newInterface.subnet = $filter('filter')(\n                    $scope.subnets,\n                    {vlan:$scope.newInterface.vlan.id}, true)[0];\n                $scope.newInterface.mode = LINK_MODE.AUTO;\n            } else if($scope.newInterface.type === INTERFACE_TYPE.VLAN) {\n                var vlans = getUnusedVLANs($scope.newInterface.parent);\n                $scope.newInterface.vlan = null;\n                if(vlans.length > 0) {\n                    $scope.newInterface.vlan = vlans[0];\n                }\n                $scope.newInterface.subnet = null;\n                $scope.newInterface.mode = LINK_MODE.LINK_UP;\n            }\n        };\n\n        // Perform the add action over the websocket.\n        $scope.addInterface = function(type) {\n            var nic;\n            if($scope.$parent.isDevice) {\n                nic = {\n                    id: $scope.newInterface.parent.id,\n                    tags: $scope.newInterface.tags.map(\n                        function(tag) { return tag.text; }),\n                    ip_assignment: $scope.newInterface.ip_assignment,\n                    subnet: $scope.newInterface.subnet,\n                    ip_address: $scope.newInterface.ip_address\n                };\n                $scope.saveInterfaceLink(nic);\n            } else if($scope.newInterface.type === INTERFACE_TYPE.ALIAS) {\n                // Add a link to the current interface.\n                nic = {\n                    id: $scope.newInterface.parent.id,\n                    mode: $scope.newInterface.mode,\n                    subnet: $scope.newInterface.subnet,\n                    ip_address: $scope.newInterface.ip_address\n                };\n                $scope.saveInterfaceLink(nic);\n            } else if($scope.newInterface.type === INTERFACE_TYPE.VLAN) {\n                var params = {\n                    parent: $scope.newInterface.parent.id,\n                    vlan: $scope.newInterface.vlan.id,\n                    mode: $scope.newInterface.mode,\n                    tags: $scope.newInterface.tags.map(\n                        function(tag) { return tag.text; })\n                };\n                if(angular.isObject($scope.newInterface.subnet)) {\n                    params.subnet = $scope.newInterface.subnet.id;\n                    params.ip_address = $scope.newInterface.ip_address;\n                }\n                $scope.$parent.nodesManager.createVLANInterface(\n                    $scope.node, params).then(null, function(error) {\n                        // Should do something better but for now just log\n                        // the error.\n                        console.log(error);\n                    });\n            }\n\n            // Add again based on the clicked option.\n            if(angular.isString(type)) {\n                $scope.add(type, $scope.newInterface.parent);\n            } else {\n                $scope.selectedMode = SELECTION_MODE.NONE;\n                $scope.selectedInterfaces = [];\n                $scope.newInterface = {};\n            }\n        };\n\n        // Return true if the networking information cannot be edited\n        // or if this interface should be disabled in the list. Only\n        // returns true when in create bond mode.\n        $scope.isDisabled = function() {\n            if ($scope.isAllNetworkingDisabled()) {\n                return true;\n            } else {\n                return (\n                    $scope.selectedMode !== SELECTION_MODE.NONE &&\n                    $scope.selectedMode !== SELECTION_MODE.SINGLE &&\n                    $scope.selectedMode !== SELECTION_MODE.MULTI);\n            }\n        };\n\n        // Return true when a bond can be created based on the current\n        // selection. Only can be done if no aliases are selected and all\n        // selected interfaces are on the same VLAN.\n        $scope.canCreateBond = function() {\n            if($scope.selectedMode !== SELECTION_MODE.MULTI) {\n                return false;\n            }\n            var interfaces = getSelectedInterfaces();\n            var i, vlan;\n            for(i = 0; i < interfaces.length; i++) {\n                var nic = interfaces[i];\n                if(nic.type === INTERFACE_TYPE.ALIAS ||\n                    nic.type === INTERFACE_TYPE.BOND) {\n                    return false;\n                } else if(!angular.isObject(vlan)) {\n                    vlan = nic.vlan;\n                } else if(vlan !== nic.vlan) {\n                    return false;\n                }\n            }\n            return true;\n        };\n\n        // Return true when the create bond view is being shown.\n        $scope.isShowingCreateBond = function() {\n            return $scope.selectedMode === SELECTION_MODE.CREATE_BOND;\n        };\n\n        // Show the create bond view.\n        $scope.showCreateBond = function() {\n            if($scope.selectedMode === SELECTION_MODE.MULTI &&\n                $scope.canCreateBond()) {\n                $scope.selectedMode = SELECTION_MODE.CREATE_BOND;\n\n                var parents = getSelectedInterfaces();\n                $scope.newBondInterface = {\n                    name: getNextName(\"bond\"),\n                    tags: [],\n                    parents: parents,\n                    primary: parents[0],\n                    mac_address: \"\",\n                    mode: \"active-backup\",\n                    lacpRate: \"slow\",\n                    xmitHashPolicy: \"layer2\"\n                };\n            }\n        };\n\n        // Return true if the interface has a parent that is a boot interface.\n        $scope.hasBootInterface = function(nic) {\n            if(!angular.isArray(nic.parents)) {\n                return false;\n            }\n            var i;\n            for(i = 0; i < nic.parents.length; i++) {\n                if(nic.parents[i].is_boot) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Return the MAC address that should be shown as a placeholder. This\n        // this is the MAC address of the primary interface.\n        $scope.getInterfacePlaceholderMACAddress = function(nic) {\n            if(!angular.isObject(nic.primary)) {\n                return \"\";\n            } else {\n                return nic.primary.mac_address;\n            }\n        };\n\n        // Return true if the user has inputed a value in the MAC address field\n        // but it is invalid.\n        $scope.isMACAddressInvalid = function(mac_address, invalidEmpty) {\n            if(angular.isUndefined(invalidEmpty)) {\n                invalidEmpty = false;\n            }\n            if(!angular.isString(mac_address) || mac_address === \"\") {\n                return invalidEmpty;\n            }\n            return !ValidationService.validateMAC(mac_address);\n        };\n\n        // Return true when the LACR rate selection should be shown.\n        $scope.showLACPRate = function() {\n            return $scope.newBondInterface.mode === \"802.3ad\";\n        };\n\n        // Return true when the XMIT hash policy should be shown.\n        $scope.showXMITHashPolicy = function() {\n            return (\n                $scope.newBondInterface.mode === \"balance-xor\" ||\n                $scope.newBondInterface.mode === \"802.3ad\" ||\n                $scope.newBondInterface.mode === \"balance-tlb\");\n        };\n\n        // Return true if cannot add the bond.\n        $scope.cannotAddBond = function() {\n            return (\n                $scope.isInterfaceNameInvalid($scope.newBondInterface) ||\n                $scope.isMACAddressInvalid(\n                    $scope.newBondInterface.mac_address));\n        };\n\n        // Actually add the bond.\n        $scope.addBond = function() {\n            if($scope.cannotAddBond()) {\n               return;\n            }\n\n            var parents = $scope.newBondInterface.parents.map(\n                function(nic) { return nic.id; });\n            var mac_address = $scope.newBondInterface.mac_address;\n            if(mac_address === \"\") {\n                mac_address = $scope.newBondInterface.primary.mac_address;\n            }\n            var vlan_id, vlan = $scope.newBondInterface.primary.vlan;\n            if(angular.isObject(vlan)) {\n                vlan_id = vlan.id;\n            } else {\n                vlan_id = null;\n            }\n            var params = {\n                name: $scope.newBondInterface.name,\n                mac_address: mac_address,\n                tags: $scope.newBondInterface.tags.map(\n                    function(tag) { return tag.text; }),\n                parents: parents,\n                vlan: vlan_id,\n                bond_mode: $scope.newBondInterface.mode,\n                bond_lacp_rate: $scope.newBondInterface.lacpRate,\n                bond_xmit_hash_policy: $scope.newBondInterface.xmitHashPolicy\n            };\n            $scope.$parent.nodesManager.createBondInterface(\n                $scope.node, params).then(null, function(error) {\n                    // Should do something better but for now just log\n                    // the error.\n                    console.log(error);\n                });\n\n            // Remove the parent interfaces so that they don't show up\n            // in the listing unti the new bond appears.\n            angular.forEach($scope.newBondInterface.parents, function(parent) {\n                var idx = $scope.interfaces.indexOf(parent);\n                if(idx > -1) {\n                    $scope.interfaces.splice(idx, 1);\n                }\n            });\n\n            // Clear the bond interface and reset the mode.\n            $scope.newBondInterface = {};\n            $scope.selectedInterfaces = [];\n            $scope.selectedMode = SELECTION_MODE.NONE;\n        };\n\n        // Return true when a bridge can be created based on the current\n        // selection. Only can be done if no aliases are selected and only\n        // one interface is selected.\n        $scope.canCreateBridge = function() {\n            if($scope.selectedMode !== SELECTION_MODE.SINGLE) {\n                return false;\n            }\n            var nic = getSelectedInterfaces()[0];\n            if(nic.type === INTERFACE_TYPE.ALIAS ||\n                nic.type === INTERFACE_TYPE.BRIDGE) {\n                return false;\n            }\n            return true;\n        };\n\n        // Return true when the create bridge view is being shown.\n        $scope.isShowingCreateBridge = function() {\n            return $scope.selectedMode === SELECTION_MODE.CREATE_BRIDGE;\n        };\n\n        // Show the create bridge view.\n        $scope.showCreateBridge = function() {\n            if($scope.selectedMode === SELECTION_MODE.SINGLE &&\n                $scope.canCreateBridge()) {\n                $scope.selectedMode = SELECTION_MODE.CREATE_BRIDGE;\n\n                var parents = getSelectedInterfaces();\n                $scope.newBridgeInterface = {\n                    name: getNextName(\"br\"),\n                    tags: [],\n                    parents: parents,\n                    primary: parents[0],\n                    mac_address: \"\",\n                    bridge_stp: false,\n                    bridge_fd: 15\n                };\n            }\n        };\n\n        // Return true if cannot add the bridge.\n        $scope.cannotAddBridge = function() {\n            return (\n                $scope.isInterfaceNameInvalid($scope.newBridgeInterface) ||\n                $scope.isMACAddressInvalid(\n                    $scope.newBridgeInterface.mac_address));\n        };\n\n        // Actually add the bridge.\n        $scope.addBridge = function() {\n            if($scope.cannotAddBridge()) {\n               return;\n            }\n\n            var parents = [$scope.newBridgeInterface.primary.id];\n            var mac_address = $scope.newBridgeInterface.mac_address;\n            if(mac_address === \"\") {\n                mac_address = $scope.newBridgeInterface.primary.mac_address;\n            }\n            var params = {\n                name: $scope.newBridgeInterface.name,\n                mac_address: mac_address,\n                tags: $scope.newBridgeInterface.tags.map(\n                    function(tag) { return tag.text; }),\n                parents: parents,\n                vlan: $scope.newBridgeInterface.primary.vlan.id,\n                bridge_stp: $scope.newBridgeInterface.bridge_stp,\n                bridge_fd: $scope.newBridgeInterface.bridge_fd\n            };\n            $scope.$parent.nodesManager.createBridgeInterface(\n                $scope.node, params).then(null, function(error) {\n                    // Should do something better but for now just log\n                    // the error.\n                    console.log(error);\n                });\n\n            // Remove the parent interface so that they don't show up\n            // in the listing unti the new bond appears.\n            var idx = $scope.interfaces.indexOf(\n                $scope.newBridgeInterface.primary);\n            if(idx > -1) {\n                $scope.interfaces.splice(idx, 1);\n            }\n\n            // Clear the bridge interface and reset the mode.\n            $scope.newBridgeInterface = {};\n            $scope.selectedInterfaces = [];\n            $scope.selectedMode = SELECTION_MODE.NONE;\n        };\n\n        // Return true when the create physical interface view is being shown.\n        $scope.isShowingCreatePhysical = function() {\n            return $scope.selectedMode === SELECTION_MODE.CREATE_PHYSICAL;\n        };\n\n        // Show the create interface view.\n        $scope.showCreatePhysical = function() {\n            if($scope.selectedMode === SELECTION_MODE.NONE) {\n                $scope.selectedMode = SELECTION_MODE.CREATE_PHYSICAL;\n                if($scope.$parent.isDevice) {\n                    $scope.newInterface = {\n                        name: getNextName(\"eth\"),\n                        mac_address: \"\",\n                        macError: false,\n                        tags: [],\n                        errorMsg: null,\n                        subnet: null,\n                        ip_assignment: IP_ASSIGNMENT.DYNAMIC\n                    };\n                } else {\n                    $scope.newInterface = {\n                        name: getNextName(\"eth\"),\n                        mac_address: \"\",\n                        macError: false,\n                        tags: [],\n                        errorMsg: null,\n                        fabric: $scope.fabrics[0],\n                        vlan: getDefaultVLAN($scope.fabrics[0]),\n                        subnet: null,\n                        mode: LINK_MODE.LINK_UP\n                    };\n                }\n            }\n        };\n\n        // Return true if cannot add the interface.\n        $scope.cannotAddPhysicalInterface = function() {\n            return (\n                $scope.isInterfaceNameInvalid($scope.newInterface) ||\n                $scope.isMACAddressInvalid(\n                    $scope.newInterface.mac_address, true));\n        };\n\n        // Actually add the new physical interface.\n        $scope.addPhysicalInterface = function() {\n            if($scope.cannotAddPhysicalInterface()) {\n               return;\n            }\n\n            var params;\n            if($scope.$parent.isDevice) {\n                params = {\n                    name: $scope.newInterface.name,\n                    mac_address: $scope.newInterface.mac_address,\n                    tags: $scope.newInterface.tags.map(\n                        function(tag) { return tag.text; }),\n                    ip_assignment: $scope.newInterface.ip_assignment,\n                    ip_address: $scope.newInterface.ip_address\n                };\n            } else {\n                params = {\n                    name: $scope.newInterface.name,\n                    tags: $scope.newInterface.tags.map(\n                        function(tag) { return tag.text; }),\n                    mac_address: $scope.newInterface.mac_address,\n                    vlan: $scope.newInterface.vlan.id,\n                    mode: $scope.newInterface.mode\n                };\n            }\n            if(angular.isObject($scope.newInterface.subnet)) {\n                params.subnet = $scope.newInterface.subnet.id;\n            }\n            $scope.newInterface.macError = false;\n            $scope.newInterface.errorMsg = null;\n            $scope.$parent.nodesManager.createPhysicalInterface(\n                $scope.node, params).then(function() {\n                    // Clear the interface and reset the mode.\n                    $scope.newInterface = {};\n                    $scope.selectedMode = SELECTION_MODE.NONE;\n                },\n                function(errorStr) {\n                    error = JSONService.tryParse(errorStr);\n                    if(!angular.isObject(error)) {\n                        // Was not a JSON error. This is wrong here as it\n                        // should be, so just log to the console.\n                        console.log(errorStr);\n                    } else {\n                        macError = error.mac_address;\n                        if(angular.isArray(macError)) {\n                            $scope.newInterface.macError = true;\n                            $scope.newInterface.errorMsg = macError[0];\n                        }\n                    }\n                });\n        };\n\n        // Load all the required managers. NodesManager and GeneralManager\n        // are loaded by the parent controller \"NodeDetailsController\".\n        ManagerHelperService.loadManagers($scope, [\n            FabricsManager,\n            VLANsManager,\n            SubnetsManager,\n            UsersManager,\n            ControllersManager\n        ]).then(function() {\n            // GeneralManager is loaded by the parent scope however\n            // bond_options may not have been loaded. If it hasn't been\n            // loaded, load it.\n            if(!GeneralManager.isDataLoaded('bond_options')) {\n                GeneralManager.loadItems(['bond_options']);\n            }\n            $scope.managersHaveLoaded = true;\n            updateLoaded();\n        });\n\n        // Tell $parent that the networkingController has been loaded.\n        $scope.$parent.controllerLoaded('networkingController', $scope);\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Node Storage Controller\n */\n\n\n// Filter that is specific to the NodeStorageController. Remove the available\n// disks from the list if being used in the availableNew.\nangular.module('MAAS').filter('removeAvailableByNew', function() {\n    return function(disks, availableNew) {\n        if(!angular.isObject(availableNew) || (\n            !angular.isObject(availableNew.device) &&\n            !angular.isArray(availableNew.devices))) {\n            return disks;\n        }\n\n        var filtered = [];\n        var single = true;\n        if(angular.isArray(availableNew.devices)) {\n            single = false;\n        }\n        angular.forEach(disks, function(disk) {\n            if(single) {\n                if(disk !== availableNew.device) {\n                    filtered.push(disk);\n                }\n            } else {\n                var i, found = false;\n                for(i = 0; i < availableNew.devices.length; i++) {\n                    if(disk === availableNew.devices[i]) {\n                        found = true;\n                        break;\n                    }\n                }\n                if(!found) {\n                    filtered.push(disk);\n                }\n            }\n        });\n        return filtered;\n    };\n});\n\nangular.module('MAAS').controller('NodeStorageController', [\n    '$scope', 'MachinesManager', 'ConverterService', 'UsersManager',\n    function($scope, MachinesManager, ConverterService, UsersManager) {\n\n        // From models/partitiontable.py - must be kept in sync.\n        var INITIAL_PARTITION_OFFSET = 4 * 1024 * 1024;\n        var END_OF_PARTITION_TABLE_SPACE = 1024 * 1024;\n        var PARTITION_TABLE_EXTRA_SPACE = INITIAL_PARTITION_OFFSET +\n            END_OF_PARTITION_TABLE_SPACE;\n        var PREP_PARTITION_SIZE = 8 * 1024 * 1024;\n\n        // From models/partition.py - must be kept in sync.\n        var PARTITION_ALIGNMENT_SIZE = 4 * 1024 * 1024;\n        var MIN_PARTITION_SIZE = PARTITION_ALIGNMENT_SIZE;\n\n        // Different selection modes.\n        var SELECTION_MODE = {\n            NONE: null,\n            SINGLE: \"single\",\n            MUTLI: \"multi\",\n            UNMOUNT: \"unmount\",\n            UNFORMAT: \"unformat\",\n            EDIT: \"edit\",\n            DELETE: \"delete\",\n            FORMAT_AND_MOUNT: \"format-mount\",\n            PARTITION: \"partition\",\n            BCACHE: \"bcache\",\n            RAID: \"raid\",\n            VOLUME_GROUP: \"volume-group\",\n            LOGICAL_VOLUME: \"logical-volume\"\n        };\n\n        // Different available raid modes.\n        var RAID_MODES = [\n            {\n                level: \"raid-0\",\n                title: \"RAID 0\",\n                min_disks: 2,\n                allows_spares: false,\n                calculateSize: function(minSize, numDisks) {\n                    return minSize * numDisks;\n                }\n            },\n            {\n                level: \"raid-1\",\n                title: \"RAID 1\",\n                min_disks: 2,\n                allows_spares: true,\n                calculateSize: function(minSize, numDisks) {\n                    return minSize;\n                }\n            },\n            {\n                level: \"raid-5\",\n                title: \"RAID 5\",\n                min_disks: 3,\n                allows_spares: true,\n                calculateSize: function(minSize, numDisks) {\n                    return minSize * (numDisks - 1);\n                }\n            },\n            {\n                level: \"raid-6\",\n                title: \"RAID 6\",\n                min_disks: 4,\n                allows_spares: true,\n                calculateSize: function(minSize, numDisks) {\n                    return minSize * (numDisks - 2);\n                }\n            },\n            {\n                level: \"raid-10\",\n                title: \"RAID 10\",\n                min_disks: 3,\n                allows_spares: true,\n                calculateSize: function(minSize, numDisks) {\n                    return minSize * numDisks / 2;\n                }\n            }\n        ];\n\n        $scope.tableInfo = {column: 'name'};\n        $scope.has_disks = false;\n        $scope.filesystems = [];\n        $scope.filesystemsMap = {};\n        $scope.filesystemMode = SELECTION_MODE.NONE;\n        $scope.filesystemAllSelected = false;\n        $scope.cachesets = [];\n        $scope.cachesetsMap = {};\n        $scope.cachesetsMode = SELECTION_MODE.NONE;\n        $scope.cachesetsAllSelected = false;\n        $scope.available = [];\n        $scope.availableMap = {};\n        $scope.availableMode = SELECTION_MODE.NONE;\n        $scope.availableAllSelected = false;\n        $scope.availableNew = {};\n        $scope.newPartition = {};\n        $scope.nodeManager = MachinesManager;\n        $scope.used = [];\n        $scope.showMembers = [];\n\n        // Return True if the filesystem is mounted.\n        function isMountedFilesystem(filesystem) {\n            return angular.isObject(filesystem) &&\n                angular.isString(filesystem.mount_point) &&\n                filesystem.mount_point !== \"\";\n        }\n\n        // Return True if the item has a filesystem and it's mounted.\n        function hasMountedFilesystem(item) {\n            return angular.isObject(item) &&\n                isMountedFilesystem(item.filesystem);\n        }\n\n        // Returns the fstype if the item has a filesystem and its unmounted.\n        function hasFormattedUnmountedFilesystem(item) {\n            if(angular.isObject(item.filesystem) &&\n                angular.isString(item.filesystem.fstype) &&\n                item.filesystem.fstype !== '' &&\n                (angular.isString(item.filesystem.mount_point) === false ||\n                    item.filesystem.mount_point === '')) {\n                return item.filesystem.fstype;\n            }else{\n                return null;\n            }\n        }\n\n        // Return True if the item is in use.\n        function isInUse(item) {\n            if(item.type === \"cache-set\") {\n                return true;\n            } else if(angular.isObject(item.filesystem)) {\n                if(item.filesystem.is_format_fstype &&\n                    angular.isString(item.filesystem.mount_point) &&\n                    item.filesystem.mount_point !== \"\") {\n                    return true;\n                } else if(!item.filesystem.is_format_fstype) {\n                    return true;\n                }\n                return false;\n            }\n            return item.available_size < MIN_PARTITION_SIZE;\n        }\n\n        // Return the tags formatted for ngTagInput.\n        function getTags(disk) {\n            var tags = [];\n            angular.forEach(disk.tags, function(tag) {\n                tags.push({ text: tag });\n            });\n            return tags;\n        }\n\n        // Return a unique key that will never change.\n        function getUniqueKey(disk) {\n            if(disk.type === \"cache-set\") {\n                return \"cache-set-\" + disk.cache_set_id;\n            } else {\n                var key = disk.type + \"-\" + disk.block_id;\n                if(angular.isNumber(disk.partition_id)) {\n                    key += \"-\" + disk.partition_id;\n                }\n                return key;\n            }\n        }\n\n        // Update the list of filesystems. Only filesystems with a mount point\n        // set go here. If no mount point is set, it goes in available.\n        function updateFilesystems() {\n            // Create the new list of filesystems.\n            var filesystems = [];\n            angular.forEach($scope.node.disks, function(disk) {\n                if(hasMountedFilesystem(disk)) {\n                    var data = {\n                        \"type\": \"filesystem\",\n                        \"name\": disk.name,\n                        \"size_human\": disk.size_human,\n                        \"fstype\": disk.filesystem.fstype,\n                        \"mount_point\": disk.filesystem.mount_point,\n                        \"mount_options\": disk.filesystem.mount_options,\n                        \"block_id\": disk.id,\n                        \"partition_id\": null,\n                        \"filesystem_id\": disk.filesystem.id,\n                        \"original_type\": disk.type,\n                        \"original\": disk\n                    };\n                    if(disk.type === \"virtual\") {\n                        disk.parent_type = disk.parent.type;\n                    }\n                    filesystems.push(data);\n                }\n                angular.forEach(disk.partitions, function(partition) {\n                    if(hasMountedFilesystem(partition)) {\n                        filesystems.push({\n                            \"type\": \"filesystem\",\n                            \"name\": partition.name,\n                            \"size_human\": partition.size_human,\n                            \"fstype\": partition.filesystem.fstype,\n                            \"mount_point\": partition.filesystem.mount_point,\n                            \"mount_options\":\n                                partition.filesystem.mount_options,\n                            \"block_id\": disk.id,\n                            \"partition_id\": partition.id,\n                            \"filesystem_id\": partition.filesystem.id,\n                            \"original_type\": \"partition\",\n                            \"original\": partition\n                        });\n                    }\n                });\n            });\n\n            // Add special filesystems to the filesystem list. A special\n            // filesystem cannot exist unless mounted, so we don't need\n            // to check.\n            angular.forEach(\n                $scope.node.special_filesystems,\n                function(filesystem) {\n                    filesystems.push({\n                        \"type\": \"filesystem\",\n                        \"name\": \"—\",\n                        \"size_human\": \"—\",\n                        \"fstype\": filesystem.fstype,\n                        \"mount_point\": filesystem.mount_point,\n                        \"mount_options\": filesystem.mount_options,\n                        \"block_id\": null,\n                        \"partition_id\": null,\n                        \"original_type\": \"special\"\n                    });\n                });\n\n            // Update the selected filesystems with the currently selected\n            // filesystems.\n            angular.forEach(filesystems, function(filesystem) {\n                var key = getUniqueKey(filesystem);\n                var oldFilesystem = $scope.filesystemsMap[key];\n                if(angular.isObject(oldFilesystem)) {\n                    filesystem.$selected = oldFilesystem.$selected;\n                } else {\n                    filesystem.$selected = false;\n                }\n            });\n\n            // Update the filesystems and filesystemsMap on the scope.\n            $scope.filesystems = filesystems;\n            $scope.filesystemsMap = {};\n            angular.forEach(filesystems, function(filesystem) {\n                $scope.filesystemsMap[getUniqueKey(filesystem)] = filesystem;\n            });\n\n            // Update the selection mode.\n            $scope.updateFilesystemSelection(false);\n        }\n\n        // Update the list of cache sets.\n        function updateCacheSets() {\n            // Create the new list of cache sets.\n            var cachesets = [];\n            angular.forEach($scope.node.disks, function(disk) {\n                if(disk.type === \"cache-set\") {\n                    cachesets.push({\n                        \"type\": \"cache-set\",\n                        \"name\": disk.name,\n                        \"size_human\": disk.size_human,\n                        \"cache_set_id\": disk.id,\n                        \"used_by\": disk.used_for\n                    });\n                }\n            });\n\n            // Update the selected cache sets with the currently selected\n            // cache sets.\n            angular.forEach(cachesets, function(cacheset) {\n                var key = getUniqueKey(cacheset);\n                var oldCacheSet = $scope.cachesetsMap[key];\n                if(angular.isObject(oldCacheSet)) {\n                    cacheset.$selected = oldCacheSet.$selected;\n                } else {\n                    cacheset.$selected = false;\n                }\n            });\n\n            // Update the cachesets and cachesetsMap on the scope.\n            $scope.cachesets = cachesets;\n            $scope.cachesetsMap = {};\n            angular.forEach(cachesets, function(cacheset) {\n                $scope.cachesetsMap[getUniqueKey(cacheset)] = cacheset;\n            });\n\n            // Update the selection mode.\n            $scope.updateCacheSetsSelection(false);\n        }\n\n        // Update list of all available disks.\n        function updateAvailable() {\n            var available = [];\n            angular.forEach($scope.node.disks, function(disk) {\n                if(!isInUse(disk)) {\n                    var has_partitions = false;\n                    if(angular.isArray(disk.partitions) &&\n                        disk.partitions.length > 0) {\n                        has_partitions = true;\n                    }\n                    var data = {\n                        \"name\": disk.name,\n                        \"size_human\": disk.size_human,\n                        \"available_size_human\": disk.available_size_human,\n                        \"used_size_human\": disk.used_size_human,\n                        \"type\": disk.type,\n                        \"model\": disk.model,\n                        \"serial\": disk.serial,\n                        \"tags\": getTags(disk),\n                        \"fstype\": hasFormattedUnmountedFilesystem(disk),\n                        \"mount_point\": null,\n                        \"mount_options\": null,\n                        \"block_id\": disk.id,\n                        \"partition_id\": null,\n                        \"has_partitions\": has_partitions,\n                        \"is_boot\": disk.is_boot,\n                        \"original\": disk,\n                        \"test_status\": disk.test_status,\n                        \"firmware_version\": disk.firmware_version\n                    };\n                    if(disk.type === \"virtual\") {\n                        data.parent_type = disk.parent.type;\n                    }\n                    available.push(data);\n                }\n                angular.forEach(disk.partitions, function(partition) {\n                    if(!isInUse(partition)) {\n                        available.push({\n                            \"name\": partition.name,\n                            \"size_human\": partition.size_human,\n                            \"available_size_human\": (\n                                partition.available_size_human),\n                            \"used_size_human\": partition.used_size_human,\n                            \"type\": \"partition\",\n                            \"model\": \"\",\n                            \"serial\": \"\",\n                            \"tags\": [],\n                            \"fstype\":\n                                hasFormattedUnmountedFilesystem(partition),\n                            \"mount_point\": null,\n                            \"mount_options\": null,\n                            \"block_id\": disk.id,\n                            \"partition_id\": partition.id,\n                            \"has_partitions\": false,\n                            \"is_boot\": false,\n                            \"original\": partition\n                        });\n                    }\n                });\n            });\n\n            // Update the selected available disks with the currently selected\n            // available disks. Also copy the $options so they are not lost\n            // for the current action.\n            angular.forEach(available, function(disk) {\n                var key = getUniqueKey(disk);\n                var oldDisk = $scope.availableMap[key];\n                if(angular.isObject(oldDisk)) {\n                    disk.$selected = oldDisk.$selected;\n                    disk.$options = oldDisk.$options;\n                } else {\n                    disk.$selected = false;\n                    disk.$options = {};\n                }\n            });\n\n            // Update available and availableMap on the scope.\n            $scope.available = available;\n            $scope.availableMap = {};\n            angular.forEach(available, function(disk) {\n                $scope.availableMap[getUniqueKey(disk)] = disk;\n            });\n\n            // Update device or devices on the availableNew object to be\n            // there new objects.\n            if(angular.isObject($scope.availableNew)) {\n                // Update device.\n                if(angular.isObject($scope.availableNew.device)) {\n                    var key = getUniqueKey($scope.availableNew.device);\n                    $scope.availableNew.device = $scope.availableMap[key];\n                // Update devices.\n                } else if(angular.isArray($scope.availableNew.devices)) {\n                    var newDevices = [];\n                    angular.forEach(\n                        $scope.availableNew.devices, function(device) {\n                            var key = getUniqueKey(device);\n                            var newDevice = $scope.availableMap[key];\n                            if(angular.isObject(newDevice)) {\n                                newDevices.push(newDevice);\n                            }\n                        });\n                    $scope.availableNew.devices = newDevices;\n                }\n            }\n\n            // Update the selection mode.\n            $scope.updateAvailableSelection(false);\n        }\n\n        // Update list of all used disks.\n        function updateUsed() {\n            var used = [];\n            angular.forEach($scope.node.disks, function(disk) {\n                if(isInUse(disk) && disk.type !== \"cache-set\") {\n                    var has_partitions = false;\n                    if(angular.isArray(disk.partitions) &&\n                        disk.partitions.length > 0) {\n                        has_partitions = true;\n                    }\n                    var data = {\n                        \"name\": disk.name,\n                        \"type\": disk.type,\n                        \"model\": disk.model,\n                        \"serial\": disk.serial,\n                        \"tags\": getTags(disk),\n                        \"used_for\": disk.used_for,\n                        \"is_boot\": disk.is_boot,\n                        \"has_partitions\": has_partitions,\n                        \"test_status\": disk.test_status,\n                        \"firmware_version\": disk.firmware_version\n                    };\n                    if(disk.type === \"virtual\") {\n                        data.parent_type = disk.parent.type;\n                    }\n                    used.push(data);\n                }\n                angular.forEach(disk.partitions, function(partition) {\n                    if(isInUse(partition) && partition.type !== \"cache-set\") {\n                        used.push({\n                            \"name\": partition.name,\n                            \"type\": \"partition\",\n                            \"model\": \"\",\n                            \"serial\": \"\",\n                            \"tags\": [],\n                            \"used_for\": partition.used_for,\n                            \"is_boot\": false\n                        });\n                    }\n                });\n            });\n            $scope.used = used;\n        }\n\n        // Updates the filesystem, available, and used list.\n        function updateDisks() {\n            if(angular.isArray($scope.node.disks)) {\n                $scope.has_disks = $scope.node.disks.length > 0;\n                updateFilesystems();\n                updateCacheSets();\n                updateAvailable();\n                updateUsed();\n            } else {\n                $scope.has_disks = false;\n                $scope.filesystems = [];\n                $scope.filesystemsMap = {};\n                $scope.filesystemMode = SELECTION_MODE.NONE;\n                $scope.filesystemAllSelected = false;\n                $scope.cachesets = [];\n                $scope.cachesetsMap = {};\n                $scope.cachesetsMode = SELECTION_MODE.NONE;\n                $scope.cachesetsAllSelected = false;\n                $scope.available = [];\n                $scope.availableMap = {};\n                $scope.availableMode = SELECTION_MODE.NONE;\n                $scope.availableAllSelected = false;\n                $scope.availableNew = {};\n                $scope.used = [];\n            }\n        }\n\n        // Deselect all items in the array.\n        function deselectAll(items) {\n            angular.forEach(items, function(item) {\n                item.$selected = false;\n            });\n        }\n\n        // Capitalize the first letter of the string.\n        function capitalizeFirstLetter(string) {\n            return string.charAt(0).toUpperCase() + string.slice(1);\n        }\n\n        // Return true if the string is a number.\n        function isNumber(string) {\n            var pattern = /^-?\\d+\\.?\\d*$/;\n            return pattern.test(string);\n        }\n\n        // Extract the index from the name based on prefix.\n        function getIndexFromName(prefix, name) {\n            var pattern = new RegExp(\"^\" + prefix + \"([0-9]+)$\");\n            var match = pattern.exec(name);\n            if(angular.isArray(match) && match.length === 2) {\n                return parseInt(match[1], 10);\n            }\n        }\n\n        // Get the next device name based on prefix.\n        function getNextName(prefix) {\n            var idx = -1;\n            angular.forEach($scope.node.disks, function(disk) {\n                var dIdx = getIndexFromName(prefix, disk.name);\n                if(angular.isNumber(dIdx)) {\n                    idx = Math.max(idx, dIdx);\n                }\n                angular.forEach(disk.partitions, function(partition) {\n                    dIdx = getIndexFromName(prefix, partition.name);\n                    if(angular.isNumber(dIdx)) {\n                        idx = Math.max(idx, dIdx);\n                    }\n                });\n            });\n            return prefix + (idx + 1);\n        }\n\n        // Return true if another disk exists with name.\n        function isNameAlreadyInUse(name, exclude_disk) {\n            if(!angular.isArray($scope.node.disks)) {\n                return false;\n            }\n\n            var i, j;\n            for(i = 0; i < $scope.node.disks.length; i++) {\n                var disk = $scope.node.disks[i];\n                if(disk.name === name) {\n                    if(!angular.isObject(exclude_disk) ||\n                        exclude_disk.type === \"partition\" ||\n                        exclude_disk.block_id !== disk.id) {\n                        return true;\n                    }\n                }\n                if(angular.isArray(disk.partitions)) {\n                    for(j = 0; j < disk.partitions.length; j++) {\n                        var partition = disk.partitions[j];\n                        if(partition.name === name) {\n                            if(!angular.isObject(exclude_disk) ||\n                                exclude_disk.type !== \"partition\" ||\n                                exclude_disk.partition_id !== partition.id) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            return false;\n        }\n\n        // Return true if the disk is a logical volume.\n        function isLogicalVolume(disk) {\n            return disk.type === \"virtual\" && disk.parent_type === \"lvm-vg\";\n        }\n\n        // Called by $parent when the node has been loaded.\n        $scope.nodeLoaded = function() {\n            $scope.$watch(\"node.disks\", updateDisks);\n        };\n\n        // Return true if the item can be a boot disk.\n        $scope.isBootDiskDisabled = function(item, section) {\n            // Only superusers can change the boot disk.\n            if(!$scope.isSuperUser()) {\n                return true;\n            }\n\n            // Not ready or allocated so the boot disk cannot be changed.\n            if (angular.isObject($scope.node) &&\n                [\"Ready\", \"Allocated\"].indexOf(\n                    $scope.node.status) === -1) {\n                return true;\n            }\n\n            // Only physical disks can be the boot disk.\n            if(item.type !== \"physical\") {\n                return true;\n            }\n\n            // If the disk is in the used section and does not have any\n            // partitions then it cannot be a boot disk. Boot disk either\n            // require that it be unused or that some partitions exists\n            // on the disk. This is because the boot disk has to have a\n            // partition table header.\n            if(section === \"used\") {\n                return !item.has_partitions;\n            }\n            return false;\n        };\n\n        // Called to change the disk to a boot disk.\n        $scope.setAsBootDisk = function(item) {\n            // Do nothing if already the boot disk.\n            if(item.is_boot) {\n                return;\n            }\n            // Do nothing if disabled.\n            if($scope.isBootDiskDisabled(item)) {\n                return;\n            }\n\n            MachinesManager.setBootDisk($scope.node, item.block_id);\n        };\n\n        // Return array of selected filesystems.\n        $scope.getSelectedFilesystems = function() {\n            var filesystems = [];\n            angular.forEach($scope.filesystems, function(filesystem) {\n                if(filesystem.$selected) {\n                    filesystems.push(filesystem);\n                }\n            });\n            return filesystems;\n        };\n\n        // Update the currect mode for the filesystem section and the all\n        // selected value.\n        $scope.updateFilesystemSelection = function(force) {\n            if(angular.isUndefined(force)) {\n                force = false;\n            }\n            var filesystems = $scope.getSelectedFilesystems();\n            if(filesystems.length === 0) {\n                $scope.filesystemMode = SELECTION_MODE.NONE;\n            } else if(filesystems.length === 1 && force) {\n                $scope.filesystemMode = SELECTION_MODE.SINGLE;\n            } else if(force) {\n                $scope.filesystemMode = SELECTION_MODE.MUTLI;\n            }\n\n            if($scope.filesystems.length === 0) {\n                $scope.filesystemAllSelected = false;\n            } else if(filesystems.length === $scope.filesystems.length) {\n                $scope.filesystemAllSelected = true;\n            } else {\n                $scope.filesystemAllSelected = false;\n            }\n        };\n\n        // Toggle the selection of the filesystem.\n        $scope.toggleFilesystemSelect = function(filesystem) {\n            filesystem.$selected = !filesystem.$selected;\n            $scope.updateFilesystemSelection(true);\n        };\n\n        // Toggle the selection of all filesystems.\n        $scope.toggleFilesystemAllSelect = function() {\n            angular.forEach($scope.filesystems, function(filesystem) {\n                if($scope.filesystemAllSelected) {\n                    filesystem.$selected = false;\n                } else {\n                    filesystem.$selected = true;\n                }\n            });\n            $scope.updateFilesystemSelection(true);\n        };\n\n        // Return true if checkboxes in the filesystem section should be\n        // disabled.\n        $scope.isFilesystemsDisabled = function() {\n            return ((\n                $scope.filesystemMode !== SELECTION_MODE.NONE &&\n                $scope.filesystemMode !== SELECTION_MODE.SINGLE &&\n                $scope.filesystemMode !== SELECTION_MODE.MUTLI) ||\n                $scope.isAllStorageDisabled());\n        };\n\n        // Cancel the current filesystem operation.\n        $scope.filesystemCancel = function() {\n            deselectAll($scope.filesystems);\n            $scope.updateFilesystemSelection(true);\n        };\n\n        // Enter unmount mode.\n        $scope.filesystemUnmount = function() {\n            $scope.filesystemMode = SELECTION_MODE.UNMOUNT;\n        };\n\n        // Quickly enter unmount by selecting the filesystem first.\n        $scope.quickFilesystemUnmount = function(filesystem) {\n            deselectAll($scope.filesystems);\n            filesystem.$selected = true;\n            $scope.updateFilesystemSelection(true);\n            $scope.filesystemUnmount();\n        };\n\n        // Confirm the unmount action for filesystem.\n        $scope.filesystemConfirmUnmount = function(filesystem) {\n            MachinesManager.updateFilesystem(\n                $scope.node,\n                filesystem.block_id, filesystem.partition_id,\n                filesystem.fstype, null, null);\n\n            var idx = $scope.filesystems.indexOf(filesystem);\n            $scope.filesystems.splice(idx, 1);\n            $scope.updateFilesystemSelection();\n        };\n\n        // Enter delete mode.\n        $scope.filesystemDelete = function() {\n            $scope.filesystemMode = SELECTION_MODE.DELETE;\n        };\n\n        // Quickly enter delete by selecting the filesystem first.\n        $scope.quickFilesystemDelete = function(filesystem) {\n            deselectAll($scope.filesystems);\n            filesystem.$selected = true;\n            $scope.updateFilesystemSelection(true);\n            $scope.filesystemDelete();\n        };\n\n        // Confirm the delete action for filesystem.\n        $scope.filesystemConfirmDelete = function(filesystem) {\n            if(filesystem.original_type === \"special\") {\n                // Delete the special filesystem.\n                MachinesManager.unmountSpecialFilesystem(\n                    $scope.node, filesystem.mount_point);\n            } else if(filesystem.original_type === \"partition\") {\n                // Delete the partition.\n                MachinesManager.deletePartition(\n                    $scope.node, filesystem.original.id);\n            } else {\n                // Delete the disk.\n                MachinesManager.deleteFilesystem(\n                    $scope.node, filesystem.block_id, filesystem.partition_id,\n                    filesystem.filesystem_id);\n            }\n\n            var idx = $scope.filesystems.indexOf(filesystem);\n            $scope.filesystems.splice(idx, 1);\n            $scope.updateFilesystemSelection();\n        };\n\n        // Return true if the disk has an unmouted filesystem.\n        $scope.hasUnmountedFilesystem = function(disk) {\n            if(angular.isString(disk.fstype) && disk.fstype !== \"\") {\n                if(!angular.isString(disk.mount_point) ||\n                    disk.mount_point === \"\") {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Return true if the free space label should be shown.\n        $scope.showFreeSpace = function(disk) {\n            if(disk.type === \"lvm-vg\") {\n                return true;\n            } else if(disk.type === \"physical\" || disk.type === \"virtual\") {\n                return disk.has_partitions;\n            } else {\n                return false;\n            }\n        };\n\n        // Return the device type for the disk.\n        $scope.getDeviceType = function(disk) {\n            if(angular.isUndefined(disk)) {\n                return \"\";\n            }\n\n            if(disk.type === \"virtual\") {\n                if(disk.parent_type === \"lvm-vg\") {\n                    return \"Logical volume\";\n                } else if(disk.parent_type.indexOf(\"raid-\") === 0) {\n                    return \"RAID \" + disk.parent_type.split(\"-\")[1];\n                } else {\n                    return capitalizeFirstLetter(disk.parent_type);\n                }\n            } else if(disk.type === \"lvm-vg\") {\n                return \"Volume group\";\n            } else {\n                return capitalizeFirstLetter(disk.type);\n            }\n        };\n\n        // Return array of selected available disks.\n        $scope.getSelectedAvailable = function() {\n            var available = [];\n            angular.forEach($scope.available, function(disk) {\n                if(disk.$selected) {\n                    available.push(disk);\n                }\n            });\n            return available;\n        };\n\n        // Update the current mode for the available section and the all\n        // selected value.\n        $scope.updateAvailableSelection = function(force) {\n            if(angular.isUndefined(force)) {\n                force = false;\n            }\n            var available = $scope.getSelectedAvailable();\n            if(available.length === 0) {\n                $scope.availableMode = SELECTION_MODE.NONE;\n            } else if(available.length === 1 && force) {\n                $scope.availableMode = SELECTION_MODE.SINGLE;\n            } else if(force) {\n                $scope.availableMode = SELECTION_MODE.MUTLI;\n            }\n\n            if($scope.available.length === 0) {\n                $scope.availableAllSelected = false;\n            } else if(available.length === $scope.available.length) {\n                $scope.availableAllSelected = true;\n            } else {\n                $scope.availableAllSelected = false;\n            }\n        };\n\n        // Toggle the selection of the available disk.\n        $scope.toggleAvailableSelect = function(disk) {\n            disk.$selected = !disk.$selected;\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Toggle the selection of all available disks.\n        $scope.toggleAvailableAllSelect = function() {\n            angular.forEach($scope.available, function(disk) {\n                if(!$scope.availableAllSelected) {\n                    disk.$selected = true;\n                } else {\n                    disk.$selected = false;\n                }\n            });\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Return true if checkboxes in the avaiable section should be\n        // disabled.\n        $scope.isAvailableDisabled = function() {\n            return ((\n                $scope.availableMode !== SELECTION_MODE.NONE &&\n                $scope.availableMode !== SELECTION_MODE.SINGLE &&\n                $scope.availableMode !== SELECTION_MODE.MUTLI) ||\n                $scope.isAllStorageDisabled());\n        };\n\n        // Return true if the disk can be formatted and mounted.\n        $scope.canFormatAndMount = function(disk) {\n            if($scope.isAllStorageDisabled()) {\n                return false;\n            } else if(disk.type === \"lvm-vg\" || disk.has_partitions) {\n                return false;\n            } else if(disk.type === \"physical\" && disk.original.is_boot) {\n                return false;\n            } else {\n                return true;\n            }\n        };\n\n        // Return the text for the partition button.\n        $scope.getPartitionButtonText = function(disk) {\n            if(disk.has_partitions) {\n                return \"Add partition\";\n            } else {\n                return \"Partition\";\n            }\n        };\n\n        $scope.availablePartitionSpace = function(disk) {\n            var space_to_reserve = 0;\n            if(!angular.isString(disk.original.partition_table_type)\n                || disk.original.partition_table_type === \"\") {\n                // Disk has no partition table, so reserve space for it.\n                space_to_reserve = PARTITION_TABLE_EXTRA_SPACE;\n                // ppc64el node requires that space be saved for the prep\n                // partition.\n                if($scope.node.architecture.indexOf(\"ppc64el\") === 0) {\n                    space_to_reserve += PREP_PARTITION_SIZE;\n                }\n            }\n            return ConverterService.roundByBlockSize(\n                disk.original.available_size - space_to_reserve,\n                PARTITION_ALIGNMENT_SIZE);\n        };\n\n        // Return true if a partition can be added to disk.\n        $scope.canAddPartition = function(disk) {\n            if(!$scope.isSuperUser() || $scope.isAllStorageDisabled()) {\n                return false;\n            } else if(disk.type === \"partition\" || disk.type === \"lvm-vg\") {\n                return false;\n            } else if(disk.type === \"virtual\" &&\n                (disk.parent_type === \"lvm-vg\" ||\n                    disk.parent_type === \"bcache\")) {\n                return false;\n            } else if(angular.isString(disk.fstype) && disk.fstype !== \"\") {\n                return false;\n            }\n            // If we can fit a minimum partition, we're golden.\n            return ($scope.availablePartitionSpace(disk) -\n                MIN_PARTITION_SIZE) >= 0;\n        };\n\n        // Return true if the name is invalid.\n        $scope.isNameInvalid = function(disk) {\n            if(disk.name === \"\") {\n                return false;\n            } else if(isNameAlreadyInUse(disk.name, disk)) {\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        // Prevent logical volumes from changing the volume group prefix.\n        $scope.nameHasChanged = function(disk) {\n            if(isLogicalVolume(disk)) {\n                var parentName = disk.original.name.split(\"-\")[0] + \"-\";\n                var startsWith = disk.name.indexOf(parentName);\n                if(startsWith !== 0) {\n                    disk.name = parentName;\n                }\n            }\n        };\n\n        // Cancel the current available operation.\n        $scope.availableCancel = function(disk) {\n            $scope.updateAvailableSelection(true);\n            $scope.availableNew = {};\n        };\n\n        // Return true if the filesystem can be mounted at a directory.\n        $scope.usesMountPoint = function(fstype) {\n            return angular.isString(fstype) && fstype !== \"swap\";\n        };\n\n        // Return true if the filesystem uses storage (partition or\n        // block device).\n        $scope.usesStorage = function(fstype) {\n            return angular.isString(fstype) &&\n                fstype !== \"tmpfs\" && fstype !== \"ramfs\";\n        };\n\n        // Return true if the mount point is invalid.\n        $scope.isMountPointInvalid = function(mountPoint) {\n            if(angular.isUndefined(mountPoint) || mountPoint === \"\") {\n                return false;\n            } else if (mountPoint === \"none\") {\n                // XXX: Hack to allow \"swap\" filesystems to be mounted.\n                // This should be allowed only when fstype is 'swap' but\n                // doing that would require more refactoring (or more\n                // hacks) that I have time for right now.\n                return false;\n            } else if(mountPoint[0] !== \"/\") {\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        // Return true if the disk can be deleted.\n        $scope.canDelete = function(disk) {\n            if (!$scope.isSuperUser() || $scope.isAllStorageDisabled()) {\n                return false;\n            } else if(disk.type === \"lvm-vg\") {\n                return disk.original.used_size === 0;\n            } else {\n                return !disk.has_partitions;\n            }\n        };\n\n        // Enter delete mode.\n        $scope.availableDelete = function() {\n            $scope.availableMode = SELECTION_MODE.DELETE;\n        };\n\n        // Quickly enter delete mode.\n        $scope.availableQuickDelete = function(disk) {\n            deselectAll($scope.available);\n            disk.$selected = true;\n            $scope.updateAvailableSelection(true);\n            $scope.availableDelete();\n        };\n\n        // Return true if it can be edited.\n        $scope.canEdit = function(disk) {\n          if (!$scope.isSuperUser() || $scope.isAllStorageDisabled()) {\n              return false;\n          } else {\n              return true;\n          }\n        };\n\n        // Enter Edit mode, disable certain fields based on disk type\n        $scope.availableEdit = function(disk) {\n            $scope.availableMode = SELECTION_MODE.EDIT;\n\n            if (disk.type === \"lvm-vg\") {\n                disk.$options = {\n                    editingTags: false,\n                    editingFilesystem: false\n                };\n            } else if (disk.type === \"partition\") {\n                disk.$options = {\n                    editingTags: false,\n                    editingFilesystem: true,\n                    fstype: disk.fstype\n                };\n            } else {\n                disk.$options = {\n                    editingFilesystem: true,\n                    editingTags: true,\n                    tags: angular.copy(disk.tags),\n                    fstype: disk.fstype\n                };\n                if (!$scope.canFormatAndMount(disk)) {\n                    disk.$options.editingFilesystem = false;\n                }\n            }\n        };\n\n        // Quickly enter Edit mode\n        $scope.availableQuickEdit = function(disk) {\n            deselectAll($scope.available);\n            disk.$selected = true;\n            $scope.updateAvailableSelection(true);\n            $scope.availableEdit(disk);\n        };\n\n        // Save the disk which is in Edit mode\n        $scope.availableConfirmEdit = function(disk) {\n            var params = {\n                name: disk.name\n            };\n\n            // Do nothing if not valid.\n            if($scope.isNameInvalid(disk) ||\n                $scope.isMountPointInvalid(disk.$options.mountPoint)) {\n                return;\n            }\n\n            // Reset the name if its blank.\n            if(disk.name === \"\") {\n                disk.name = disk.original.name;\n            }\n\n            // Ensure logical volume has parent prefix in its name.\n            if(isLogicalVolume(disk)){\n                var parentName = disk.original.name.split(\"-\")[0] + \"-\";\n                params.name = disk.name.slice(parentName.length);\n            }\n\n            // Set filesystem options so formatting and mounting is performed.\n            if(angular.isDefined(disk.$options.fstype)) {\n                params.fstype = disk.$options.fstype;\n                params.mount_point = disk.$options.mountPoint || '';\n                params.mount_options = disk.$options.mountOptions || '';\n            }\n\n            // Update the tags for the disk.\n            if(angular.isArray(disk.$options.tags)) {\n                params.tags = disk.$options.tags.map(\n                    function(tag) { return tag.text; });\n            }\n\n            // Save the options.\n            if(disk.type === \"partition\") {\n                MachinesManager.updateFilesystem(\n                    $scope.node, disk.block_id, disk.partition_id,\n                    params.fstype, params.mount_point,\n                    params.mount_options, params.tags);\n            } else {\n                MachinesManager.updateDisk(\n                    $scope.node, disk.block_id, params);\n            }\n\n            // Set the options on the object so no flicker occurs while waiting\n            // for the new object to be received.\n            disk.fstype = disk.$options.fstype;\n            disk.mount_point = disk.$options.mountPoint;\n            disk.mount_options = disk.$options.mountOptions;\n            disk.tags = disk.$options.tags;\n            disk.$options = {};\n\n            // If the mount_point is set then we need to transition this to\n            // the filesystem section.\n            if(angular.isString(disk.mount_point) && disk.mount_point !== \"\") {\n                $scope.filesystems.push({\n                    \"name\": disk.name,\n                    \"size_human\": disk.size_human,\n                    \"fstype\": disk.fstype,\n                    \"mount_point\": disk.mount_point,\n                    \"mount_options\": disk.mount_options,\n                    \"block_id\": disk.block_id,\n                    \"partition_id\": disk.partition_id\n                });\n\n                // Remove the selected disk from available.\n                var idx = $scope.available.indexOf(disk);\n                $scope.available.splice(idx, 1);\n            }\n\n            // Deselect the disk after saving\n            disk.$selected = false;\n\n            // Update the current selections.\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Return the text for remove confirmation message.\n        $scope.getRemoveTypeText = function(disk) {\n            if(disk.type === \"filesystem\") {\n                if (angular.isObject(disk.original)) {\n                    disk = disk.original;\n                } else {\n                    return \"special filesystem\";\n                }\n            }\n\n            if(disk.type === \"physical\") {\n                return \"physical disk\";\n            } else if(disk.type === \"partition\") {\n                return \"partition\";\n            } else if(disk.type === \"lvm-vg\") {\n                return \"volume group\";\n            } else if(disk.type === \"virtual\") {\n                if(disk.parent_type === \"lvm-vg\") {\n                    return \"logical volume\";\n                } else if(disk.parent_type.indexOf(\"raid-\") === 0) {\n                    return \"RAID \" + disk.parent_type.split(\"-\")[1] + \" disk\";\n                } else {\n                    return disk.parent_type + \" disk\";\n                }\n            }\n        };\n\n        // Delete the disk, partition, or volume group.\n        $scope.availableConfirmDelete = function(disk) {\n            if(disk.type === \"lvm-vg\") {\n                // Delete the volume group.\n                MachinesManager.deleteVolumeGroup(\n                    $scope.node, disk.block_id);\n            } else if(disk.type === \"partition\") {\n                // Delete the partition.\n                MachinesManager.deletePartition(\n                    $scope.node, disk.partition_id);\n            } else {\n                // Delete the disk.\n                MachinesManager.deleteDisk(\n                    $scope.node, disk.block_id);\n            }\n\n            // Remove the selected disk from available.\n            var idx = $scope.available.indexOf(disk);\n            $scope.available.splice(idx, 1);\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Enter partition mode.\n        $scope.availablePartition = function(disk) {\n            $scope.availableMode = SELECTION_MODE.PARTITION;\n            // Set starting size to the maximum available space.\n            var size_and_units = disk.available_size_human.split(\" \");\n            disk.$options = {\n                size: size_and_units[0],\n                sizeUnits: size_and_units[1],\n                fstype: null,\n                mountPoint: \"\",\n                mountOptions: \"\"\n            };\n        };\n\n        // Quickly enter partition mode.\n        $scope.availableQuickPartition = function(disk) {\n            deselectAll($scope.available);\n            disk.$selected = true;\n            $scope.updateAvailableSelection(true);\n            $scope.availablePartition(disk);\n        };\n\n        // Get the new name of the partition.\n        $scope.getAddPartitionName = function(disk) {\n            var length, partitions = disk.original.partitions;\n            if(angular.isArray(partitions)) {\n                length = partitions.length;\n            } else {\n                length = 0;\n            }\n            if(disk.original.partition_table_type === \"mbr\" &&\n                length > 2) {\n                return disk.name + \"-part\" + (length + 2);\n            } else if($scope.node.architecture.indexOf(\"ppc64el\") === 0 &&\n                disk.original.is_boot) {\n                // Boot disk on ppc64el machines skip the first partition as\n                // its reserved for the prep partition.\n                return disk.name + \"-part\" + (length + 2);\n            } else {\n                return disk.name + \"-part\" + (length + 1);\n            }\n        };\n\n        // Return true if the size is invalid.\n        $scope.isAddPartitionSizeInvalid = function(disk) {\n            let size = disk.$options.size;\n            // blr 2018-07-23: special cased as isAddLogicalVolumeSizeInvalid\n            // calls this but has not yet migrated to maas-obj-form.\n            if($scope.newPartition.$maasForm) {\n                size = $scope.newPartition.$maasForm.getValue('size');\n            }\n            if(size === \"\" || !isNumber(size)) {\n                return true;\n            } else {\n                var bytes = ConverterService.unitsToBytes(\n                    size, disk.$options.sizeUnits);\n                if(bytes < MIN_PARTITION_SIZE) {\n                    return true;\n                } else if(bytes > disk.original.available_size) {\n                    // Round the size down to the lowest tolerance for that\n                    // to see if it now fits.\n                    var rounded = ConverterService.roundUnits(\n                        size, disk.$options.sizeUnits);\n                    if(rounded > disk.original.available_size) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                } else {\n                    return false;\n                }\n            }\n        };\n\n        // Confirm the partition creation.\n        $scope.availableConfirmPartition = function(disk) {\n            const form = $scope.newPartition.$maasForm;\n            const size = form.getValue('size');\n            const mountPoint = form.getValue('mount_point');\n            const mountOptions = form.getValue('mount_options');\n\n            // Do nothing if not valid.\n            if($scope.isAddPartitionSizeInvalid(disk) ||\n                $scope.isMountPointInvalid(mountPoint)) {\n                return;\n            }\n\n            // Get the bytes to create the partition.\n            var bytes = ConverterService.unitsToBytes(\n                size, disk.$options.sizeUnits);\n\n            // Accepting prefilled defaults means use whole disk (lp:1509535).\n            var size_and_units = disk.original.available_size_human.split(\" \");\n            if(size === size_and_units[0] &&\n               disk.$options.sizeUnits === size_and_units[1]) {\n                bytes = disk.original.available_size;\n            }\n\n            var removeDisk = false;\n            var available_space = $scope.availablePartitionSpace(disk);\n            if(bytes >= available_space) {\n                // Clamp to available space.\n                bytes = available_space;\n                // Remove the disk if partition uses all the remaining space.\n                removeDisk = true;\n            }\n\n            // Set params\n            var params = {};\n            if(angular.isString(disk.$options.fstype) &&\n                disk.$options.fstype !== \"\") {\n                params.fstype = disk.$options.fstype;\n                if(mountPoint !== \"\") {\n                    params.mount_point = mountPoint;\n                    params.mount_options = mountOptions;\n                }\n            }\n\n            // Set values on maas-obj-form object\n            $scope.newPartition.system_id = $scope.node.system_id;\n            $scope.newPartition.block_id = disk.block_id;\n            $scope.newPartition.partition_size = bytes;\n            $scope.newPartition.params = params;\n\n            // Remove the disk if needed.\n            if(removeDisk) {\n                var idx = $scope.available.indexOf(disk);\n                $scope.available.splice(idx, 1);\n            }\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Return array of selected cache sets.\n        $scope.getSelectedCacheSets = function() {\n            var cachesets = [];\n            angular.forEach($scope.cachesets, function(cacheset) {\n                if(cacheset.$selected) {\n                    cachesets.push(cacheset);\n                }\n            });\n            return cachesets;\n        };\n\n        // Update the currect mode for the cache sets section and the all\n        // selected value.\n        $scope.updateCacheSetsSelection = function(force) {\n            if(angular.isUndefined(force)) {\n                force = false;\n            }\n            var cachesets = $scope.getSelectedCacheSets();\n            if(cachesets.length === 0) {\n                $scope.cachesetsMode = SELECTION_MODE.NONE;\n            } else if(cachesets.length === 1 && force) {\n                $scope.cachesetsMode = SELECTION_MODE.SINGLE;\n            } else if(force) {\n                $scope.cachesetsMode = SELECTION_MODE.MUTLI;\n            }\n\n            if($scope.cachesets.length === 0) {\n                $scope.cachesetsAllSelected = false;\n            } else if(cachesets.length === $scope.cachesets.length) {\n                $scope.cachesetsAllSelected = true;\n            } else {\n                $scope.cachesetsAllSelected = false;\n            }\n        };\n\n        // Toggle the selection of the filesystem.\n        $scope.toggleCacheSetSelect = function(cacheset) {\n            cacheset.$selected = !cacheset.$selected;\n            $scope.updateCacheSetsSelection(true);\n        };\n\n        // Toggle the selection of all filesystems.\n        $scope.toggleCacheSetAllSelect = function() {\n            angular.forEach($scope.cachesets, function(cacheset) {\n                if($scope.cachesetsAllSelected) {\n                    cacheset.$selected = false;\n                } else {\n                    cacheset.$selected = true;\n                }\n            });\n            $scope.updateCacheSetsSelection(true);\n        };\n\n        // Return true if checkboxes in the cache sets section should be\n        // disabled.\n        $scope.isCacheSetsDisabled = function() {\n            return ((\n                $scope.isAllStorageDisabled() &&\n                !$scope.isSuperUser()) || (\n                $scope.cachesetsMode !== SELECTION_MODE.NONE &&\n                $scope.cachesetsMode !== SELECTION_MODE.SINGLE &&\n                $scope.cachesetsMode !== SELECTION_MODE.MUTLI));\n        };\n\n        // Cancel the current cache set operation.\n        $scope.cacheSetCancel = function() {\n            deselectAll($scope.cachesets);\n            $scope.updateCacheSetsSelection(true);\n        };\n\n        // Can delete the cache set.\n        $scope.canDeleteCacheSet = function(cacheset) {\n            return (cacheset.used_by === \"\" &&\n                    !$scope.isAllStorageDisabled() &&\n                    $scope.isSuperUser());\n        };\n\n        // Enter delete mode.\n        $scope.cacheSetDelete = function() {\n            $scope.cachesetsMode = SELECTION_MODE.DELETE;\n        };\n\n        // Quickly enter delete by selecting the cache set first.\n        $scope.quickCacheSetDelete = function(cacheset) {\n            deselectAll($scope.cachesets);\n            cacheset.$selected = true;\n            $scope.updateCacheSetsSelection(true);\n            $scope.cacheSetDelete();\n        };\n\n        // Confirm the delete action for cache set.\n        $scope.cacheSetConfirmDelete = function(cacheset) {\n            MachinesManager.deleteCacheSet(\n                $scope.node, cacheset.cache_set_id);\n\n            var idx = $scope.cachesets.indexOf(cacheset);\n            $scope.cachesets.splice(idx, 1);\n            $scope.updateCacheSetsSelection();\n        };\n\n        // Return true if a cache set can be created.\n        $scope.canCreateCacheSet = function() {\n            if($scope.isAvailableDisabled() || !$scope.isSuperUser()) {\n                return false;\n            }\n\n            var selected = $scope.getSelectedAvailable();\n            if(selected.length === 1) {\n                return (\n                    !selected[0].has_partitions &&\n                    !$scope.hasUnmountedFilesystem(selected[0]) &&\n                    selected[0].type !== \"lvm-vg\");\n            }\n            return false;\n        };\n\n        // Called to create a cache set.\n        $scope.createCacheSet = function() {\n            if(!$scope.canCreateCacheSet()) {\n                return;\n            }\n\n            // Create cache set.\n            var disk = $scope.getSelectedAvailable()[0];\n            MachinesManager.createCacheSet(\n                $scope.node, disk.block_id, disk.partition_id);\n\n            // Remove from available.\n            var idx = $scope.available.indexOf(disk);\n            $scope.available.splice(idx, 1);\n        };\n\n        // Return the reason a bcache device cannot be created.\n        $scope.getCannotCreateBcacheMsg = function() {\n            if($scope.cachesets.length === 0) {\n                return \"Create at least one cache set to create bcache\";\n            } else {\n                var selected = $scope.getSelectedAvailable();\n                if(selected.length === 1) {\n                    if($scope.hasUnmountedFilesystem(selected[0])) {\n                        return (\n                            \"Device is formatted; unformat the \" +\n                            \"device to create bcache\");\n                    } else if(selected[0].type === \"lvm-vg\") {\n                        return (\n                            \"Cannot use a logical volume as a backing \" +\n                            \"device for bcache.\");\n                    } else if(selected[0].has_partitions) {\n                        return (\n                            \"Device has already been partitioned; create a \" +\n                            \"new partition to use as the bcache backing \" +\n                            \"device\");\n                    } else {\n                        return null;\n                    }\n                } else {\n                    return \"Select only one available device to create bcache\";\n                }\n            }\n        };\n\n        // Return true if a bcache can be created.\n        $scope.canCreateBcache = function() {\n            if($scope.isAvailableDisabled() || !$scope.isSuperUser()) {\n                return false;\n            }\n\n            var msg = $scope.getCannotCreateBcacheMsg();\n            if(msg === null) {\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        // Enter bcache mode.\n        $scope.createBcache = function() {\n            if(!$scope.canCreateBcache()) {\n                return;\n            }\n            $scope.availableMode = SELECTION_MODE.BCACHE;\n            $scope.availableNew = {\n                name: getNextName(\"bcache\"),\n                device: $scope.getSelectedAvailable()[0],\n                cacheset: $scope.cachesets[0],\n                cacheMode: \"writeback\",\n                fstype: null,\n                mountPoint: \"\",\n                mountOptions: \"\",\n                tags: []\n            };\n        };\n\n        // Clear mount point when the fstype is changed.\n        $scope.fstypeChanged = function(options) {\n            if(options.fstype === null) {\n                options.mountPoint = \"\";\n                options.mountOptions = \"\";\n            }\n            else {\n                // Update the mount point to \"none\" if \"swap\" is\n                // selected, and vice-versa.\n                if ($scope.usesMountPoint(options.fstype)) {\n                    if (options.mountPoint === \"none\") {\n                        options.mountPoint = \"\";\n                    }\n                }\n                else {\n                    options.mountPoint = \"none\";\n                }\n            }\n        };\n\n        // Return true when the name of the new disk is invalid.\n        $scope.isNewDiskNameInvalid = function() {\n            if(!angular.isObject($scope.node) ||\n                !angular.isArray($scope.node.disks)) {\n                return true;\n            }\n\n            if($scope.availableNew.name === \"\") {\n                return true;\n            } else {\n                var i, j;\n                for(i = 0; i < $scope.node.disks.length; i++) {\n                    var disk = $scope.node.disks[i];\n                    if($scope.availableNew.name === disk.name) {\n                        return true;\n                    }\n                    if(angular.isArray(disk.partitions)) {\n                        for(j = 0; j < disk.partitions.length; j++) {\n                            var partition = disk.partitions[j];\n                            if($scope.availableNew.name === partition.name) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n            }\n            return false;\n        };\n\n        // Return true if bcache can be saved.\n        $scope.createBcacheCanSave = function() {\n            return (\n                !$scope.isNewDiskNameInvalid() &&\n                !$scope.isMountPointInvalid($scope.availableNew.mountPoint));\n        };\n\n        // Confirm and create the bcache device.\n        $scope.availableConfirmCreateBcache = function() {\n            if(!$scope.createBcacheCanSave()) {\n                return;\n            }\n\n            // Create the bcache.\n            var params = {\n                name: $scope.availableNew.name,\n                cache_set: $scope.availableNew.cacheset.cache_set_id,\n                cache_mode: $scope.availableNew.cacheMode\n            };\n            if($scope.availableNew.device.type === \"partition\") {\n                params.partition_id = $scope.availableNew.device.partition_id;\n            } else {\n                params.block_id = $scope.availableNew.device.block_id;\n            }\n            if(angular.isString($scope.availableNew.fstype) &&\n                $scope.availableNew.fstype !== \"\") {\n                params.fstype = $scope.availableNew.fstype;\n                // XXX: Inconsistent tests of mountPoint/mount_point; in\n                // places it's compared to \"\" (like here), in others\n                // it's tested with angular.isDefined(), others with\n                // angular.isString(), others angular.isString() ===\n                // false. This is *begging* for bugs.\n                if($scope.availableNew.mountPoint !== \"\") {\n                    params.mount_point = $scope.availableNew.mountPoint;\n                    params.mount_options = $scope.availableNew.mountOptions;\n                }\n            }\n            if(angular.isArray($scope.availableNew.tags)\n                && $scope.availableNew.tags.length > 0) {\n                params.tags = $scope.availableNew.tags.map(\n                    function(tag) { return tag.text; });\n            }\n            MachinesManager.createBcache($scope.node, params);\n\n            // Remove device from available.\n            var idx = $scope.available.indexOf($scope.availableNew.device);\n            $scope.available.splice(idx, 1);\n            $scope.availableNew = {};\n\n            // Update the selection.\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Return true if a RAID can be created.\n        $scope.canCreateRAID = function() {\n            if($scope.isAvailableDisabled() || !$scope.isSuperUser()) {\n                return false;\n            }\n\n            var selected = $scope.getSelectedAvailable();\n            if(selected.length > 1) {\n                var i;\n                for(i = 0; i < selected.length; i++) {\n                    if($scope.hasUnmountedFilesystem(selected[i])) {\n                        return false;\n                    } else if(selected[i].type === \"lvm-vg\") {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            return false;\n        };\n\n        // Called to create a RAID.\n        $scope.createRAID = function() {\n            if(!$scope.canCreateRAID()) {\n                return;\n            }\n            $scope.availableMode = SELECTION_MODE.RAID;\n            $scope.availableNew = {\n                name: getNextName(\"md\"),\n                devices: $scope.getSelectedAvailable(),\n                mode: null,\n                spares: [],\n                fstype: null,\n                mountPoint: \"\",\n                mountOptions: \"\",\n                tags: []\n            };\n            $scope.availableNew.mode = $scope.getAvailableRAIDModes()[0];\n        };\n\n        // Get the available RAID modes.\n        $scope.getAvailableRAIDModes = function() {\n            if(!angular.isObject($scope.availableNew) ||\n                !angular.isArray($scope.availableNew.devices)) {\n                return [];\n            }\n\n            var modes = [];\n            angular.forEach(RAID_MODES, function(mode) {\n                if($scope.availableNew.devices.length >= mode.min_disks) {\n                    modes.push(mode);\n                }\n            });\n            return modes;\n        };\n\n        // Return the total number of available spares for the current mode.\n        $scope.getTotalNumberOfAvailableSpares = function() {\n            var mode = $scope.availableNew.mode;\n            if(angular.isUndefined(mode) || !mode.allows_spares) {\n                return 0;\n            } else {\n                var diff = $scope.availableNew.devices.length - mode.min_disks;\n                if(diff < 0) {\n                    diff = 0;\n                }\n                return diff;\n            }\n        };\n\n        // Return the number of remaining spares that can be selected.\n        $scope.getNumberOfRemainingSpares = function() {\n            var allowed = $scope.getTotalNumberOfAvailableSpares();\n            if(allowed <= 0) {\n                return 0;\n            } else {\n                return allowed - $scope.availableNew.spares.length;\n            }\n        };\n\n        // Return true if the spares column should be shown.\n        $scope.showSparesColumn = function() {\n            return $scope.getTotalNumberOfAvailableSpares() > 0;\n        };\n\n        // Called when the RAID mode is changed to reset the selected spares.\n        $scope.RAIDModeChanged = function() {\n            $scope.availableNew.spares = [];\n        };\n\n        // Return true if the disk is an active RAID member.\n        $scope.isActiveRAIDMember = function(disk) {\n            if(!angular.isArray($scope.availableNew.spares)) {\n                return true;\n            } else {\n                var idx = $scope.availableNew.spares.indexOf(\n                    getUniqueKey(disk));\n                return idx === -1;\n            }\n        };\n\n        // Return true if the disk is a spare RAID member.\n        $scope.isSpareRAIDMember = function(disk) {\n            return !$scope.isActiveRAIDMember(disk);\n        };\n\n        // Set the disk as an active RAID member.\n        $scope.setAsActiveRAIDMember = function(disk) {\n            var idx = $scope.availableNew.spares.indexOf(getUniqueKey(disk));\n            if(idx > -1) {\n                $scope.availableNew.spares.splice(idx, 1);\n            }\n        };\n\n        // Set the disk as a spare RAID member.\n        $scope.setAsSpareRAIDMember = function(disk) {\n            var key = getUniqueKey(disk);\n            var idx = $scope.availableNew.spares.indexOf(key);\n            if(idx === -1) {\n                $scope.availableNew.spares.push(key);\n            }\n        };\n\n        // Return the size of the new RAID device.\n        $scope.getNewRAIDSize = function() {\n            if(angular.isUndefined($scope.availableNew.mode)) {\n                return \"\";\n            }\n            var calculateSize = $scope.availableNew.mode.calculateSize;\n            if(!angular.isFunction(calculateSize)) {\n                return \"\";\n            }\n\n            // Get the number of disks and the minimum disk size in the RAID.\n            var numDisks = (\n                $scope.availableNew.devices.length -\n                $scope.availableNew.spares.length);\n            var minSize = Number.MAX_VALUE;\n            angular.forEach($scope.availableNew.devices, function(device) {\n                // Get the size of the device. For a block device it will be\n                // at available_size and for a partition it will be at size.\n                var deviceSize = (\n                    device.original.available_size || device.original.size);\n                minSize = Math.min(minSize, deviceSize);\n            });\n\n            // Calculate the new size.\n            var size = calculateSize(minSize, numDisks);\n            return ConverterService.bytesToUnits(size).string;\n        };\n\n        // Return true if RAID can be saved.\n        $scope.createRAIDCanSave = function() {\n            return (\n                !$scope.isNewDiskNameInvalid() &&\n                !$scope.isMountPointInvalid($scope.availableNew.mountPoint));\n        };\n\n        // Confirm and create the RAID device.\n        $scope.availableConfirmCreateRAID = function() {\n            if(!$scope.createRAIDCanSave()) {\n                return;\n            }\n\n            // Create the RAID.\n            var params = {\n                name: $scope.availableNew.name,\n                level: $scope.availableNew.mode.level,\n                block_devices: [],\n                partitions: [],\n                spare_devices: [],\n                spare_partitions: []\n            };\n            angular.forEach($scope.availableNew.devices, function(device) {\n                if($scope.isActiveRAIDMember(device)) {\n                    if(device.type === \"partition\") {\n                        params.partitions.push(device.partition_id);\n                    } else {\n                        params.block_devices.push(device.block_id);\n                    }\n                } else {\n                    if(device.type === \"partition\") {\n                        params.spare_partitions.push(device.partition_id);\n                    } else {\n                        params.spare_devices.push(device.block_id);\n                    }\n                }\n            });\n            if(angular.isString($scope.availableNew.fstype) &&\n                $scope.availableNew.fstype !== \"\") {\n                params.fstype = $scope.availableNew.fstype;\n                if($scope.availableNew.mountPoint !== \"\") {\n                    params.mount_point = $scope.availableNew.mountPoint;\n                    params.mount_options = $scope.availableNew.mountOptions;\n                }\n            }\n            if(angular.isArray($scope.availableNew.tags)\n                && $scope.availableNew.tags.length > 0) {\n                params.tags = $scope.availableNew.tags.map(\n                    function(tag) { return tag.text; });\n            }\n            MachinesManager.createRAID($scope.node, params);\n\n            // Remove devices from available.\n            angular.forEach($scope.availableNew.devices, function(device) {\n                var idx = $scope.available.indexOf($scope.availableNew.device);\n                $scope.available.splice(idx, 1);\n            });\n            $scope.availableNew = {};\n\n            // Update the selection.\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Return true if a volume group can be created.\n        $scope.canCreateVolumeGroup = function() {\n            if($scope.isAvailableDisabled() || !$scope.isSuperUser()) {\n                return false;\n            }\n\n            var selected = $scope.getSelectedAvailable();\n            if(selected.length > 0) {\n                var i;\n                for(i = 0; i < selected.length; i++) {\n                    if(selected[i].has_partitions) {\n                        return false;\n                    } else if($scope.hasUnmountedFilesystem(selected[i])) {\n                        return false;\n                    } else if(selected[i].type === \"lvm-vg\") {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            return false;\n        };\n\n        // Called to create a volume group.\n        $scope.createVolumeGroup = function() {\n            if(!$scope.canCreateVolumeGroup()) {\n                return;\n            }\n            $scope.availableMode = SELECTION_MODE.VOLUME_GROUP;\n            $scope.availableNew = {\n                name: getNextName(\"vg\"),\n                devices: $scope.getSelectedAvailable()\n            };\n        };\n\n        // Return the size of the new volume group.\n        $scope.getNewVolumeGroupSize = function() {\n            var total = 0;\n            angular.forEach($scope.availableNew.devices, function(device) {\n                // Add available_size or size if available_size is not set.\n                total += (\n                    device.original.available_size || device.original.size);\n            });\n            return ConverterService.bytesToUnits(total).string;\n        };\n\n        // Return true if volume group can be saved.\n        $scope.createVolumeGroupCanSave = function() {\n            return !$scope.isNewDiskNameInvalid();\n        };\n\n        // Confirm and create the volume group device.\n        $scope.availableConfirmCreateVolumeGroup = function() {\n            if(!$scope.createVolumeGroupCanSave()) {\n                return;\n            }\n\n            // Create the RAID.\n            var params = {\n                name: $scope.availableNew.name,\n                block_devices: [],\n                partitions: []\n            };\n            angular.forEach($scope.availableNew.devices, function(device) {\n                if(device.type === \"partition\") {\n                    params.partitions.push(device.partition_id);\n                } else {\n                    params.block_devices.push(device.block_id);\n                }\n            });\n            MachinesManager.createVolumeGroup($scope.node, params);\n\n            // Remove devices from available.\n            angular.forEach($scope.availableNew.devices, function(device) {\n                var idx = $scope.available.indexOf($scope.availableNew.device);\n                $scope.available.splice(idx, 1);\n            });\n            $scope.availableNew = {};\n\n            // Update the selection.\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Return true if a logical volume can be added to disk.\n        $scope.canAddLogicalVolume = function(disk) {\n            if(disk.type !== \"lvm-vg\") {\n                return false;\n            } else if(disk.original.available_size < MIN_PARTITION_SIZE) {\n                return false;\n            } else {\n                return true;\n            }\n        };\n\n        // Enter logical volume mode.\n        $scope.availableLogicalVolume = function(disk) {\n            $scope.availableMode = SELECTION_MODE.LOGICAL_VOLUME;\n            disk.$selected = true;\n            // Set starting size to the maximum available space.\n            var size_and_units = disk.available_size_human.split(\" \");\n            var namePrefix = disk.name + \"-lv\";\n            disk.$options = {\n                name: getNextName(namePrefix),\n                size: size_and_units[0],\n                sizeUnits: size_and_units[1],\n                fstype: null,\n                tags: []\n            };\n        };\n\n        // Return true if the name of the logical volume is invalid.\n        $scope.isLogicalVolumeNameInvalid = function(disk) {\n            if(!angular.isString(disk.$options.name)) {\n                return false;\n            }\n            var startsWith = disk.$options.name.indexOf(disk.name + \"-\");\n            return (\n                startsWith !== 0 ||\n                disk.$options.name.length <= disk.name.length + 1 ||\n                isNameAlreadyInUse(disk.$options.name));\n        };\n\n        // Don't allow the name of the logical volume to remove the volume\n        // group name.\n        $scope.newLogicalVolumeNameChanged = function(disk) {\n            if(!angular.isString(disk.$options.name)) {\n                return;\n            }\n            var startsWith = disk.$options.name.indexOf(disk.name + \"-\");\n            if(startsWith !== 0) {\n                disk.$options.name = disk.name + \"-\";\n            }\n        };\n\n        // Return true if the logical volume size is invalid.\n        $scope.isAddLogicalVolumeSizeInvalid = function(disk) {\n            // Uses the same logic as the partition size checked.\n            return $scope.isAddPartitionSizeInvalid(disk);\n        };\n\n        // Confirm the logical volume creation.\n        $scope.availableConfirmLogicalVolume = function(disk) {\n            // Do nothing if not valid.\n            if($scope.isLogicalVolumeNameInvalid(disk) ||\n                $scope.isAddLogicalVolumeSizeInvalid(disk) ||\n                $scope.isMountPointInvalid(disk.$options.mountPoint)) {\n                return;\n            }\n\n            // Get the bytes to create the partition.\n            var bytes = ConverterService.unitsToBytes(\n                disk.$options.size, disk.$options.sizeUnits);\n\n            // Accepting prefilled defaults means use whole disk (lp:1509535).\n            var size_and_units = disk.original.available_size_human.split(\" \");\n            if(disk.$options.size === size_and_units[0] &&\n               disk.$options.sizeUnits === size_and_units[1]) {\n                bytes = disk.original.available_size;\n            }\n\n            // Clamp to available space.\n            if(bytes > disk.original.available_size) {\n                bytes = disk.original.available_size;\n            }\n\n            // Remove the disk if it is going to use all the remaining space.\n            var removeDisk = false;\n            if(bytes === disk.original.available_size) {\n                removeDisk = true;\n            }\n\n            // Remove the volume group name from the name.\n            var name = disk.$options.name.slice(disk.name.length + 1);\n\n            // Create the logical volume.\n            var params = {};\n            if(angular.isString(disk.$options.fstype) &&\n                disk.$options.fstype !== \"\") {\n                params.fstype = disk.$options.fstype;\n                if(disk.$options.mountPoint !== \"\") {\n                    params.mount_point = disk.$options.mountPoint;\n                    params.mount_options = disk.$options.mountOptions;\n                }\n            }\n            if(angular.isArray(disk.$options.tags)\n                && disk.$options.tags.length > 0) {\n                params.tags = disk.$options.tags.map(\n                    function(tag) { return tag.text; });\n            }\n            MachinesManager.createLogicalVolume(\n                $scope.node, disk.block_id, name, bytes, params);\n\n            // Remove the disk if needed.\n            if(removeDisk) {\n                var idx = $scope.available.indexOf(disk);\n                $scope.available.splice(idx, 1);\n            }\n            $scope.updateAvailableSelection(true);\n        };\n\n        // Returns true if storage cannot be edited.\n        // (it can't be changed when the node is in any state other\n        //  than Ready or Allocated)\n        $scope.isAllStorageDisabled = function() {\n            var authUser = UsersManager.getAuthUser();\n            if(!angular.isObject(authUser) || !angular.isObject($scope.node) ||\n                (!authUser.is_superuser &&\n                 authUser.username !== $scope.node.owner)) {\n                return true;\n            }else if (angular.isObject($scope.node) &&\n                [\"Ready\", \"Allocated\"].indexOf(\n                    $scope.node.status) === -1) {\n                // If the node is not ready or allocated, disable storage panel.\n                return true;\n            } else {\n                // The node must be either ready or broken. Enable it.\n                return false;\n            }\n        };\n\n        // Returns true if there are storage layout errors\n        $scope.hasStorageLayoutIssues = function() {\n            if(angular.isObject($scope.node) &&\n                angular.isArray($scope.node.storage_layout_issues)) {\n                return $scope.node.storage_layout_issues.length > 0;\n            }\n            return false;\n        };\n\n        // Tell $parent that the storageController has been loaded.\n        $scope.$parent.controllerLoaded('storageController', $scope);\n    }]);\n","/*\n * Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Manage a node's filesystems, including adding special filesystems.\n */\n\n(function() {\n\n    class SpecialFilesystem {\n        constructor(fstype = null) {\n            this.fstype = fstype;\n            this.mountPoint = \"\";\n            this.mountOptions = \"\";\n        }\n\n        isValid() {\n            return this.mountPoint.startsWith(\"/\");\n        }\n\n        describe() {\n            if(!this.fstype) {\n                return;\n            }\n            var parts = [this.fstype];\n            // Add the mount point if specified and valid.\n            if (this.mountPoint.startsWith('/')) {\n                parts.push(\"at \" + this.mountPoint);\n            }\n            // Filesystem-specific bits.\n            switch (this.fstype) {\n                case \"tmpfs\":\n                    // Extract size=n parameter from mount options. Other\n                    // options could be added in the future.\n                    var size = this.mountOptions.match(/\\bsize=(\\d+)(%?)/);\n                    if (size !== null) {\n                        if (size[2] === \"%\") {\n                            parts.push(\"limited to \" + size[1] + \"% of memory\");\n                        }\n                        else {\n                            parts.push(\"limited to \" + size[1] + \" bytes\");\n                        }\n                    }\n                    break;\n                case \"ramfs\":\n                    // This filesystem does not recognise any options. Consider\n                    // warning about lack of a size limit.\n                    break;\n            }\n            return parts.join(\" \");\n        }\n    }\n\n    function NodeFilesystemsController($scope) {\n\n        // Which drop-down is currently selected, e.g. \"special\".\n        $scope.dropdown = null;\n\n        // Select the \"special\" drop-down.\n        $scope.addSpecialFilesystem = function() {\n            $scope.dropdown = \"special\";\n        };\n\n        // Deselect the \"special\" drop-down.\n        $scope.addSpecialFilesystemFinished = function() {\n            if ($scope.dropdown === \"special\") {\n                $scope.dropdown = null;\n            }\n        };\n    }\n\n    function NodeAddSpecialFilesystemController($scope, MachinesManager) {\n\n        $scope.machineManager = MachinesManager;\n        $scope.specialFilesystemTypes = ['tmpfs', 'ramfs'];\n        $scope.newFilesystem = {\n            'system_id': $scope.node.system_id,\n        };\n        $scope.filesystem = new SpecialFilesystem();\n        $scope.description = null;  // Updated by watch.\n\n        const watches = {\n            fstype: 'fstype',\n            mountPoint: 'mount_point',\n            mountOptions: 'mount_options'\n        };\n\n        for (let k in watches) {\n            $scope.$watch(function() {\n                return $scope.newFilesystem.$maasForm.getValue(watches[k]);\n            }, function(result) {\n                $scope.filesystem[k] = result;\n            });\n        }\n\n        $scope.$watch('filesystem', function() {\n            if($scope.filesystem) {\n                $scope.description = $scope.filesystem.describe();\n            }\n        }, true);\n\n        $scope.canMount = function() {\n            return $scope.filesystem.isValid();\n        };\n\n        $scope.cancel = function() {\n            $scope.filesystem = new SpecialFilesystem();\n            $scope.addSpecialFilesystemFinished();\n        };\n    }\n\n    angular.module(\"MAAS\").controller(\n        \"NodeFilesystemsController\", [\n            \"$scope\", NodeFilesystemsController\n        ]);\n\n    angular.module(\"MAAS\").controller(\n        \"NodeAddSpecialFilesystemController\", [\n            \"$scope\", \"MachinesManager\",\n            NodeAddSpecialFilesystemController\n        ]);\n\n}());\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Node Events Controller\n */\n\nangular.module('MAAS').controller('NodeEventsController', [\n    '$scope', '$rootScope', '$routeParams', '$location',\n    'MachinesManager', 'ControllersManager', 'EventsManagerFactory',\n    'ManagerHelperService', 'ErrorService', function($scope, $rootScope,\n        $routeParams, $location, MachinesManager, ControllersManager,\n        EventsManagerFactory, ManagerHelperService, ErrorService) {\n\n        // Events manager that is loaded once the node is loaded.\n        var eventsManager = null;\n\n        // Set the title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.node = null;\n        $scope.events = [];\n        $scope.eventsLoaded = false;\n        $scope.days = 1;\n\n        // Called once the node is loaded.\n        function nodeLoaded(node) {\n            $scope.node = node;\n            $scope.loaded = true;\n\n            // Get the events manager and load it.\n            eventsManager = EventsManagerFactory.getManager(node.id);\n            $scope.events = eventsManager.getItems();\n            $scope.days = eventsManager.getMaximumDays();\n            eventsManager.loadItems().then(function() {\n                $scope.eventsLoaded = true;\n            });\n\n            // Update the title when the fqdn of the node changes.\n            $scope.$watch(\"node.fqdn\", function() {\n                $rootScope.title = $scope.node.fqdn + \" - events\";\n            });\n        }\n\n        // Return the nice text for the given event.\n        $scope.getEventText = function(event) {\n            var text = event.type.description;\n            if(angular.isString(event.description) &&\n                event.description.length > 0) {\n                text += \" - \" + event.description;\n            }\n            return text;\n        };\n\n        // Called to load more events.\n        $scope.loadMore = function() {\n            $scope.days += 1;\n            eventsManager.loadMaximumDays($scope.days);\n        };\n\n        if($location.path().indexOf('/controller') !== -1) {\n            $scope.nodesManager = ControllersManager;\n            $scope.type_name = 'controller';\n            $rootScope.page = 'controllers';\n        }else{\n            $scope.nodesManager = MachinesManager;\n            $scope.type_name = 'machine';\n            $rootScope.page = 'machines';\n        }\n        // Load nodes manager.\n        ManagerHelperService.loadManager(\n            $scope, $scope.nodesManager).then(function() {\n            // If redirected from the NodeDetailsController then the node\n            // will already be active. No need to set it active again.\n            var activeNode = $scope.nodesManager.getActiveItem();\n            if(angular.isObject(activeNode) &&\n                activeNode.system_id === $routeParams.system_id) {\n                nodeLoaded(activeNode);\n            } else {\n                $scope.nodesManager.setActiveItem(\n                    $routeParams.system_id).then(function(node) {\n                        nodeLoaded(node);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n\n        // Destroy the events manager when the scope is destroyed. This is so\n        // the client will not recieve any more notifications about events\n        // for this node.\n        $scope.$on(\"$destroy\", function() {\n            if(angular.isObject(eventsManager)) {\n                eventsManager.destroy();\n            }\n        });\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Script Result Controller\n */\n\nangular.module('MAAS').controller('NodeResultController', [\n    '$scope', '$rootScope', '$routeParams', '$location',\n    'MachinesManager', 'ControllersManager', 'NodeResultsManagerFactory',\n    'ManagerHelperService', 'ErrorService',\n    function($scope, $rootScope, $routeParams, $location, MachinesManager,\n             ControllersManager, NodeResultsManagerFactory,\n             ManagerHelperService, ErrorService) {\n        // Set the title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.resultLoaded = false;\n        $scope.node = null;\n        $scope.output = 'combined';\n        $scope.result = null;\n\n        $scope.get_result_data = function(output) {\n            $scope.output = output;\n            $scope.data = \"Loading...\";\n            var nodeResultsManager = NodeResultsManagerFactory.getManager(\n                $scope.node);\n            nodeResultsManager.get_result_data(\n                $scope.result.id, $scope.output).then(\n                    function(data) {\n                        if(data === '') {\n                            $scope.data = \"Empty file.\";\n                        }else{\n                            $scope.data = data;\n                        }\n                    });\n        };\n\n        // Called once the node is loaded.\n        function nodeLoaded(node) {\n            $scope.node = node;\n            $scope.loaded = true;\n\n            // Get the NodeResultsManager and load it.\n            var nodeResultsManager = NodeResultsManagerFactory.getManager(\n                $scope.node);\n            var requestedResult = parseInt($routeParams.id, 10);\n            nodeResultsManager.getItem(requestedResult).then(function(result) {\n                $scope.result = result;\n                $scope.get_result_data($scope.output);\n                $scope.resultLoaded = true;\n                $rootScope.title = $scope.node.fqdn + \" - \" +\n                    $scope.result.name;\n            });\n        }\n\n        // Update the title when the fqdn of the node changes.\n        $scope.$watch(\"node.fqdn\", function() {\n            if(angular.isObject($scope.node) &&\n               angular.isObject($scope.result)) {\n                $rootScope.title = $scope.node.fqdn + \" - \" +\n                    $scope.result.name;\n            }\n        });\n\n        if($location.path().indexOf(\"/controller\") !== -1) {\n            $scope.nodesManager = ControllersManager;\n            $scope.type_name = 'controller';\n            $rootScope.page = 'controllers';\n        }else{\n            $scope.nodesManager = MachinesManager;\n            $scope.type_name = 'machine';\n            $rootScope.page = 'machines';\n        }\n        // Load nodes manager.\n        ManagerHelperService.loadManager(\n            $scope, $scope.nodesManager).then(function() {\n            // If redirected from the NodeDetailsController then the node\n            // will already be active. No need to set it active again.\n            var activeNode = $scope.nodesManager.getActiveItem();\n            if(angular.isObject(activeNode) &&\n                activeNode.system_id === $routeParams.system_id) {\n                nodeLoaded(activeNode);\n            } else {\n                $scope.nodesManager.setActiveItem(\n                    $routeParams.system_id).then(function(node) {\n                        nodeLoaded(node);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n\n        // Destroy the NodeResultsManager when the scope is destroyed. This is\n        // so the client will not recieve any more notifications about results\n        // from this node.\n        $scope.$on(\"$destroy\", function() {\n            var nodeResultsManager = NodeResultsManagerFactory.getManager(\n                $scope.node);\n            if(angular.isObject(nodeResultsManager)) {\n                nodeResultsManager.destroy();\n            }\n        });\n    }]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Node Results Controller\n */\n\nangular.module('MAAS').controller('NodeResultsController', [\n    '$scope', '$routeParams', '$location', 'MachinesManager',\n    'ControllersManager', 'NodeResultsManagerFactory', 'ManagerHelperService',\n    'ErrorService',\n    function($scope, $routeParams, $location, MachinesManager,\n             ControllersManager, NodeResultsManagerFactory,\n             ManagerHelperService, ErrorService) {\n\n        // NodeResultsManager that is loaded once the node is loaded.\n        $scope.nodeResultsManager = null;\n        // References to manager data used in scope.\n        $scope.commissioning_results = null;\n        $scope.testing_results = null;\n        $scope.installation_results = null;\n        $scope.results = null;\n\n        // List of logs available.\n        $scope.logs = {\n            option: null,\n            availableOptions: []\n        };\n        // Log content being displayed.\n        $scope.logOutput = 'Loading...';\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.resultsLoaded = false;\n        $scope.node = null;\n\n        function updateLogs() {\n            var i;\n            var option;\n            var had_installation = $scope.logs.availableOptions.length === 3;\n            $scope.logs.availableOptions.length = 0;\n            // XXX ltrager 2017-12-01 - Only show the current installation log\n            // if the machine is deploying, deployed, or failed deploying. The\n            // logs page needs to be redesigned to show previous installation\n            // results.\n            if($scope.installation_results &&\n                    $scope.installation_results.length > 0 && (\n                        $scope.node.status_code === 6 ||\n                        $scope.node.status_code === 9 ||\n                        $scope.node.status_code === 11)) {\n                // If installation fails Curtin uploads a tar file of logs, the\n                // UI needs to display the text log file, not the tar.\n                for(i = 0; i < $scope.installation_results.length; i++) {\n                    if($scope.installation_results[i].name ===\n                            \"/tmp/install.log\") {\n                        $scope.logs.availableOptions.push({\n                            'title': 'Installation output',\n                            'id': $scope.installation_results[i].id\n                        });\n                        break;\n                    }\n                }\n            }\n            $scope.logs.availableOptions.push({\n                'title': 'Machine output (YAML)',\n                'id': 'summary_yaml'\n            });\n            $scope.logs.availableOptions.push({\n                'title': 'Machine output (XML)',\n                'id': 'summary_xml'\n            });\n            if(!had_installation &&\n               $scope.logs.availableOptions.length === 3) {\n                // A new installation log has appeared, show it.\n                $scope.logs.option = $scope.logs.availableOptions[0];\n            }else if(!$scope.selectedLog || (\n                had_installation && $scope.logs.length === 2)) {\n                // No longer in a deployed state.\n                $scope.logs.option = $scope.logs.availableOptions[0];\n            }\n        }\n\n        // Called once the node has loaded.\n        function nodeLoaded(node) {\n            $scope.node = node;\n            $scope.loaded = true;\n            // Get the NodeResultsManager and load it.\n            $scope.nodeResultsManager = NodeResultsManagerFactory.getManager(\n                node, $scope.section.area);\n            $scope.nodeResultsManager.loadItems().then(function() {\n                $scope.commissioning_results =\n                    $scope.nodeResultsManager.commissioning_results;\n                $scope.testing_results =\n                    $scope.nodeResultsManager.testing_results;\n                $scope.installation_results =\n                    $scope.nodeResultsManager.installation_results;\n                $scope.results = $scope.nodeResultsManager.results;\n                // Only load and monitor logs when on the logs page.\n                if($scope.section.area === \"logs\") {\n                    updateLogs();\n                    $scope.$watch(\"installation_results\", updateLogs, true);\n                    $scope.$watch(\n                        \"installation_results\", $scope.updateLogOutput, true);\n                }\n                $scope.resultsLoaded = true;\n            });\n        }\n\n        if($location.path().indexOf('/controller') !== -1 ){\n            $scope.nodesManager = ControllersManager;\n        } else {\n            $scope.nodesManager = MachinesManager;\n        }\n        // Load nodes manager.\n        ManagerHelperService.loadManager(\n            $scope, $scope.nodesManager).then(function() {\n                // If redirected from the NodeDetailsController then the node\n                // will already be active. No need to set it active again.\n                var activeNode = $scope.nodesManager.getActiveItem();\n                if(angular.isObject(activeNode) &&\n                   activeNode.system_id === $routeParams.system_id) {\n                    nodeLoaded(activeNode);\n                } else {\n                    $scope.nodesManager.setActiveItem(\n                        $routeParams.system_id).then(function(node) {\n                            nodeLoaded(node);\n                        }, function(error) {\n                            ErrorService.raiseError(error);\n                        });\n                }\n            });\n\n        $scope.updateLogOutput = function() {\n            $scope.logOutput = \"Loading...\";\n            if(!$scope.node) {\n                return;\n            }else if($scope.logs.option.id === 'summary_xml') {\n                $scope.nodesManager.getSummaryXML($scope.node).then(\n                    function(output) {\n                        $scope.logOutput = output;\n                    });\n            }else if($scope.logs.option.id === 'summary_yaml') {\n                $scope.nodesManager.getSummaryYAML($scope.node).then(\n                    function(output) {\n                        $scope.logOutput = output;\n                    });\n            } else {\n                var result = null;\n                var i;\n                // Find the installation result to be displayed.\n                for(i = 0; i < $scope.installation_results.length; i++) {\n                    if($scope.installation_results[i].id ===\n                       $scope.logs.option.id) {\n                        result = $scope.installation_results[i];\n                        break;\n                    }\n                }\n                switch(result.status) {\n                    case 0:\n                        $scope.logOutput = \"System is booting...\";\n                        break;\n                    case 1:\n                        $scope.logOutput = \"Installation has begun!\";\n                        break;\n                    case 2:\n                        $scope.nodeResultsManager.get_result_data(\n                            result.id, 'combined').then(function(output) {\n                                if(output === '') {\n                                    $scope.logOutput =\n                                        \"Installation has succeeded but \" +\n                                        \"no output was given.\";\n                                } else {\n                                    $scope.logOutput = output;\n                                }\n                            });\n                        break;\n                    case 3:\n                        $scope.nodeResultsManager.get_result_data(\n                            result.id, 'combined').then(function(output) {\n                                if(output === '') {\n                                    $scope.logOutput =\n                                        \"Installation has failed and no \" +\n                                        \"output was given.\";\n                                } else {\n                                    $scope.logOutput = output;\n                                }\n                            });\n                        break;\n                    case 4:\n                        $scope.logOutput =\n                            \"Installation failed after 40 minutes.\";\n                        break;\n                    case 5:\n                        $scope.logOutput = \"Installation was aborted.\";\n                        break;\n                    default:\n                        $scope.logOutput = \"BUG: Unknown log status \" +\n                            result.status;\n                        break;\n                }\n            }\n        };\n\n        $scope.loadHistory = function(result) {\n            result.showing_results = false;\n            // History has already been loaded, no need to request it.\n            if(angular.isArray(result.history_list)) {\n                result.showing_history = true;\n                return;\n            }\n            result.loading_history = true;\n            $scope.nodeResultsManager.get_history(result.id).then(\n                function(history) {\n                    result.history_list = history;\n                    result.loading_history = false;\n                    result.showing_history = true;\n                });\n        };\n\n        // Destroy the NodeResultsManager when the scope is destroyed. This is\n        // so the client will not recieve any more notifications about results\n        // from this node.\n        $scope.$on(\"$destroy\", function() {\n            if(angular.isObject($scope.nodeResultsManager)) {\n                $scope.nodeResultsManager.destroy();\n            }\n        });\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Nodes List Controller\n */\n\nangular.module('MAAS').controller('NodesListController', [\n    '$q', '$scope', '$interval', '$rootScope', '$routeParams', '$location',\n    'MachinesManager', 'DevicesManager', 'ControllersManager',\n    'GeneralManager', 'ManagerHelperService', 'SearchService',\n    'ZonesManager', 'UsersManager', 'ServicesManager', 'ScriptsManager',\n    'SwitchesManager', 'ResourcePoolsManager',\n    function($q, $scope, $interval, $rootScope, $routeParams, $location,\n        MachinesManager, DevicesManager, ControllersManager, GeneralManager,\n        ManagerHelperService, SearchService, ZonesManager, UsersManager,\n        ServicesManager, ScriptsManager, SwitchesManager,\n        ResourcePoolsManager) {\n\n        // Mapping of device.ip_assignment to viewable text.\n        var DEVICE_IP_ASSIGNMENT = {\n            external: \"External\",\n            dynamic: \"Dynamic\",\n            \"static\": \"Static\"\n        };\n\n        // Set title and page.\n        $rootScope.title = \"Machines\";\n        $rootScope.page = \"machines\";\n\n        // Set initial values.\n        $scope.MAAS_config = MAAS_config;\n        $scope.machines = MachinesManager.getItems();\n        $scope.zones = ZonesManager.getItems();\n        $scope.pools = ResourcePoolsManager.getItems();\n        $scope.devices = DevicesManager.getItems();\n        $scope.controllers = ControllersManager.getItems();\n        $scope.switches = SwitchesManager.getItems();\n        $scope.showswitches = $routeParams.switches === 'on';\n        $scope.currentpage = \"machines\";\n        $scope.osinfo = {};\n        $scope.scripts = ScriptsManager.getItems();\n        $scope.loading = true;\n\n        $scope.tabs = {};\n        $scope.pluralize = function(tab) {\n            var singulars = {\n                'machines': 'machine',\n                'switches': 'switch',\n                'devices': 'device',\n                'controllers': 'controller',\n            };\n            var verb = singulars[tab];\n            if ($scope.tabs[tab].selectedItems.length > 1) {\n                verb = tab;\n            };\n            return verb;\n        };\n        // Machines tab.\n        $scope.tabs.machines = {};\n        $scope.tabs.machines.pagetitle = \"Machines\";\n        $scope.tabs.machines.currentpage = \"machines\";\n        $scope.tabs.machines.manager = MachinesManager;\n        $scope.tabs.machines.previous_search = \"\";\n        $scope.tabs.machines.search = \"\";\n        $scope.tabs.machines.searchValid = true;\n        $scope.tabs.machines.selectedItems = MachinesManager.getSelectedItems();\n        $scope.tabs.machines.metadata = MachinesManager.getMetadata();\n        $scope.tabs.machines.filters = SearchService.getEmptyFilter();\n        $scope.tabs.machines.actionOption = null;\n        $scope.tabs.machines.takeActionOptions = [];\n        $scope.tabs.machines.actionErrorCount = 0;\n        $scope.tabs.machines.actionProgress = {\n            total: 0,\n            completed: 0,\n            errors: {},\n            showing_confirmation: false,\n            affected_nodes: 0\n        };\n        $scope.tabs.machines.osSelection = {\n            osystem: null,\n            release: null,\n            hwe_kernel: null\n        };\n        $scope.tabs.machines.zoneSelection = null;\n        $scope.tabs.machines.poolSelection = null;\n        $scope.tabs.machines.poolAction = 'select-pool';\n        $scope.tabs.machines.newPool = {};\n        $scope.tabs.machines.commissionOptions = {\n            enableSSH: false,\n            skipNetworking: false,\n            skipStorage: false,\n            updateFirmware: false,\n            configureHBA: false\n        };\n        $scope.tabs.machines.releaseOptions = {};\n        $scope.tabs.machines.commissioningSelection = [];\n        $scope.tabs.machines.testSelection = [];\n\n        // Pools tab.\n        $scope.tabs.pools = {};\n        // The Pools tab is actually a sub tab of Machines.\n        $scope.tabs.pools.pagetitle = \"Machines\";\n        $scope.tabs.pools.currentpage = \"pools\";\n        $scope.tabs.pools.manager = ResourcePoolsManager;\n        $scope.tabs.pools.actionOption = false;\n        $scope.tabs.pools.newPool = {name: null, description: null};\n        $scope.tabs.pools.addPool = function() {\n            $scope.tabs.pools.actionOption = true;\n        };\n        $scope.tabs.pools.cancelAddPool = function() {\n            $scope.tabs.pools.actionOption = false;\n            $scope.tabs.pools.newPool = {};\n        };\n        $scope.tabs.pools.activeTarget = null;\n        $scope.tabs.pools.activeTargetAction = null;\n        $scope.tabs.pools.actionErrorMessage = null;\n        $scope.tabs.pools.initiatePoolAction = function(pool, action) {\n            let tab = $scope.tabs.pools;\n            // reset state in case of switching between deletes\n            tab.cancelPoolAction();\n            tab.activeTargetAction = action;\n            tab.activeTarget = pool;\n            tab.editingPool = pool;  // used by maas-obj-form for editing\n        };\n        $scope.tabs.pools.cancelPoolAction = function() {\n            let tab = $scope.tabs.pools;\n            tab.activeTargetAction = null;\n            tab.activeTarget = null;\n            tab.actionErrorMessage = null;\n        };\n        $scope.tabs.pools.isPoolAction = function(pool, action) {\n            let tab = $scope.tabs.pools;\n            return (\n                action === undefined || tab.activeTargetAction === action) &&\n                tab.activeTarget !== null &&\n                tab.activeTarget.id === pool.id;\n        };\n        $scope.tabs.pools.actionConfirmEditPool = function() {\n            $scope.tabs.pools.cancelPoolAction();\n        };\n        $scope.tabs.pools.actionConfirmDeletePool = function() {\n            let tab = $scope.tabs.pools;\n            tab.manager.deleteItem(tab.activeTarget).then(\n                tab.cancelPoolAction,\n                function(error) {\n                    $scope.tabs.pools.actionErrorMessage = error;\n                });\n        };\n        $scope.tabs.pools.goToPoolMachines = function(pool) {\n            $scope.clearSearch('machines');\n            $scope.toggleFilter('pool', pool.name, 'machines');\n            $scope.toggleTab('machines');\n            // update the location URL otherwise to match the tab\n            $location.path('/machines');\n        }\n        $scope.tabs.pools.isDefaultPool = function(pool) {\n            return pool.id === 0;\n        };\n\n        // Device tab.\n        $scope.tabs.devices = {};\n        $scope.tabs.devices.pagetitle = \"Devices\";\n        $scope.tabs.devices.currentpage = \"devices\";\n        $scope.tabs.devices.manager = DevicesManager;\n        $scope.tabs.devices.previous_search = \"\";\n        $scope.tabs.devices.search = \"\";\n        $scope.tabs.devices.searchValid = true;\n        $scope.tabs.devices.selectedItems = DevicesManager.getSelectedItems();\n        $scope.tabs.devices.filtered_items = [];\n        $scope.tabs.devices.predicate = 'fqdn';\n        $scope.tabs.devices.allViewableChecked = false;\n        $scope.tabs.devices.metadata = DevicesManager.getMetadata();\n        $scope.tabs.devices.filters = SearchService.getEmptyFilter();\n        $scope.tabs.devices.column = 'fqdn';\n        $scope.tabs.devices.actionOption = null;\n        $scope.tabs.devices.takeActionOptions = [];\n        $scope.tabs.devices.actionErrorCount = 0;\n        $scope.tabs.devices.actionProgress = {\n            total: 0,\n            completed: 0,\n            errors: {},\n            showing_confirmation: false,\n            affected_nodes: 0\n        };\n        $scope.tabs.devices.zoneSelection = null;\n        $scope.tabs.devices.poolSelection = null;\n        $scope.tabs.devices.poolAction = 'select-pool';\n        $scope.tabs.devices.newPool = {};\n\n        // Controller tab.\n        $scope.tabs.controllers = {};\n        $scope.tabs.controllers.pagetitle = \"Controllers\";\n        $scope.tabs.controllers.currentpage = \"controllers\";\n        $scope.tabs.controllers.manager = ControllersManager;\n        $scope.tabs.controllers.previous_search = \"\";\n        $scope.tabs.controllers.search = \"\";\n        $scope.tabs.controllers.searchValid = true;\n        $scope.tabs.controllers.selectedItems =\n            ControllersManager.getSelectedItems();\n        $scope.tabs.controllers.filtered_items = [];\n        $scope.tabs.controllers.predicate = 'fqdn';\n        $scope.tabs.controllers.allViewableChecked = false;\n        $scope.tabs.controllers.metadata = ControllersManager.getMetadata();\n        $scope.tabs.controllers.filters = SearchService.getEmptyFilter();\n        $scope.tabs.controllers.column = 'fqdn';\n        $scope.tabs.controllers.actionOption = null;\n        // Rack controllers contain all options\n        $scope.tabs.controllers.takeActionOptions = [];\n        $scope.tabs.controllers.actionErrorCount = 0;\n        $scope.tabs.controllers.actionProgress = {\n            total: 0,\n            completed: 0,\n            errors: {},\n            showing_confirmation: false,\n            affected_nodes: 0\n        };\n        $scope.tabs.controllers.zoneSelection = null;\n        $scope.tabs.controllers.poolSelection = null;\n        $scope.tabs.controllers.poolAction = 'select-pool';\n        $scope.tabs.controllers.newPool = {};\n        $scope.tabs.controllers.syncStatuses = {};\n        $scope.tabs.controllers.addController = false;\n        $scope.tabs.controllers.registerUrl = MAAS_config.register_url;\n        $scope.tabs.controllers.registerSecret = MAAS_config.register_secret;\n\n        // Switch tab.\n        $scope.tabs.switches = {};\n        $scope.tabs.switches.pagetitle = \"Switches\";\n        $scope.tabs.switches.currentpage = \"switches\";\n        $scope.tabs.switches.manager = SwitchesManager;\n        $scope.tabs.switches.previous_search = \"\";\n        $scope.tabs.switches.search = \"\";\n        $scope.tabs.switches.searchValid = true;\n        $scope.tabs.switches.selectedItems = SwitchesManager.getSelectedItems();\n        $scope.tabs.switches.predicate = 'fqdn';\n        $scope.tabs.switches.allViewableChecked = false;\n        $scope.tabs.switches.metadata = SwitchesManager.getMetadata();\n        $scope.tabs.switches.filters = SearchService.getEmptyFilter();\n        $scope.tabs.switches.column = 'fqdn';\n        $scope.tabs.switches.actionOption = null;\n        $scope.tabs.switches.takeActionOptions = [];\n        $scope.tabs.switches.actionErrorCount = 0;\n        $scope.tabs.switches.actionProgress = {\n            total: 0,\n            completed: 0,\n            errors: {},\n            showing_confirmation: false,\n            affected_nodes: 0\n        };\n        $scope.tabs.switches.osSelection = {\n            osystem: null,\n            release: null,\n            hwe_kernel: null\n        };\n        $scope.tabs.switches.zoneSelection = null;\n        $scope.tabs.switches.poolSelection = null;\n        $scope.tabs.switches.poolAction = 'select-pool';\n        $scope.tabs.switches.newPool = {};\n        $scope.tabs.switches.commissioningSelection = [];\n        $scope.tabs.switches.commissionOptions = {\n            enableSSH: false,\n            skipNetworking: false,\n            skipStorage: false,\n            updateFirmware: false,\n            configureHBA: false\n        };\n        $scope.tabs.switches.releaseOptions = {};\n\n\n        // Options for add hardware dropdown.\n        $scope.addHardwareOption = null;\n        $scope.addHardwareOptions = [\n            {\n                name: \"machine\",\n                title: \"Machine\"\n            },\n            {\n                name: \"chassis\",\n                title: \"Chassis\"\n            }\n        ];\n\n        // This will hold the AddHardwareController once it is initialized.\n        // The controller will set this variable as it's always a child of\n        // this scope.\n        $scope.addHardwareScope = null;\n\n        // This will hold the AddDeviceController once it is initialized.\n        // The controller will set this variable as it's always a child of\n        // this scope.\n        $scope.addDeviceScope = null;\n\n        // When the addHardwareScope is hidden it will emit this event. We\n        // clear the call to action button, so it can be used again.\n        $scope.$on(\"addHardwareHidden\", function() {\n            $scope.addHardwareOption = null;\n        });\n\n        // Return true if the tab is in viewing selected mode.\n        function isViewingSelected(tab) {\n            var search = $scope.tabs[tab].search.toLowerCase();\n            return search === \"in:(selected)\" || search === \"in:selected\";\n        }\n\n        // Sets the search bar to only show selected.\n        function enterViewSelected(tab) {\n            $scope.tabs[tab].previous_search = $scope.tabs[tab].search;\n            $scope.tabs[tab].search = \"in:(Selected)\";\n        }\n\n        // Clear search bar from viewing selected.\n        function leaveViewSelected(tab) {\n            if(isViewingSelected(tab)) {\n                $scope.tabs[tab].search = $scope.tabs[tab].previous_search;\n                $scope.updateFilters(tab);\n            }\n        }\n\n        // Called to update `allViewableChecked`.\n        function updateAllViewableChecked(tab) {\n            // Not checked when the filtered nodes are empty.\n            if($scope.tabs[tab].filtered_items.length === 0) {\n                $scope.tabs[tab].allViewableChecked = false;\n                return;\n            }\n\n            // Loop through all filtered nodes and see if all are checked.\n            var i;\n            for(i = 0; i < $scope.tabs[tab].filtered_items.length; i++) {\n                if(!$scope.tabs[tab].filtered_items[i].$selected) {\n                    $scope.tabs[tab].allViewableChecked = false;\n                    return;\n                }\n            }\n            $scope.tabs[tab].allViewableChecked = true;\n        }\n\n        function clearAction(tab) {\n            resetActionProgress(tab);\n            leaveViewSelected(tab);\n            $scope.tabs[tab].actionOption = null;\n            $scope.tabs[tab].zoneSelection = null;\n            $scope.tabs[tab].poolSelection = null;\n            $scope.tabs[tab].poolAction = 'select-pool';\n            $scope.tabs[tab].newPool = {};\n            if(tab === \"machines\" || tab === \"switches\") {\n                // Possible for this to be called before the osSelect\n                // direction is initialized. In that case it has not\n                // created the $reset function on the model object.\n                if(angular.isFunction(\n                    $scope.tabs[tab].osSelection.$reset)) {\n                    $scope.tabs[tab].osSelection.$reset();\n                }\n                $scope.tabs[tab].commissionOptions.enableSSH = false;\n                $scope.tabs[tab].commissionOptions.skipNetworking = false;\n                $scope.tabs[tab].commissionOptions.skipStorage = false;\n                $scope.tabs[tab].commissionOptions.updateFirmware = false;\n                $scope.tabs[tab].commissionOptions.configureHBA = false;\n            }\n            $scope.tabs[tab].commissioningSelection = [];\n            $scope.tabs[tab].testSelection = [];\n        }\n\n        // Clear the action if required.\n        function shouldClearAction(tab) {\n            if($scope.tabs[tab].selectedItems.length === 0) {\n                clearAction(tab);\n            }\n            if($scope.tabs[tab].actionOption && !isViewingSelected(tab)) {\n                $scope.tabs[tab].actionOption = null;\n            }\n        }\n\n        // Called when the filtered_items are updated. Checks if the\n        // filtered_items are empty and if the search still matches the\n        // previous search. This will reset the search when no nodes match\n        // the current filter.\n        function removeEmptyFilter(tab) {\n            if($scope.tabs[tab].filtered_items.length === 0 &&\n                $scope.tabs[tab].search !== \"\" &&\n                $scope.tabs[tab].search === $scope.tabs[tab].previous_search) {\n                $scope.tabs[tab].search = \"\";\n                $scope.updateFilters(tab);\n            }\n        }\n\n        // Update the number of selected items which have an error based on the\n        // current selected action.\n        function updateActionErrorCount(tab) {\n            var i;\n            $scope.tabs[tab].actionErrorCount = 0;\n            for(i = 0; i < $scope.tabs[tab].selectedItems.length; i++) {\n                var supported = $scope.supportsAction(\n                    $scope.tabs[tab].selectedItems[i], tab);\n                if(!supported) {\n                    $scope.tabs[tab].actionErrorCount += 1;\n                }\n                $scope.tabs[tab].selectedItems[i].action_failed = false;\n            }\n        }\n\n        // Reset actionProgress on tab to zero.\n        function resetActionProgress(tab) {\n            var progress = $scope.tabs[tab].actionProgress;\n            progress.completed = progress.total = 0;\n            progress.errors = {};\n            progress.showing_confirmation = false;\n            progress.affected_nodes = 0;\n        }\n\n        // Add error to action progress and group error messages by nodes.\n        function addErrorToActionProgress(tab, error, node) {\n            var progress = $scope.tabs[tab].actionProgress;\n            progress.completed += 1;\n            var nodes = progress.errors[error];\n            if(angular.isUndefined(nodes)) {\n                progress.errors[error] = [node];\n            } else {\n                nodes.push(node);\n            }\n        }\n\n        // After an action has been performed check if we can leave all nodes\n        // selected or if an error occured and we should only show the failed\n        // nodes.\n        function updateSelectedItems(tab) {\n            if(!$scope.hasActionsFailed(tab)) {\n                if(!$scope.hasActionsInProgress(tab)) {\n                     clearAction(tab);\n                     enterViewSelected(tab);\n                }\n                return;\n            }\n            angular.forEach($scope.tabs[tab].manager.getItems(),\n                    function(node) {\n                if(node.action_failed === false) {\n                    $scope.tabs[tab].manager.unselectItem(node.system_id);\n                }\n            });\n        }\n\n        // Toggles between the current tab.\n        $scope.toggleTab = function(tab) {\n            $rootScope.title = $scope.tabs[tab].pagetitle;\n            $rootScope.page = tab;\n            $scope.currentpage = tab;\n\n            switch(tab) {\n            case 'machines':\n                $scope.osinfo = GeneralManager.getData('osinfo');\n                $scope.tabs.machines.takeActionOptions = GeneralManager.getData(\n                    'machine_actions');\n                break;\n            case 'devices':\n                $scope.tabs.devices.takeActionOptions = GeneralManager.getData(\n                    'device_actions');\n                break;\n            case 'controllers':\n                $scope.tabs.controllers.takeActionOptions =\n                    GeneralManager.getData('rack_controller_actions');\n                break;\n            case 'switches':\n                // XXX: Which actions should there be?\n                $scope.tabs.switches.takeActionOptions = GeneralManager.getData(\n                    \"machine_actions\");\n                break;\n            }\n        };\n\n        // Clear the search bar.\n        $scope.clearSearch = function(tab) {\n            $scope.tabs[tab].search = \"\";\n            $scope.updateFilters(tab);\n        };\n\n        // Mark a node as selected or unselected.\n        $scope.toggleChecked = function(node, tab) {\n            if(tab !== 'machines' && tab !== 'switches') {\n                if($scope.tabs[tab].manager.isSelected(node.system_id)) {\n                    $scope.tabs[tab].manager.unselectItem(node.system_id);\n                } else {\n                    $scope.tabs[tab].manager.selectItem(node.system_id);\n                }\n                updateAllViewableChecked(tab);\n            }\n            updateActionErrorCount(tab);\n            shouldClearAction(tab);\n        };\n\n        // Select all viewable nodes or deselect all viewable nodes.\n        $scope.toggleCheckAll = function(tab) {\n            if(tab !== 'machines' && tab !== 'switches') {\n                if($scope.tabs[tab].allViewableChecked) {\n                    angular.forEach(\n                        $scope.tabs[tab].filtered_items, function(node) {\n                            $scope.tabs[tab].manager.unselectItem(\n                                node.system_id);\n                    });\n                } else {\n                    angular.forEach(\n                        $scope.tabs[tab].filtered_items, function(node) {\n                            $scope.tabs[tab].manager.selectItem(\n                                node.system_id);\n                    });\n                }\n                updateAllViewableChecked(tab);\n            }\n            updateActionErrorCount(tab);\n            shouldClearAction(tab);\n        };\n\n        $scope.onNodeListingChanged = function(nodes, tab) {\n            if(nodes.length === 0 &&\n                $scope.tabs[tab].search !== \"\" &&\n                $scope.tabs[tab].search === $scope.tabs[tab].previous_search) {\n                $scope.tabs[tab].search = \"\";\n                $scope.updateFilters(tab);\n            }\n        };\n\n        // When the filtered nodes change update if all check buttons\n        // should be checked or not.\n        $scope.$watchCollection(\"tabs.devices.filtered_items\", function() {\n            updateAllViewableChecked(\"devices\");\n            removeEmptyFilter(\"devices\");\n        });\n        $scope.$watchCollection(\"tabs.controllers.filtered_items\", function() {\n            updateAllViewableChecked(\"controllers\");\n            removeEmptyFilter(\"controllers\");\n        });\n\n        // Shows the current selection.\n        $scope.showSelected = function(tab) {\n            enterViewSelected(tab);\n            $scope.updateFilters(tab);\n        };\n\n        // Adds or removes a filter to the search.\n        $scope.toggleFilter = function(type, value, tab) {\n            // Don't allow a filter to be changed when an action is\n            // in progress.\n            if(angular.isObject($scope.tabs[tab].actionOption)) {\n                return;\n            }\n            $scope.tabs[tab].filters = SearchService.toggleFilter(\n                $scope.tabs[tab].filters, type, value, true);\n            $scope.tabs[tab].search = SearchService.filtersToString(\n                $scope.tabs[tab].filters);\n        };\n\n        // Return True if the filter is active.\n        $scope.isFilterActive = function(type, value, tab) {\n            return SearchService.isFilterActive(\n                $scope.tabs[tab].filters, type, value, true);\n        };\n\n        // Update the filters object when the search bar is updated.\n        $scope.updateFilters = function(tab) {\n            var filters = SearchService.getCurrentFilters(\n                $scope.tabs[tab].search);\n            if(filters === null) {\n                $scope.tabs[tab].filters = SearchService.getEmptyFilter();\n                $scope.tabs[tab].searchValid = false;\n            } else {\n                $scope.tabs[tab].filters = filters;\n                $scope.tabs[tab].searchValid = true;\n            }\n            shouldClearAction(tab);\n        };\n\n        // Sorts the table by predicate.\n        $scope.sortTable = function(predicate, tab) {\n            $scope.tabs[tab].predicate = predicate;\n            $scope.tabs[tab].reverse = !$scope.tabs[tab].reverse;\n        };\n\n        // Sets the viewable column or sorts.\n        $scope.selectColumnOrSort = function(predicate, tab) {\n            if($scope.tabs[tab].column !== predicate) {\n                $scope.tabs[tab].column = predicate;\n            } else {\n                $scope.sortTable(predicate, tab);\n            }\n        };\n\n        // Return True if the node supports the action.\n        $scope.supportsAction = function(node, tab) {\n            if(!$scope.tabs[tab].actionOption) {\n                return true;\n            }\n            return node.actions.indexOf(\n                $scope.tabs[tab].actionOption.name) >= 0;\n        };\n\n        // Called when the action option gets changed.\n        $scope.actionOptionSelected = function(tab) {\n            updateActionErrorCount(tab);\n            enterViewSelected(tab);\n\n            // Hide the add hardware/device section.\n            if (tab === 'machines') {\n                if(angular.isObject($scope.addHardwareScope)) {\n                    $scope.addHardwareScope.hide();\n                }\n            } else if(tab === 'devices') {\n                if(angular.isObject($scope.addDeviceScope)) {\n                    $scope.addDeviceScope.hide();\n                }\n            }\n        };\n\n        // Return True if there is an action error.\n        $scope.isActionError = function(tab) {\n            if(angular.isObject($scope.tabs[tab].actionOption) &&\n                $scope.tabs[tab].actionOption.name === \"deploy\" &&\n                $scope.tabs[tab].actionErrorCount === 0 &&\n                ($scope.osinfo.osystems.length === 0 ||\n                UsersManager.getSSHKeyCount() === 0)) {\n                return true;\n            }\n            return $scope.tabs[tab].actionErrorCount !== 0;\n        };\n\n        // Return True if unable to deploy because of missing images.\n        $scope.isDeployError = function(tab) {\n            if($scope.tabs[tab].actionErrorCount !== 0) {\n                return false;\n            }\n            if(angular.isObject($scope.tabs[tab].actionOption) &&\n                $scope.tabs[tab].actionOption.name === \"deploy\" &&\n                $scope.osinfo.osystems.length === 0) {\n                return true;\n            }\n            return false;\n        };\n\n        // Return True if unable to deploy because of missing ssh keys.\n        $scope.isSSHKeyError = function(tab) {\n            if($scope.tabs[tab].actionErrorCount !== 0) {\n                return false;\n            }\n            if(angular.isObject($scope.tabs[tab].actionOption) &&\n                $scope.tabs[tab].actionOption.name === \"deploy\" &&\n                UsersManager.getSSHKeyCount() === 0) {\n                return true;\n            }\n            return false;\n        };\n\n        // Called when the current action is cancelled.\n        $scope.actionCancel = function(tab) {\n            resetActionProgress(tab);\n            leaveViewSelected(tab);\n            $scope.tabs[tab].actionOption = null;\n        };\n\n        // Perform the action on all nodes.\n        $scope.actionGo = function(tabName) {\n            var tab = $scope.tabs[tabName];\n            var extra = {};\n            var deferred = $q.defer();\n            // Actions can use preAction is to execute before the action\n            // is exectued on all the nodes. We initialize it with a\n            // promise so that later we can always treat it as a\n            // promise, no matter if something is to be executed or not.\n            var preAction = deferred.promise;\n            deferred.resolve();\n            var i;\n            // Set deploy parameters if a deploy or set zone action.\n            if(tab.actionOption.name === \"deploy\" &&\n               angular.isString(tab.osSelection.osystem) &&\n               angular.isString(tab.osSelection.release)) {\n\n                // Set extra. UI side the release is structured os/release, but\n                // when it is sent over the websocket only the \"release\" is\n                // sent.\n                extra.osystem = tab.osSelection.osystem;\n                var release = tab.osSelection.release;\n                release = release.split(\"/\");\n                release = release[release.length-1];\n                extra.distro_series = release;\n                // hwe_kernel is optional so only include it if its specified\n                if(angular.isString(tab.osSelection.hwe_kernel) &&\n                   (tab.osSelection.hwe_kernel.indexOf('hwe-') >= 0 ||\n                    tab.osSelection.hwe_kernel.indexOf('ga-') >= 0)) {\n                    extra.hwe_kernel = tab.osSelection.hwe_kernel;\n                }\n            } else if(tab.actionOption.name === \"set-zone\" &&\n                angular.isNumber(tab.zoneSelection.id)) {\n                // Set the zone parameter.\n                extra.zone_id = tab.zoneSelection.id;\n            } else if(tab.actionOption.name === \"set-pool\") {\n                if ((tab.poolAction === 'create-pool') &&\n                    (tab.newPool.name !== undefined)) {\n                    // Create the pool and set the action options with\n                    // the new pool id.\n                    preAction = ResourcePoolsManager.createItem(\n                            {name: tab.newPool.name}).then(function (newPool) {\n                                extra.pool_id = newPool.id\n                            });\n                } else if (angular.isNumber(tab.poolSelection.id)) {\n                    // Set the pool parameter.\n                    extra.pool_id = tab.poolSelection.id;\n                }\n            } else if(tab.actionOption.name === \"commission\") {\n                // Set the commission options.\n                extra.enable_ssh = tab.commissionOptions.enableSSH;\n                extra.skip_networking = tab.commissionOptions.skipNetworking;\n                extra.skip_storage = tab.commissionOptions.skipStorage;\n                extra.commissioning_scripts = [];\n                for(i=0;i<tab.commissioningSelection.length;i++) {\n                    extra.commissioning_scripts.push(\n                        tab.commissioningSelection[i].id);\n                }\n                if(tab.commissionOptions.updateFirmware) {\n                    extra.commissioning_scripts.push('update_firmware')\n                }\n                if(tab.commissionOptions.configureHBA) {\n                    extra.commissioning_scripts.push('configure_hba')\n                }\n                if(extra.commissioning_scripts.length === 0) {\n                    // Tell the region not to run any custom commissioning\n                    // scripts.\n                    extra.commissioning_scripts.push('none');\n                }\n                extra.testing_scripts = [];\n                for(i=0;i<tab.testSelection.length;i++) {\n                    extra.testing_scripts.push(\n                        tab.testSelection[i].id);\n                }\n                if(extra.testing_scripts.length === 0) {\n                    // Tell the region not to run any tests.\n                    extra.testing_scripts.push('none');\n                }\n            } else if(tab.actionOption.name === \"test\") {\n                if(!tab.actionProgress.showing_confirmation) {\n                    var progress = tab.actionProgress;\n                    for(i=0;i<tab.selectedItems.length;i++) {\n                        if(tab.selectedItems[i].status_code === 6)\n                        {\n                            progress.showing_confirmation = true;\n                            progress.affected_nodes++;\n                        }\n                    }\n                    if(tab.actionProgress.affected_nodes != 0) {\n                        return;\n                    }\n                }\n                // Set the test options.\n                extra.enable_ssh = tab.commissionOptions.enableSSH;\n                extra.testing_scripts = [];\n                for(i=0;i<tab.testSelection.length;i++) {\n                    extra.testing_scripts.push(\n                        tab.testSelection[i].id);\n                }\n                if(extra.testing_scripts.length === 0) {\n                    // Tell the region not to run any tests.\n                    extra.testing_scripts.push('none');\n                }\n            } else if(tab.actionOption.name === \"release\") {\n                // Set the release options.\n                extra.erase = tab.releaseOptions.erase;\n                extra.secure_erase = tab.releaseOptions.secureErase;\n                extra.quick_erase = tab.releaseOptions.quickErase;\n            }\n\n            preAction.then(\n                function () {\n                    // Setup actionProgress.\n                    resetActionProgress(tabName);\n                    tab.actionProgress.total = tab.selectedItems.length;\n                    // Perform the action on all selected items.\n                    angular.forEach(tab.selectedItems, function(node) {\n                        tab.manager.performAction(\n                            node, tab.actionOption.name,\n                            extra).then(function() {\n                                tab.actionProgress.completed += 1;\n                                node.action_failed = false;\n                                updateSelectedItems(tabName);\n                            }, function(error) {\n                                addErrorToActionProgress(tabName, error, node);\n                                node.action_failed = true;\n                                updateSelectedItems(tabName);\n                            });\n                    });\n                },\n                function (error) {\n                    addErrorToActionProgress(tabName, error);\n            });\n        };\n\n        // Returns true when actions are being performed.\n        $scope.hasActionsInProgress = function(tab) {\n            var progress = $scope.tabs[tab].actionProgress;\n            return progress.total > 0 && progress.completed !== progress.total;\n        };\n\n        // Returns true if any of the actions have failed.\n        $scope.hasActionsFailed = function(tab) {\n            return Object.keys(\n                $scope.tabs[tab].actionProgress.errors).length > 0;\n        };\n\n        // Called to when the addHardwareOption has changed.\n        $scope.addHardwareOptionChanged = function() {\n            if($scope.addHardwareOption) {\n                $scope.addHardwareScope.show(\n                    $scope.addHardwareOption.name);\n            }\n        };\n\n        // Called when the add device button is pressed.\n        $scope.addDevice = function() {\n            $scope.addDeviceScope.show();\n        };\n\n        // Called when the cancel add device button is pressed.\n        $scope.cancelAddDevice = function() {\n            $scope.addDeviceScope.cancel();\n        };\n\n        // Get the display text for device ip assignment type.\n        $scope.getDeviceIPAssignment = function(ipAssignment) {\n            return DEVICE_IP_ASSIGNMENT[ipAssignment];\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        $scope.hasCustomCommissioningScripts = function() {\n            var i;\n            for(i=0;i<$scope.scripts.length;i++) {\n                if($scope.scripts[i].script_type === 0) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Reload osinfo when the page reloads\n        $scope.$on(\"$routeUpdate\", function () {\n            GeneralManager.loadItems([\"osinfo\"]);\n        });\n\n        // Switch to the specified tab, if specified.\n        angular.forEach(\n            [\"machines\", \"pools\", \"devices\", \"controllers\", \"switches\"],\n            function(node_type) {\n                if($location.path().indexOf(\"/\" + node_type) !== -1) {\n                    $scope.toggleTab(node_type);\n                }\n            });\n\n        // The ScriptsManager is only needed for selecting testing or\n        // commissioning scripts.\n        var page_managers = [$scope.tabs[$scope.currentpage].manager];\n        if($scope.currentpage === \"machines\" ||\n           $scope.currentpage === \"controllers\") {\n            page_managers.push(ScriptsManager);\n        }\n\n        // Load the required managers for this controller. The ServicesManager\n        // is required by the maasControllerStatus directive that is used\n        // in the partial for this controller.\n        ManagerHelperService.loadManagers($scope, [\n            GeneralManager, ZonesManager, UsersManager, ResourcePoolsManager,\n            ServicesManager].concat(page_managers)).then(function() {\n                $scope.loading = false;\n            });\n\n\n        // Stop polling and save the current filter when the scope is destroyed.\n        $scope.$on(\"$destroy\", function() {\n            $interval.cancel($scope.statusPoll);\n            SearchService.storeFilters(\n                \"machines\", $scope.tabs.machines.filters);\n            SearchService.storeFilters(\"devices\", $scope.tabs.devices.filters);\n            SearchService.storeFilters(\n                \"controllers\", $scope.tabs.controllers.filters);\n            SearchService.storeFilters(\n                \"switches\", $scope.tabs.switches.filters);\n        });\n\n        // Restore the filters if any saved.\n        var machinesFilter = SearchService.retrieveFilters(\"machines\");\n        if(angular.isObject(machinesFilter)) {\n            $scope.tabs.machines.search = SearchService.filtersToString(\n                machinesFilter);\n            $scope.updateFilters(\"machines\");\n        }\n        var devicesFilter = SearchService.retrieveFilters(\"devices\");\n        if(angular.isObject(devicesFilter)) {\n            $scope.tabs.devices.search = SearchService.filtersToString(\n                devicesFilter);\n            $scope.updateFilters(\"devices\");\n        }\n        var controllersFilter = SearchService.retrieveFilters(\"controllers\");\n        if(angular.isObject(controllersFilter)) {\n            $scope.tabs.controllers.search = SearchService.filtersToString(\n                controllersFilter);\n            $scope.updateFilters(\"controllers\");\n        }\n        var switchesFilter = SearchService.retrieveFilters(\"switches\");\n        if(angular.isObject(switchesFilter)) {\n            $scope.tabs.switches.search = SearchService.filtersToString(\n                switchesFilter);\n            $scope.updateFilters(\"switches\");\n        }\n\n        // Set the query if the present in $routeParams.\n        var query = $routeParams.query;\n        if(angular.isString(query)) {\n            $scope.tabs[$scope.currentpage].search = query;\n            $scope.updateFilters($scope.currentpage);\n        }\n    }]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Pod Details Controller\n */\n\nangular.module('MAAS').controller('PodDetailsController', [\n    '$scope', '$rootScope', '$location', '$routeParams',\n    'PodsManager', 'GeneralManager', 'UsersManager', 'DomainsManager',\n    'ZonesManager', 'MachinesManager', 'ManagerHelperService', 'ErrorService',\n    'ResourcePoolsManager',\n    function(\n        $scope, $rootScope, $location, $routeParams,\n        PodsManager, GeneralManager, UsersManager, DomainsManager,\n        ZonesManager, MachinesManager, ManagerHelperService, ErrorService,\n        ResourcePoolsManager) {\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n        $rootScope.page = \"pods\";\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.pod = null;\n        $scope.podManager = PodsManager;\n        $scope.action = {\n          option: null,\n          options: [\n            {\n              name: 'refresh',\n              title: 'Refresh',\n              sentence: 'refresh',\n              operation: angular.bind(PodsManager, PodsManager.refresh)\n            },\n            {\n              name: 'delete',\n              title: 'Delete',\n              sentence: 'delete',\n              operation: angular.bind(PodsManager, PodsManager.deleteItem)\n            }\n          ],\n          inProgress: false,\n          error: null\n        };\n        $scope.compose = {\n          action: {\n            name: 'compose',\n            title: 'Compose',\n            sentence: 'compose'\n          },\n          obj: {\n            storage: [{\n              type: 'local',\n              size: 8,\n              tags: [],\n              boot: true\n            }]\n          }\n        };\n        $scope.power_types = GeneralManager.getData(\"power_types\");\n        $scope.domains = DomainsManager.getItems();\n        $scope.zones = ZonesManager.getItems();\n        $scope.pools = ResourcePoolsManager.getItems();\n        $scope.section = {\n          area: 'summary'\n        };\n        $scope.machinesSearch = 'pod-id:=invalid';\n        $scope.editing = false;\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Return true if at least a rack controller is connected to the\n        // region controller.\n        $scope.isRackControllerConnected = function() {\n            // If power_types exist then a rack controller is connected.\n            return $scope.power_types.length > 0;\n        };\n\n        // Return true when the edit buttons can be clicked.\n        $scope.canEdit = function() {\n            return (\n                $scope.isRackControllerConnected() &&\n                    $scope.isSuperUser());\n        };\n\n        // Called to edit the pod configuration.\n        $scope.editPodConfiguration = function() {\n            if(!$scope.canEdit()) {\n                return;\n            }\n            $scope.editing = true;\n        };\n\n        // Called when the cancel or save button is pressed.\n        $scope.exitEditPodConfiguration = function() {\n            $scope.editing = false;\n        };\n\n        // Return true if there is an action error.\n        $scope.isActionError = function() {\n            return $scope.action.error !== null;\n        };\n\n        // Called when the action.option has changed.\n        $scope.actionOptionChanged = function() {\n            // Clear the action error.\n            $scope.action.error = null;\n        };\n\n        // Cancel the action.\n        $scope.actionCancel = function() {\n            $scope.action.option = null;\n            $scope.action.error = null;\n        };\n\n        // Perform the action.\n        $scope.actionGo = function() {\n            $scope.action.inProgress = true;\n            $scope.action.option.operation($scope.pod).then(function() {\n                  // If the action was delete, then go back to listing.\n                  if($scope.action.option.name === \"delete\") {\n                      $location.path(\"/pods\");\n                  }\n                  $scope.action.inProgress = false;\n                  $scope.action.option = null;\n                  $scope.action.error = null;\n              }, function(error) {\n                  $scope.action.inProgress = false;\n                  $scope.action.error = error;\n              });\n        };\n\n        // Return the title of the pod type.\n        $scope.getPodTypeTitle = function() {\n            var i;\n            for(i = 0; i < $scope.power_types.length; i++) {\n                var power_type = $scope.power_types[i];\n                if(power_type.name === $scope.pod.type) {\n                    return power_type.description;\n                }\n            }\n            return $scope.pod.type;\n        };\n\n        // Returns true if the pod is composable.\n        $scope.canCompose = function() {\n            if(angular.isObject($scope.pod)) {\n                return ($scope.isSuperUser() &&\n                    $scope.pod.capabilities.indexOf('composable') >= 0);\n            } else {\n                return false;\n            }\n        };\n\n        // Opens the compose action menu.\n        $scope.composeMachine = function() {\n            $scope.action.option = $scope.compose.action;\n        };\n\n        // Called before the compose params is sent over the websocket.\n        $scope.composePreProcess = function(params) {\n            params = angular.copy(params);\n            params.id = $scope.pod.id;\n            // Sort boot disk first.\n            var sorted = $scope.compose.obj.storage.sort(function(a, b) {\n              if(a.boot === b.boot) {\n                return 0;\n              } else if(a.boot && !b.boot) {\n                return -1;\n              } else {\n                return 1;\n              }\n            });\n            // Create the storage constraint.\n            var storage = [];\n            angular.forEach(sorted, function(disk, idx) {\n              var constraint = idx + ':' + disk.size;\n              var tags = disk.tags.map(function(tag) {\n                return tag.text;\n              });\n              tags.splice(0, 0, disk.type);\n              constraint += '(' + tags.join(',') + ')';\n              storage.push(constraint);\n            });\n            params.storage = storage.join(',');\n            return params;\n        };\n\n        // Called to cancel composition.\n        $scope.cancelCompose = function() {\n          $scope.compose.obj = {\n            storage: [{\n              type: 'local',\n              size: 8,\n              tags: [],\n              boot: true\n            }]\n          };\n          $scope.action.option = null;\n        };\n\n        // Add another storage device.\n        $scope.composeAddStorage = function() {\n          var storage = {\n            type: 'local',\n            size: 8,\n            tags: [],\n            boot: false\n          };\n          if($scope.pod.capabilities.indexOf('iscsi_storage') >= 0) {\n            storage.type = 'iscsi';\n          }\n          $scope.compose.obj.storage.push(storage);\n        };\n\n        // Change which disk is the boot disk.\n        $scope.composeSetBootDisk = function(storage) {\n          angular.forEach($scope.compose.obj.storage, function(disk) {\n            disk.boot = false;\n          });\n          storage.boot = true;\n        };\n\n        // Remove a disk from storage config.\n        $scope.composeRemoveDisk = function(storage) {\n          var idx = $scope.compose.obj.storage.indexOf(storage);\n          if(idx >= 0) {\n            $scope.compose.obj.storage.splice(idx, 1);\n          }\n        };\n\n        // Start watching key fields.\n        $scope.startWatching = function() {\n            $scope.$watch(\"pod.name\", function() {\n                $rootScope.title = 'Pod ' + $scope.pod.name;\n            });\n            $scope.$watch(\"pod.capabilities\", function() {\n                // Show the composable action if the pod supports composition.\n                var idx = $scope.action.options.indexOf(\n                    $scope.compose.action);\n                if(!$scope.canCompose()) {\n                    if(idx >= 0) {\n                        $scope.action.options.splice(idx, 1);\n                    }\n                } else {\n                    if(idx === -1) {\n                        $scope.action.options.splice(\n                            0, 0, $scope.compose.action);\n                    }\n                }\n            });\n            $scope.$watch(\"action.option\", function(now, then) {\n                // When the compose action is selected set the default\n                // parameters.\n                if(now && now.name === 'compose') {\n                    if(!then || then.name !== 'compose') {\n                        $scope.compose.obj.domain = (\n                            DomainsManager.getDefaultDomain().id);\n                        $scope.compose.obj.zone = (\n                            ZonesManager.getDefaultZone().id);\n                        $scope.compose.obj.pool = $scope.pod.default_pool;\n                    }\n                }\n            });\n        };\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers($scope, [\n            PodsManager, GeneralManager, UsersManager,\n            DomainsManager, ZonesManager, MachinesManager,\n            ResourcePoolsManager]).then(function() {\n\n            // Possibly redirected from another controller that already had\n            // this pod set to active. Only call setActiveItem if not already\n            // the activeItem.\n            var activePod = PodsManager.getActiveItem();\n            if(angular.isObject(activePod) &&\n                activePod.id === parseInt($routeParams.id, 10)) {\n                $scope.pod = activePod;\n                $scope.loaded = true;\n                $scope.machinesSearch = 'pod-id:=' + $scope.pod.id;\n                $scope.startWatching();\n            } else {\n                PodsManager.setActiveItem(\n                    parseInt($routeParams.id, 10)).then(function(pod) {\n                        $scope.pod = pod;\n                        $scope.loaded = true;\n                        $scope.machinesSearch = 'pod-id:=' + $scope.pod.id;\n                        $scope.startWatching();\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n    }]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Pods List Controller\n */\n\nangular.module('MAAS').controller('PodsListController', [\n    '$scope', '$rootScope',\n    'PodsManager', 'UsersManager', 'GeneralManager', 'ZonesManager',\n    'ManagerHelperService', 'ResourcePoolsManager', function(\n        $scope, $rootScope, PodsManager, UsersManager, GeneralManager,\n        ZonesManager, ManagerHelperService, ResourcePoolsManager) {\n\n        // Set title and page.\n        $rootScope.title = \"Pods\";\n        $rootScope.page = \"pods\";\n\n        // Set initial values.\n        $scope.podManager = PodsManager;\n        $scope.pods = PodsManager.getItems();\n        $scope.loading = true;\n\n        $scope.filteredItems = [];\n        $scope.selectedItems = PodsManager.getSelectedItems();\n        $scope.predicate = 'name';\n        $scope.allViewableChecked = false;\n        $scope.action = {\n          option: null,\n          options: [\n            {\n              name: 'refresh',\n              title: 'Refresh',\n              sentence: 'refresh',\n              operation: angular.bind(PodsManager, PodsManager.refresh)\n            },\n            {\n              name: 'delete',\n              title: 'Delete',\n              sentence: 'delete',\n              operation: angular.bind(PodsManager, PodsManager.deleteItem)\n            }\n          ],\n          progress: {\n              total: 0,\n              completed: 0,\n              errors: 0\n          }\n        };\n        $scope.add = {\n          open: false,\n          obj: {\n              cpu_over_commit_ratio: 1,\n              memory_over_commit_ratio: 1\n          }\n        };\n        $scope.powerTypes = GeneralManager.getData(\"power_types\");\n        $scope.zones = ZonesManager.getItems();\n        $scope.pools = ResourcePoolsManager.getItems();\n\n        // Called to update `allViewableChecked`.\n        function updateAllViewableChecked() {\n            // Not checked when no pods.\n            if($scope.pods.length === 0) {\n                $scope.allViewableChecked = false;\n                return;\n            }\n\n            // Loop through all filtered pods and see if all are checked.\n            var i;\n            for(i = 0; i < $scope.pods.length; i++) {\n                if(!$scope.pods[i].$selected) {\n                    $scope.allViewableChecked = false;\n                    return;\n                }\n            }\n            $scope.allViewableChecked = true;\n        }\n\n        function clearAction() {\n            resetActionProgress();\n            $scope.action.option = null;\n        }\n\n        // Clear the action if required.\n        function shouldClearAction() {\n            if($scope.selectedItems.length === 0) {\n                clearAction();\n                if($scope.action.option) {\n                    $scope.action.option = null;\n                }\n            }\n        }\n\n        // Reset actionProgress to zero.\n        function resetActionProgress() {\n            var progress = $scope.action.progress;\n            progress.completed = progress.total = progress.errors = 0;\n            angular.forEach($scope.pods, function(pod) {\n                delete pod.action_failed;\n            });\n        }\n\n        // After an action has been performed check if we can leave all pods\n        // selected or if an error occured and we should only show the failed\n        // pods.\n        function updateSelectedItems() {\n            if(!$scope.hasActionsFailed()) {\n                if(!$scope.hasActionsInProgress()) {\n                     clearAction();\n                }\n                return;\n            }\n            angular.forEach($scope.pods, function(pod) {\n                if(pod.action_failed === false) {\n                    PodsManager.unselectItem(pod.id);\n                }\n            });\n            shouldClearAction();\n        }\n\n        // Mark a pod as selected or unselected.\n        $scope.toggleChecked = function(pod) {\n            if(PodsManager.isSelected(pod.id)) {\n                PodsManager.unselectItem(pod.id);\n            } else {\n                PodsManager.selectItem(pod.id);\n            }\n            updateAllViewableChecked();\n            shouldClearAction();\n        };\n\n        // Select all viewable pods or deselect all viewable pods.\n        $scope.toggleCheckAll = function() {\n            if($scope.allViewableChecked) {\n                angular.forEach($scope.pods, function(pod) {\n                    PodsManager.unselectItem(pod.id);\n                });\n            } else {\n                angular.forEach($scope.pods, function(pod) {\n                    PodsManager.selectItem(pod.id);\n                });\n            }\n            updateAllViewableChecked();\n            shouldClearAction();\n        };\n\n        // When the pods change update if all check buttons should be\n        // checked or not.\n        $scope.$watchCollection(\"pods\", function() {\n            updateAllViewableChecked();\n        });\n\n        // Sorts the table by predicate.\n        $scope.sortTable = function(predicate) {\n            $scope.predicate = predicate;\n            $scope.reverse = !$scope.reverse;\n        };\n\n        // Called when the current action is cancelled.\n        $scope.actionCancel = function() {\n            resetActionProgress();\n            $scope.action.option = null;\n        };\n\n        // Perform the action on all pods.\n        $scope.actionGo = function() {\n            var extra = {};\n\n            // Setup actionProgress.\n            resetActionProgress();\n            $scope.action.progress.total = $scope.selectedItems.length;\n\n            // Perform the action on all selected items.\n            var operation = $scope.action.option.operation;\n            angular.forEach($scope.selectedItems, function(pod) {\n                operation(pod).then(function() {\n                        $scope.action.progress.completed += 1;\n                        pod.action_failed = false;\n                        updateSelectedItems();\n                    }, function(error) {\n                        $scope.action.progress.errors += 1;\n                        pod.action_error = error;\n                        pod.action_failed = true;\n                        updateSelectedItems();\n                    });\n            });\n        };\n\n        // Returns true when actions are being performed.\n        $scope.hasActionsInProgress = function() {\n            var progress = $scope.action.progress;\n            return progress.total > 0 && (\n                progress.completed + progress.errors) !== progress.total;\n        };\n\n        // Returns true if any of the actions have failed.\n        $scope.hasActionsFailed = function() {\n            var progress = $scope.action.progress;\n            return progress.errors > 0;\n        };\n\n        // Called when the add pod button is pressed.\n        $scope.addPod = function() {\n            $scope.add.open = true;\n            $scope.add.obj.zone = ZonesManager.getDefaultZone().id;\n            $scope.add.obj.default_pool = (\n                ResourcePoolsManager.getDefaultPool().id);\n            $scope.add.obj.cpu_over_commit_ratio = 1;\n            $scope.add.obj.memory_over_commit_ratio = 1;\n        };\n\n        // Called when the cancel add pod button is pressed.\n        $scope.cancelAddPod = function() {\n            $scope.add.open = false;\n            $scope.add.obj = {};\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Return true if at least a rack controller is connected to the\n        // region controller.\n        $scope.isRackControllerConnected = function() {\n            // If powerTypes exist then a rack controller is connected.\n            return $scope.powerTypes.length > 0;\n        };\n\n        // Return true when the add pod buttons can be clicked.\n        $scope.canAddPod = function() {\n            return (\n                $scope.isRackControllerConnected() &&\n                    $scope.isSuperUser());\n        };\n\n        // Return the title of the power type.\n        $scope.getPowerTypeTitle = function(power_type) {\n            var i;\n            for(i = 0; i < $scope.powerTypes.length; i++) {\n                var powerType = $scope.powerTypes[i];\n                if(powerType.name === power_type) {\n                    return powerType.description;\n                }\n            }\n            return power_type;\n        };\n\n        // Load the required managers for this controller.\n        ManagerHelperService.loadManagers($scope, [\n            PodsManager, UsersManager, GeneralManager, ZonesManager,\n            ResourcePoolsManager]).then(\n            function() {\n                $scope.loading = false;\n            });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Preferences Controller\n */\n\nangular.module('MAAS').controller('PreferencesController', [\n    '$scope', 'UsersManager', 'ManagerHelperService',\n    function(\n        $scope, UsersManager, ManagerHelperService) {\n            $scope.loading = true;\n            ManagerHelperService.loadManager(\n                $scope, UsersManager).then(function() {\n                    $scope.loading = false;\n                });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Settings Controller\n */\n\nangular.module('MAAS').controller('SettingsController', [\n    '$scope', '$rootScope', '$routeParams', 'PackageRepositoriesManager',\n    'DHCPSnippetsManager', 'MachinesManager', 'ControllersManager',\n    'DevicesManager', 'SubnetsManager', 'GeneralManager',\n    'ManagerHelperService',\n    function($scope, $rootScope, $routeParams, PackageRepositoriesManager,\n             DHCPSnippetsManager, MachinesManager, ControllersManager,\n             DevicesManager, SubnetsManager, GeneralManager,\n             ManagerHelperService) {\n\n        // Set the title and page.\n        $rootScope.title = \"Loading...\";\n        $rootScope.page = \"settings\";\n\n        // Initial values.\n        $scope.loading = true;\n        $scope.snippetsManager = DHCPSnippetsManager;\n        $scope.snippets = DHCPSnippetsManager.getItems();\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.machines = MachinesManager.getItems();\n        $scope.devices = DevicesManager.getItems();\n        $scope.controllers = ControllersManager.getItems();\n        $scope.known_architectures =\n            GeneralManager.getData(\"known_architectures\");\n        $scope.pockets_to_disable =\n            GeneralManager.getData(\"pockets_to_disable\");\n        $scope.components_to_disable =\n            GeneralManager.getData(\"components_to_disable\");\n        $scope.packageRepositoriesManager = PackageRepositoriesManager;\n        $scope.repositories =\n            PackageRepositoriesManager.getItems();\n        $scope.newSnippet = null;\n        $scope.editSnippet = null;\n        $scope.deleteSnippet = null;\n        $scope.snippetTypes = [\"Global\", \"Subnet\", \"Node\"];\n        $scope.newRepository = null;\n        $scope.editRepository = null;\n        $scope.deleteRepository = null;\n\n        // Called when the enabled toggle is changed.\n        $scope.repositoryEnabledToggle = function(repository) {\n            PackageRepositoriesManager.updateItem(repository);\n        };\n\n        // Called to enter remove mode for a repository.\n        $scope.repositoryEnterRemove = function(repository) {\n            $scope.newRepository = null;\n            $scope.editRepository = null;\n            $scope.deleteRepository = repository;\n        };\n\n        // Called to exit remove mode for a repository.\n        $scope.repositoryExitRemove = function() {\n            $scope.deleteRepository = null;\n        };\n\n        // Called to confirm the removal of a repository.\n        $scope.repositoryConfirmRemove = function() {\n            PackageRepositoriesManager.deleteItem(\n                $scope.deleteRepository).then(function() {\n                    $scope.repositoryExitRemove();\n                });\n        };\n\n        // Return true if the repository is a PPA.\n        $scope.isPPA = function(data) {\n            if(!angular.isObject(data)) {\n                return false;\n            }\n            if(!angular.isString(data.url)) {\n                return false;\n            }\n            return data.url.indexOf(\"ppa:\") === 0 ||\n                data.url.indexOf(\"ppa.launchpad.net\") > -1;\n        };\n\n        // Return true if the repository is a mirror.\n        $scope.isMirror = function(data) {\n            if(!angular.isObject(data)) {\n                return false;\n            }\n            if(!angular.isString(data.name)) {\n                return false;\n            }\n            return data.name === \"main_archive\" ||\n                data.name === \"ports_archive\";\n        };\n\n        // Called to enter edit mode for a repository.\n        $scope.repositoryEnterEdit = function(repository) {\n            $scope.newRepository = null;\n            $scope.deleteRepository = null;\n            $scope.editRepository = repository;\n        };\n\n        // Called to exit edit mode for a repository.\n        $scope.repositoryExitEdit = function() {\n            $scope.editRepository = null;\n        };\n\n        // Called to start adding a new repository.\n        $scope.repositoryAdd = function(isPPA) {\n            var repo = {\n                name: \"\",\n                enabled: true,\n                url: \"\",\n                key: \"\",\n                arches: [\"i386\", \"amd64\"],\n                distributions: [],\n                components: []\n            };\n            if (isPPA) {\n                repo.url = \"ppa:\";\n            }\n            $scope.newRepository = repo;\n        };\n\n        // Called to cancel addind a new repository.\n        $scope.repositoryAddCancel = function() {\n            $scope.newRepository = null;\n        };\n\n        // Return the node from either the machines, devices, or controllers\n        // manager.\n        function getNode(system_id) {\n            var node = MachinesManager.getItemFromList(system_id);\n            if(angular.isObject(node)) {\n                return node;\n            }\n            node = DevicesManager.getItemFromList(system_id);\n            if(angular.isObject(node)) {\n                return node;\n            }\n            node = ControllersManager.getItemFromList(system_id);\n            if(angular.isObject(node)) {\n                return node;\n            }\n        }\n\n        // Return the name of the subnet.\n        $scope.getSubnetName = function(subnet) {\n            return SubnetsManager.getName(subnet);\n        };\n\n        // Return the text for the type of snippet.\n        $scope.getSnippetTypeText = function(snippet) {\n            if(angular.isString(snippet.node)) {\n                return \"Node\";\n            } else if(angular.isNumber(snippet.subnet)) {\n                return \"Subnet\";\n            } else {\n                return \"Global\";\n            }\n        };\n\n        // Return the object the snippet applies to.\n        $scope.getSnippetAppliesToObject = function(snippet) {\n            if(angular.isString(snippet.node)) {\n                return getNode(snippet.node);\n            } else if(angular.isNumber(snippet.subnet)) {\n                return SubnetsManager.getItemFromList(snippet.subnet);\n            }\n        };\n\n        // Return the applies to text that is disabled in none edit mode.\n        $scope.getSnippetAppliesToText = function(snippet) {\n            var obj = $scope.getSnippetAppliesToObject(snippet);\n            if(angular.isString(snippet.node) && angular.isObject(obj)) {\n                return obj.fqdn;\n            } else if(angular.isNumber(snippet.subnet) &&\n                angular.isObject(obj)) {\n                return SubnetsManager.getName(obj);\n            } else {\n                return \"\";\n            }\n        };\n\n        // Called to enter remove mode for a DHCP snippet.\n        $scope.snippetEnterRemove = function(snippet) {\n            $scope.newSnippet = null;\n            $scope.editSnippet = null;\n            $scope.deleteSnippet = snippet;\n        };\n\n        // Called to exit remove mode for a DHCP snippet.\n        $scope.snippetExitRemove = function() {\n            $scope.deleteSnippet = null;\n        };\n\n        // Called to confirm the removal of a snippet.\n        $scope.snippetConfirmRemove = function() {\n            DHCPSnippetsManager.deleteItem($scope.deleteSnippet).then(\n                function() {\n                    $scope.snippetExitRemove();\n                });\n        };\n\n        // Called to enter edit mode for a DHCP snippet.\n        $scope.snippetEnterEdit = function(snippet) {\n            $scope.newSnippet = null;\n            $scope.deleteSnippet = null;\n            $scope.editSnippet = snippet;\n            $scope.editSnippet.type = $scope.getSnippetTypeText(snippet);\n        };\n\n        // Called to exit edit mode for a DHCP snippet.\n        $scope.snippetExitEdit = function() {\n            $scope.editSnippet = null;\n        };\n\n        // Called when the active toggle is changed.\n        $scope.snippetToggle = function(snippet) {\n            DHCPSnippetsManager.updateItem(snippet).then(null,\n                function(error) {\n                    // Revert state change and clear toggling.\n                    snippet.enabled = !snippet.enabled;\n                    console.log(error);\n                });\n        };\n\n        // Called to start adding a new snippet.\n        $scope.snippetAdd = function() {\n            $scope.editSnippet = null;\n            $scope.deleteSnippet = null;\n            $scope.newSnippet = {\n                name: \"\",\n                type: \"Global\",\n                enabled: true\n            };\n        };\n\n        // Called to cancel addind a new snippet.\n        $scope.snippetAddCancel = function() {\n            $scope.newSnippet = null;\n        };\n\n        // Setup page variables based on section.\n        if($routeParams.section === \"dhcp\") {\n            $rootScope.title = \"DHCP snippets\";\n            $scope.currentpage = 'dhcp';\n        }\n        else if($routeParams.section === \"repositories\") {\n            $rootScope.title = \"Package repositories\";\n            $scope.currentpage = 'repositories';\n        }\n\n        // Load the required managers.\n        ManagerHelperService.loadManagers($scope, [\n                PackageRepositoriesManager, DHCPSnippetsManager,\n                MachinesManager, DevicesManager, ControllersManager,\n                SubnetsManager, GeneralManager]).then(\n            function() {\n                $scope.loading = false;\n            });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Space Details Controller\n */\n\nangular.module('MAAS').controller('SpaceDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', '$location',\n    'SpacesManager', 'VLANsManager', 'SubnetsManager', 'FabricsManager',\n    'UsersManager', 'ManagerHelperService', 'ErrorService',\n    function(\n        $scope, $rootScope, $routeParams, $filter, $location,\n        SpacesManager, VLANsManager, SubnetsManager, FabricsManager,\n        UsersManager, ManagerHelperService, ErrorService) {\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Note: this value must match the top-level tab, in order for\n        // highlighting to occur properly.\n        $rootScope.page = \"networks\";\n\n        // Initial values.\n        $scope.space = null;\n        $scope.spaceManager = SpacesManager;\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.loaded = false;\n        $scope.editSummary = false;\n\n        // Updates the page title.\n        function updateTitle() {\n            $rootScope.title = $scope.space.name;\n        }\n\n        // Called when the space has been loaded.\n        function spaceLoaded(space) {\n            $scope.space = space;\n            updateTitle();\n            $scope.predicate = \"[subnet_name, vlan_name]\";\n            $scope.$watch(\"subnets\", updateSubnets, true);\n            updateSubnets();\n            $scope.loaded = true;\n        }\n\n        // Generate a table that can easily be rendered in the view.\n        function updateSubnets() {\n            var rows = [];\n            angular.forEach($filter('filter')(\n                    $scope.subnets, {space:$scope.space.id}, true),\n                    function(subnet) {\n                var vlan = VLANsManager.getItemFromList(subnet.vlan);\n                var fabric = FabricsManager.getItemFromList(vlan.fabric);\n                var row = {\n                    vlan: vlan,\n                    vlan_name: VLANsManager.getName(vlan),\n                    subnet: subnet,\n                    subnet_name: SubnetsManager.getName(subnet),\n                    fabric: fabric,\n                    fabric_name: fabric.name\n                };\n                rows.push(row);\n            });\n            $scope.rows = rows;\n        }\n\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Called when the \"edit\" button is cliked in the space summary\n        $scope.enterEditSummary = function() {\n            $scope.editSummary = true;\n        };\n\n        // Called when the \"cancel\" button is cliked in the space summary\n        $scope.exitEditSummary = function() {\n            $scope.editSummary = false;\n        };\n\n        // Return true if this is the default Space\n        $scope.isDefaultSpace = function() {\n            if(!angular.isObject($scope.space)) {\n                return false;\n            }\n            return $scope.space.id === 0;\n        };\n\n        // Called to check if the space can be deleted.\n        $scope.canBeDeleted = function() {\n            if(angular.isObject($scope.space)) {\n                return $scope.space.subnet_ids.length === 0;\n            }\n            return false;\n        };\n\n        // Called when the delete space button is pressed.\n        $scope.deleteButton = function() {\n            $scope.error = null;\n            $scope.confirmingDelete = true;\n        };\n\n        // Called when the cancel delete space button is pressed.\n        $scope.cancelDeleteButton = function() {\n            $scope.confirmingDelete = false;\n        };\n\n        // Called when the confirm delete space button is pressed.\n        $scope.deleteConfirmButton = function() {\n            SpacesManager.deleteSpace($scope.space).then(function() {\n                $scope.confirmingDelete = false;\n                $location.path(\"/networks\");\n                $location.search('by', 'space');\n            }, function(error) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(error);\n            });\n        };\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers($scope, [\n            SpacesManager, SubnetsManager, VLANsManager, FabricsManager,\n            UsersManager]).then(function() {\n            // Possibly redirected from another controller that already had\n            // this space set to active. Only call setActiveItem if not\n            // already the activeItem.\n            var activeSpace = SpacesManager.getActiveItem();\n            var requestedSpace = parseInt($routeParams.space_id, 10);\n            if(isNaN(requestedSpace)) {\n                ErrorService.raiseError(\"Invalid space identifier.\");\n            } else if(angular.isObject(activeSpace) &&\n                activeSpace.id === requestedSpace) {\n                spaceLoaded(activeSpace);\n            } else {\n                SpacesManager.setActiveItem(\n                    requestedSpace).then(function(space) {\n                        spaceLoaded(space);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Subnet Details Controller\n */\n\nangular.module('MAAS').filter('filterSource', ['ValidationService',\n    function() {\n        return function(subnets, source) {\n            var filtered = [];\n            angular.forEach(subnets, function(subnet) {\n                if(subnet.id !== source.id &&\n                    subnet.version === source.version) {\n                    filtered.push(subnet);\n                }\n            });\n            return filtered;\n        };\n    }]);\n\nangular.module('MAAS').controller('SubnetDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', '$location',\n    'ConfigsManager', 'SubnetsManager', 'SpacesManager', 'VLANsManager',\n    'UsersManager', 'FabricsManager', 'StaticRoutesManager',\n    'ManagerHelperService', 'ErrorService', 'ConverterService',\n    function(\n        $scope, $rootScope, $routeParams, $filter, $location, ConfigsManager,\n        SubnetsManager, SpacesManager, VLANsManager, UsersManager,\n        FabricsManager, StaticRoutesManager, ManagerHelperService, ErrorService,\n        ConverterService) {\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Note: this value must match the top-level tab, in order for\n        // highlighting to occur properly.\n        $rootScope.page = \"networks\";\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.subnet = null;\n        $scope.editSummary = false;\n        $scope.active_discovery_data = null;\n        $scope.active_discovery_interval = null;\n        $scope.subnets = SubnetsManager.getItems();\n        $scope.subnetManager = SubnetsManager;\n        $scope.staticRoutes = StaticRoutesManager.getItems();\n        $scope.staticRoutesManager = StaticRoutesManager;\n        $scope.space = null;\n        $scope.vlans = VLANsManager.getItems();\n        $scope.fabrics = FabricsManager.getItems();\n        $scope.actionError = null;\n        $scope.actionOption = null;\n        $scope.actionOptions = [];\n        $scope.reverse = false;\n        $scope.newStaticRoute = null;\n        $scope.editStaticRoute = null;\n        $scope.deleteStaticRoute = null;\n\n        $scope.MAP_SUBNET_ACTION = {\n            name: \"map_subnet\",\n            title: \"Map subnet\"\n        };\n        $scope.DELETE_ACTION = {\n            name: \"delete\",\n            title: \"Delete\"\n        };\n\n        // Alloc type mapping.\n        var ALLOC_TYPES = {\n            0: 'Automatic',\n            1: 'Static',\n            4: 'User reserved',\n            5: 'DHCP',\n            6: 'Observed'\n        };\n\n        // Node type mapping.\n        var NODE_TYPES = {\n            0: 'Machine',\n            1: 'Device',\n            2: 'Rack controller',\n            3: 'Region controller',\n            4: 'Rack and region controller',\n            5: 'Chassis',\n            6: 'Storage'\n        };\n\n        // Updates the page title.\n        function updateTitle() {\n            subnet = $scope.subnet;\n            if(subnet && subnet.cidr) {\n                $rootScope.title = subnet.cidr;\n                if(subnet.name && subnet.cidr !== subnet.name) {\n                    $rootScope.title += \" (\" +subnet.name + \")\";\n                }\n            }\n        }\n\n        // Update the IP version of the CIDR.\n        function updateIPVersion() {\n            var ip = $scope.subnet.cidr.split('/')[0];\n            if(ip.indexOf(':') === -1) {\n                $scope.ipVersion = 4;\n            } else {\n                $scope.ipVersion = 6;\n            }\n        }\n\n        // Sort for IP address.\n        $scope.ipSort = function(ipAddress) {\n            if($scope.ipVersion === 4) {\n                return ConverterService.ipv4ToInteger(ipAddress.ip);\n            } else {\n                return ConverterService.ipv6Expand(ipAddress.ip);\n            }\n        };\n\n        // Set default predicate to the ipSort function.\n        $scope.predicate = $scope.ipSort;\n\n        // Return the name of the allocation type.\n        $scope.getAllocType = function(allocType) {\n            var str = ALLOC_TYPES[allocType];\n            if(angular.isString(str)) {\n                return str;\n            } else {\n                return \"Unknown\";\n            }\n        };\n\n        $scope.getSubnetCIDR = function(destId) {\n            return SubnetsManager.getItemFromList(destId).cidr;\n        };\n\n        // Sort based on the name of the allocation type.\n        $scope.allocTypeSort = function(ipAddress) {\n            return $scope.getAllocType(ipAddress.alloc_type);\n        };\n\n        // Return the name of the node type for the given IP.\n        $scope.getUsageForIP = function(ip) {\n            if(angular.isObject(ip.node_summary)) {\n                var isContainer = ip.node_summary.is_container;\n                var nodeType = ip.node_summary.node_type;\n                if(nodeType === 1 && isContainer === true) {\n                    return \"Container\";\n                }\n                var str = NODE_TYPES[nodeType];\n                if(angular.isString(str)) {\n                    return str;\n                } else {\n                    return \"Unknown\";\n                }\n            } else if(angular.isObject(ip.bmcs)) {\n                return \"BMC\";\n            } else if(angular.isObject(ip.dns_records)) {\n                return \"DNS\";\n            } else {\n                return \"Unknown\";\n            }\n        };\n\n        // Sort based on the node type string.\n        $scope.nodeTypeSort = function(ipAddress) {\n            return $scope.getUsageForIP(ipAddress);\n        };\n\n        // Sort based on the owner name.\n        $scope.ownerSort = function(ipAddress) {\n            var owner = ipAddress.user;\n            if(angular.isString(owner) && owner.length > 0) {\n                return owner;\n            } else {\n                return \"MAAS\";\n            }\n        };\n\n        // Called to change the sort order of the IP table.\n        $scope.sortIPTable = function(predicate) {\n            $scope.predicate = predicate;\n            $scope.reverse = !$scope.reverse;\n        };\n\n        // Return the name of the VLAN.\n        $scope.getVLANName = function(vlan) {\n           return VLANsManager.getName(vlan);\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        $scope.actionRetry = function() {\n            // When we clear actionError, the HTML will be re-rendered to\n            // hide the error message (and the user will be taken back to\n            // the previous action they were performing, since we reset\n            // the actionOption in the error handler.\n            $scope.actionError = null;\n        };\n\n        // Perform the action.\n        $scope.actionGo = function() {\n            if($scope.actionOption.name === \"map_subnet\") {\n                SubnetsManager.scanSubnet($scope.subnet).then(function(result) {\n                    if(result && result.scan_started_on.length === 0) {\n                        $scope.actionError =\n                            ManagerHelperService.parseValidationError(\n                                result.result);\n                    } else {\n                        $scope.actionOption = null;\n                        $scope.actionError = null;\n                    }\n                }, function(error) {\n                    $scope.actionError =\n                        ManagerHelperService.parseValidationError(error);\n                });\n            } else if($scope.actionOption.name === \"delete\") {\n                SubnetsManager.deleteSubnet(\n                    $scope.subnet).then(function(result) {\n                        $scope.actionOption = null;\n                        $scope.actionError = null;\n                        $location.path(\"/networks\");\n                    }, function(error) {\n                        $scope.actionError =\n                            ManagerHelperService.parseValidationError(error);\n                });\n            }\n        };\n\n        // Called when a action is selected.\n        $scope.actionChanged = function() {\n            $scope.actionError = null;\n        };\n\n        // Called when the \"Cancel\" button is pressed.\n        $scope.cancelAction = function() {\n            $scope.actionOption = null;\n            $scope.actionError = null;\n        };\n\n        // Called when the managers load to populate the actions the user\n        // is allowed to perform.\n        $scope.updateActions = function() {\n            if(UsersManager.isSuperUser()) {\n                $scope.actionOptions = [\n                    $scope.MAP_SUBNET_ACTION,\n                    $scope.DELETE_ACTION\n                ];\n            } else {\n                $scope.actionOptions = [];\n            }\n        };\n\n        // Called when the \"edit\" button is cliked in the subnet summary\n        $scope.enterEditSummary = function() {\n            $scope.editSummary = true;\n        };\n\n        // Called when the \"cancel\" button is cliked in the subnet summary\n        $scope.exitEditSummary = function() {\n            $scope.editSummary = false;\n        };\n\n        // Called by maas-obj-form before it saves the subnet. The passed\n        // subnet is the object right before its sent over the websocket.\n        $scope.subnetPreSave = function(subnet, changedFields) {\n            // Adjust the subnet object if the fabric changed.\n            if(changedFields.indexOf(\"fabric\") !== -1) {\n                // Fabric changed, the websocket expects VLAN to be updated, so\n                // we set the VLAN to the default VLAN for the new fabric.\n                subnet.vlan = FabricsManager.getItemFromList(\n                    subnet.fabric).default_vlan_id;\n            }\n            return subnet;\n        };\n\n        // Called to start adding a new static route.\n        $scope.addStaticRoute = function() {\n            $scope.editStaticRoute = null;\n            $scope.deleteStaticRoute = null;\n            $scope.newStaticRoute = {\n                source: $scope.subnet.id,\n                gateway_ip: \"\",\n                destination: null,\n                metric: 0\n            };\n        };\n\n        // Cancel adding the new static route.\n        $scope.cancelAddStaticRoute = function() {\n            $scope.newStaticRoute = null;\n        };\n\n        // Return true if the static route is in edit mode.\n        $scope.isStaticRouteInEditMode = function(route) {\n            return $scope.editStaticRoute === route;\n        };\n\n        // Toggle edit mode for the static route.\n        $scope.staticRouteToggleEditMode = function(route) {\n            $scope.newStaticRoute = null;\n            $scope.deleteStaticRoute = null;\n            if($scope.isStaticRouteInEditMode(route)) {\n                $scope.editStaticRoute  = null;\n            } else {\n                $scope.editStaticRoute = route;\n            }\n        };\n\n        // Return true if the static route is in delete mode.\n        $scope.isStaticRouteInDeleteMode = function(route) {\n            return $scope.deleteStaticRoute === route;\n        };\n\n        // Enter delete mode for the static route.\n        $scope.staticRouteEnterDeleteMode = function(route) {\n            $scope.newStaticRoute = null;\n            $scope.editStaticRoute = null;\n            $scope.deleteStaticRoute = route;\n        };\n\n        // Exit delete mode for the statc route.\n        $scope.staticRouteCancelDelete = function() {\n            $scope.deleteStaticRoute = null;\n        };\n\n        // Perform the delete operation on the static route.\n        $scope.staticRouteConfirmDelete = function() {\n            StaticRoutesManager.deleteItem($scope.deleteStaticRoute).then(\n                function() {\n                    $scope.deleteStaticRoute = null;\n                });\n        };\n\n        // Called when the subnet has been loaded.\n        function subnetLoaded(subnet) {\n            $scope.subnet = subnet;\n            $scope.loaded = true;\n\n            updateTitle();\n\n            // Watch the vlan and fabric field so if its changed on the subnet\n            // we make sure that the fabric is updated. It is possible that\n            // fabric is removed from the subnet since it is injected from this\n            // controller, so when it is removed we add it back.\n            var updateFabric = function() {\n                $scope.subnet.fabric = (\n                    VLANsManager.getItemFromList($scope.subnet.vlan).fabric);\n                $scope.subnet.fabric_name = (\n                  FabricsManager.getItemFromList(subnet.fabric).name);\n            };\n            var updateSpace = function() {\n                $scope.space = (\n                    SpacesManager.getItemFromList($scope.subnet.space));\n            };\n            var updateVlan = function() {\n                var vlan = VLANsManager.getItemFromList($scope.subnet.vlan);\n                $scope.subnet.vlan_name = (\n                    VLANsManager.getName(vlan)\n                );\n            };\n\n            $scope.$watch(\"subnet.fabric\", updateFabric);\n            $scope.$watch(\"subnet.fabric_name\", updateFabric);\n            $scope.$watch(\"subnet.vlan\", updateFabric);\n            $scope.$watch(\"subnet.vlan_name\", updateVlan);\n            $scope.$watch(\"subnet.space\", updateSpace);\n            $scope.$watch(\"subnet.cidr\", updateIPVersion);\n        }\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers($scope, [\n            ConfigsManager, SubnetsManager, SpacesManager, VLANsManager,\n            UsersManager, FabricsManager, StaticRoutesManager\n        ]).then(function() {\n\n            $scope.updateActions();\n            $scope.active_discovery_data = ConfigsManager.getItemFromList(\n                \"active_discovery_interval\");\n            // Find active discovery interval\n            angular.forEach(\n                $scope.active_discovery_data.choices, function(choice) {\n                    if(choice[0] === $scope.active_discovery_data.value) {\n                        $scope.active_discovery_interval = choice[1];\n                    }\n                });\n\n            // Possibly redirected from another controller that already had\n            // this subnet set to active. Only call setActiveItem if not\n            // already the activeItem.\n            var activeSubnet = SubnetsManager.getActiveItem();\n            var requestedSubnet = parseInt($routeParams.subnet_id, 10);\n            if(isNaN(requestedSubnet)) {\n                ErrorService.raiseError(\"Invalid subnet identifier.\");\n            } else if(angular.isObject(activeSubnet) &&\n                activeSubnet.id === requestedSubnet) {\n                subnetLoaded(activeSubnet);\n            } else {\n                SubnetsManager.setActiveItem(\n                    requestedSubnet).then(function(subnet) {\n                        subnetLoaded(subnet);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS VLAN Details Controller\n */\n\nangular.module('MAAS').filter('ignoreSelf', function () {\n    return function(objects, self) {\n        var filtered = [];\n        angular.forEach(objects, function(obj) {\n            if(obj !== self) {\n                filtered.push(obj);\n            }\n        });\n        return filtered;\n    };\n});\n\nangular.module('MAAS').controller('VLANDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', '$location',\n    'VLANsManager', 'SubnetsManager', 'SpacesManager', 'FabricsManager',\n    'ControllersManager', 'UsersManager', 'ManagerHelperService',\n    'ErrorService', 'ValidationService', function(\n        $scope, $rootScope, $routeParams, $filter, $location,\n        VLANsManager, SubnetsManager, SpacesManager, FabricsManager,\n        ControllersManager, UsersManager, ManagerHelperService, ErrorService,\n        ValidationService) {\n        var vm = this;\n\n        var filterByVLAN = $filter('filterByVLAN');\n        var filterControllersByVLAN = $filter('filterControllersByVLAN');\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Note: this value must match the top-level tab, in order for\n        // highlighting to occur properly.\n        $rootScope.page = \"networks\";\n\n        vm.PROVIDE_DHCP_ACTION = {\n            // Note: 'title' is set dynamically depending on whether or not\n            // DHCP is already enabled on this VLAN.\n            name: \"enable_dhcp\"\n        };\n        vm.RELAY_DHCP_ACTION = {\n            // Note: 'title' is set ndynamically depending on whether or not\n            // DHCP relay is already enabled on this VLAN.\n            name: \"relay_dhcp\"\n        };\n        vm.DISABLE_DHCP_ACTION = {\n            name: \"disable_dhcp\",\n            title: \"Disable DHCP\"\n        };\n        vm.DELETE_ACTION = {\n            name: \"delete\",\n            title: \"Delete\"\n        };\n\n        // Initial values.\n        vm.loaded = false;\n        vm.vlan = null;\n        vm.title = null;\n        vm.actionOption = null;\n        vm.actionOptions = [];\n        vm.vlanManager = VLANsManager;\n        vm.vlans = VLANsManager.getItems();\n        vm.subnets = SubnetsManager.getItems();\n        vm.spaces = SpacesManager.getItems();\n        vm.fabrics = FabricsManager.getItems();\n        vm.controllers = ControllersManager.getItems();\n        vm.actionError = null;\n        vm.relatedSubnets = [];\n        vm.relatedControllers = [];\n        vm.provideDHCPAction = {};\n        vm.primaryRack = null;\n        vm.secondaryRack = null;\n        vm.editSummary = false;\n\n\n        // Return true if the authenticated user is super user.\n        vm.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Called when the \"edit\" button is cliked in the vlan summary\n        vm.enterEditSummary = function() {\n            vm.editSummary = true;\n        };\n\n        // Called when the \"cancel\" button is cliked in the vlan summary\n        vm.exitEditSummary = function() {\n            vm.editSummary = false;\n        };\n\n        // Get the space name for the VLAN.\n        vm.getSpaceName = function() {\n            var space = SpacesManager.getItemFromList(vm.vlan.space);\n            if(space) {\n              return space.name;\n            } else {\n              return \"(undefined)\";\n            }\n        };\n\n        // Get the aciton structure for the action with the specified name.\n        vm.getActionByName = function(name) {\n            var i;\n            for(i = 0 ; i < vm.actionOptions.length ; i++) {\n                if(vm.actionOptions[i].name === name) {\n                    return vm.actionOptions[i];\n                }\n            }\n            return null;\n        };\n\n        // Initialize the provideDHCPAction structure with the current primary\n        // and secondary rack, plus an indication regarding whether or not\n        // adding a dynamic IP range is required.\n        vm.initProvideDHCP = function(forRelay) {\n            vm.provideDHCPAction = {};\n            var dhcp = vm.provideDHCPAction;\n            dhcp.subnet = null;\n            dhcp.relayVLAN = null;\n            if (angular.isNumber(vm.vlan.relay_vlan)) {\n                dhcp.relayVLAN = VLANsManager.getItemFromList(\n                    vm.vlan.relay_vlan);\n            }\n            if (angular.isObject(vm.primaryRack)) {\n                dhcp.primaryRack = vm.primaryRack.system_id;\n            } else if(vm.relatedControllers.length > 0) {\n                // Select the primary controller arbitrarily by default.\n                dhcp.primaryRack = vm.relatedControllers[0].system_id;\n            }\n            if (angular.isObject(vm.secondaryRack)) {\n                dhcp.secondaryRack = vm.secondaryRack.system_id;\n            } else if(vm.relatedControllers.length > 1) {\n                // Select the secondary controller arbitrarily by default.\n                dhcp.secondaryRack = vm.relatedControllers[1].system_id;\n            }\n            dhcp.maxIPs = 0;\n            dhcp.startIP = null;\n            dhcp.endIP = null;\n            dhcp.gatewayIP = \"\";\n            if (angular.isObject(vm.relatedSubnets)) {\n                // Select a subnet arbitrarily by default.\n                if (vm.relatedSubnets.length > 0 &&\n                        angular.isObject(vm.relatedSubnets[0].subnet)) {\n                    dhcp.subnet = vm.relatedSubnets[0].subnet.id;\n                }\n                dhcp.needsDynamicRange = true;\n                var i, subnet;\n                for (i = 0; i < vm.relatedSubnets.length; i++) {\n                    subnet = vm.relatedSubnets[i].subnet;\n                    // If any related subnet already has a dynamic range, we\n                    // cannot prompt the user to enter one here. If a\n                    // suggestion does not exist, a range does not exist\n                    // already.\n                    var iprange = subnet.statistics.suggested_dynamic_range;\n                    if (!angular.isObject(iprange)) {\n                        // If there is already a dynamic range on one of the\n                        // subnets, it's the \"subnet of least surprise\" if\n                        // the user is choosing to reconfigure their rack\n                        // controllers. (if they want DHCP on *another* subnet,\n                        // they should need to be explicit about it.)\n                        dhcp.subnet = subnet.id;\n                        dhcp.needsDynamicRange = false;\n                        break;\n                    }\n                }\n                // We must prompt the user for a subnet and a gateway IP\n                // address if any subnet does not yet contain a gateway IP\n                // address.\n                dhcp.needsGatewayIP = false;\n                dhcp.subnetMissingGatewayIP = true;\n                for (i = 0; i < vm.relatedSubnets.length; i++) {\n                    subnet = vm.relatedSubnets[i].subnet;\n                    if(subnet.gateway_ip === null ||\n                        subnet.gateway_ip === '') {\n                        dhcp.needsGatewayIP = true;\n                        break;\n                    }\n                }\n            }\n            // Since we are setting default values for these three options,\n            // ensure all the appropriate updates occur.\n            if(!forRelay) {\n                vm.updatePrimaryRack();\n                vm.updateSecondaryRack();\n            }\n            vm.updateSubnet(forRelay);\n        };\n\n        // Called when the actionOption has changed.\n        vm.actionOptionChanged = function() {\n            if(vm.actionOption.name === \"enable_dhcp\") {\n                vm.initProvideDHCP(false);\n            } else if(vm.actionOption.name === \"relay_dhcp\") {\n                vm.initProvideDHCP(true);\n            }\n            // Clear the action error.\n            vm.actionError = null;\n        };\n\n        // Cancel the action.\n        vm.actionCancel = function() {\n            // When the user wants to cancel an action, we need to clear out\n            // both the actionOption (so that the action screen will not be\n            // presented again) and the actionError (so that the error screen\n            // is hidden).\n            vm.actionOption = null;\n            vm.actionError = null;\n        };\n\n        // Called from the Provide DHCP form when the primary rack changes.\n        vm.updatePrimaryRack = function() {\n            var dhcp = vm.provideDHCPAction;\n            // If the user selects the secondary controller to be the primary,\n            // then the primary controller needs to be cleared out.\n            if(dhcp.primaryRack === dhcp.secondaryRack) {\n                dhcp.secondaryRack = null;\n            }\n            var i;\n            for(i = 0 ; i < vm.relatedControllers.length ; i++) {\n                if(vm.relatedControllers[i].system_id !== dhcp.primaryRack) {\n                    dhcp.secondaryRack = vm.relatedControllers[i].system_id;\n                    break;\n                }\n            }\n        };\n\n        // Called from the Provide DHCP form when the secondary rack changes.\n        vm.updateSecondaryRack = function() {\n            var dhcp = vm.provideDHCPAction;\n            // This should no longer be possible due to the filters on the\n            // drop-down boxes, but just in case.\n            if(dhcp.primaryRack === dhcp.secondaryRack) {\n                dhcp.primaryRack = null;\n                dhcp.secondaryRack = null;\n            }\n        };\n\n        // Called from the view to exclude the primary rack when selecting\n        // the secondary rack controller.\n        vm.filterPrimaryRack = function(rack) {\n            var dhcp = vm.provideDHCPAction;\n            return rack.system_id !== dhcp.primaryRack;\n        };\n\n        // Called from the Provide DHCP form when the subnet selection changes.\n        vm.updateSubnet = function(forRelay) {\n            var dhcp = vm.provideDHCPAction;\n            var subnet = SubnetsManager.getItemFromList(dhcp.subnet);\n            if(angular.isObject(subnet)) {\n                var suggested_gateway = null;\n                var iprange = null;\n                if(angular.isObject(subnet.statistics)) {\n                    suggested_gateway = subnet.statistics.suggested_gateway;\n                    iprange = subnet.statistics.suggested_dynamic_range;\n                }\n                if(angular.isObject(iprange) && iprange.num_addresses > 0) {\n                    dhcp.maxIPs = iprange.num_addresses;\n                    if(forRelay) {\n                        dhcp.startIP = \"\";\n                        dhcp.endIP = \"\";\n                        dhcp.startPlaceholder = iprange.start + \"(optional)\";\n                        dhcp.endPlaceholder = iprange.end + \" (optional)\";\n                    } else {\n                        dhcp.startIP = iprange.start;\n                        dhcp.endIP = iprange.end;\n                        dhcp.startPlaceholder = iprange.start;\n                        dhcp.endPlaceholder = iprange.end;\n                    }\n                } else {\n                    // Need to add a dynamic range, but according to our data,\n                    // there is no room on the subnet for a dynamic range.\n                    dhcp.maxIPs = 0;\n                    dhcp.startIP = \"\";\n                    dhcp.endIP = \"\";\n                    dhcp.startPlaceholder = \"(no available IPs)\";\n                    dhcp.endPlaceholder = \"(no available IPs)\";\n                }\n                if(angular.isString(suggested_gateway)) {\n                    if(forRelay) {\n                      dhcp.gatewayIP = \"\";\n                      dhcp.gatewayPlaceholder = (\n                          suggested_gateway + \" (optional)\");\n                    } else {\n                        dhcp.gatewayIP = suggested_gateway;\n                        dhcp.gatewayPlaceholder = suggested_gateway;\n                    }\n                } else {\n                    // This means the subnet already has a gateway, so don't\n                    // bother populating it.\n                    dhcp.gatewayIP = \"\";\n                    dhcp.gatewayPlaceholder = \"\";\n                }\n            } else {\n                // Don't need to add a dynamic range, so ensure these fields\n                // are cleared out.\n                dhcp.maxIPs = 0;\n                dhcp.startIP = null;\n                dhcp.endIP = null;\n                dhcp.gatewayIP = \"\";\n            }\n            if(angular.isObject(subnet)) {\n                dhcp.subnetMissingGatewayIP = !angular.isString(\n                    subnet.gateway_ip);\n            } else {\n                dhcp.subnetMissingGatewayIP = false;\n            }\n            if(dhcp.subnetMissingGatewayIP === false) {\n                dhcp.gatewayIP = null;\n            }\n       };\n\n        vm.actionRetry = function() {\n            // When we clear actionError, the HTML will be re-rendered to\n            // hide the error message (and the user will be taken back to\n            // the previous action they were performing, since we reset\n            // the actionOption in the error handler.\n            vm.actionError = null;\n        };\n\n        // Return True if the current action can be performed.\n        vm.canPerformAction = function() {\n            if(vm.actionOption.name === \"enable_dhcp\") {\n                return vm.relatedSubnets.length > 0;\n            } else if(vm.actionOption.name === \"relay_dhcp\") {\n                return angular.isObject(vm.provideDHCPAction.relayVLAN);\n            } else {\n                return true;\n            }\n        };\n\n        // Perform the action.\n        vm.actionGo = function() {\n            // Do nothing if action cannot be performed.\n            if(!vm.canPerformAction()) {\n               return;\n            }\n\n            if(vm.actionOption.name === \"enable_dhcp\") {\n                var dhcp = vm.provideDHCPAction;\n                var controllers = [];\n                // These will be undefined if they don't exist, and the region\n                // will simply get an empty dictionary.\n                var extra = {};\n                extra.subnet = dhcp.subnet;\n                extra.start = dhcp.startIP;\n                extra.end = dhcp.endIP;\n                extra.gateway = dhcp.gatewayIP;\n                if(angular.isString(dhcp.primaryRack)) {\n                    controllers.push(dhcp.primaryRack);\n                }\n                if(angular.isString(dhcp.secondaryRack)) {\n                    controllers.push(dhcp.secondaryRack);\n                }\n                // Abort the action without calling down to the region if\n                // the user didn't select a controller.\n                if(controllers.length === 0) {\n                    vm.actionError =\n                        \"A primary rack controller must be specified.\";\n                    return;\n                }\n                VLANsManager.configureDHCP(\n                    vm.vlan, controllers, extra).then(function() {\n                        vm.actionOption = null;\n                        vm.actionError = null;\n                    }, function(result) {\n                        vm.actionError = result.error;\n                        vm.actionOption = vm.PROVIDE_DHCP_ACTION;\n                    });\n            } else if(vm.actionOption.name === \"relay_dhcp\") {\n                // These will be undefined if they don't exist, and the region\n                // will simply get an empty dictionary.\n                var extraDHCP = {};\n                extraDHCP.subnet = vm.provideDHCPAction.subnet;\n                extraDHCP.start = vm.provideDHCPAction.startIP;\n                extraDHCP.end = vm.provideDHCPAction.endIP;\n                extraDHCP.gateway = vm.provideDHCPAction.gatewayIP;\n                var relay = vm.provideDHCPAction.relayVLAN.id;\n                VLANsManager.configureDHCP(\n                    vm.vlan, [], extraDHCP, relay).then(function() {\n                        vm.actionOption = null;\n                        vm.actionError = null;\n                    }, function(result) {\n                        vm.actionError = result.error;\n                        vm.actionOption = vm.RELAY_DHCP_ACTION;\n                    });\n            } else if(vm.actionOption.name === \"disable_dhcp\") {\n                VLANsManager.disableDHCP(vm.vlan).then(function() {\n                    vm.actionOption = null;\n                    vm.actionError = null;\n                }, function(result) {\n                    vm.actionError = result.error;\n                    vm.actionOption = vm.DISABLE_DHCP_ACTION;\n                });\n            } else if(vm.actionOption.name === \"delete\") {\n                VLANsManager.deleteVLAN(vm.vlan).then(function() {\n                    $location.path(\"/networks\");\n                    vm.actionOption = null;\n                    vm.actionError = null;\n                }, function(result) {\n                    vm.actionError = result.error;\n                    vm.actionOption = vm.DELETE_ACTION;\n                });\n            }\n        };\n\n        // Return true if there is an action error.\n        vm.isActionError = function() {\n            return vm.actionError !== null;\n        };\n\n        // Return the name of the VLAN.\n        vm.getFullVLANName = function(vlan_id) {\n            var vlan = VLANsManager.getItemFromList(vlan_id);\n            var fabric = FabricsManager.getItemFromList(vlan.fabric);\n            return (\n                FabricsManager.getName(fabric) + \".\" +\n                VLANsManager.getName(vlan));\n        };\n\n        // Return the current DHCP status.\n        vm.getDHCPStatus = function() {\n            if(vm.vlan) {\n              if(vm.vlan.dhcp_on) {\n                return \"Enabled\";\n              } else if(vm.vlan.relay_vlan) {\n                return \"Relayed via \" + vm.getFullVLANName(vm.vlan.relay_vlan);\n              } else {\n                return \"Disabled\";\n              }\n            } else {\n              return \"\";\n            }\n        };\n\n        // Updates the page title.\n        function updateTitle() {\n            var vlan = vm.vlan;\n            var fabric = vm.fabric;\n            if(angular.isObject(vlan) && angular.isObject(fabric)) {\n                if (!vlan.name) {\n                    if(vlan.vid === 0) {\n                        vm.title = \"Default VLAN\";\n                    } else {\n                        vm.title = \"VLAN \" + vlan.vid;\n                    }\n                } else {\n                    vm.title = vlan.name;\n                }\n                vm.title += \" in \" + fabric.name;\n                $rootScope.title = vm.title;\n            }\n        }\n\n        // Called from a $watch when the management racks are updated.\n        function updateManagementRacks() {\n            var vlan = vm.vlan;\n            if(!angular.isObject(vlan)) {\n                return;\n            }\n            if(vlan.primary_rack) {\n                vm.primaryRack = ControllersManager.getItemFromList(\n                    vlan.primary_rack);\n            } else {\n                vm.primaryRack = null;\n            }\n            if(vlan.secondary_rack) {\n                vm.secondaryRack = ControllersManager.getItemFromList(\n                    vlan.secondary_rack);\n            } else {\n                vm.secondaryRack = null;\n            }\n        }\n\n        // Called from a $watch when the related controllers may have changed.\n        function updateRelatedControllers() {\n            var vlan = vm.vlan;\n            if(!angular.isObject(vlan)) {\n                return;\n            }\n            var racks = [];\n            angular.forEach(vlan.rack_sids, function(rack_sid) {\n                var rack = ControllersManager.getItemFromList(rack_sid);\n                if(angular.isObject(rack)) {\n                    racks.push(rack);\n                }\n            });\n            vm.relatedControllers = racks;\n        }\n\n        // Called from a $watch when the related subnets or spaces may have\n        // changed.\n        function updateRelatedSubnets() {\n            var vlan = vm.vlan;\n            if(!angular.isObject(vlan)) {\n                return;\n            }\n            var subnets = [];\n            angular.forEach(\n                    filterByVLAN(vm.subnets, vlan), function(subnet) {\n                var space = SpacesManager.getItemFromList(subnet.space);\n                if(!angular.isObject(space)) {\n                    space = {name: \"(undefined)\"};\n                }\n                var row = {\n                    subnet: subnet,\n                    space: space\n                };\n                subnets.push(row);\n            });\n            vm.relatedSubnets = subnets;\n        }\n\n        function updatePossibleActions() {\n            var vlan = vm.vlan;\n            if(!angular.isObject(vlan)) {\n                return;\n            }\n            // Clear out the actionOptions array. (this needs to be the same\n            // object, since it's watched from $scope.)\n            vm.actionOptions.length = 0;\n            if(UsersManager.isSuperUser()) {\n                if(!vlan.relay_vlan) {\n                  if(vlan.dhcp_on === true) {\n                      vm.PROVIDE_DHCP_ACTION.title = \"Reconfigure DHCP\";\n                      vm.actionOptions.push(vm.PROVIDE_DHCP_ACTION);\n                      vm.actionOptions.push(vm.DISABLE_DHCP_ACTION);\n                  } else {\n                      vm.PROVIDE_DHCP_ACTION.title = \"Provide DHCP\";\n                      vm.RELAY_DHCP_ACTION.title = \"Relay DHCP\";\n                      vm.actionOptions.push(vm.PROVIDE_DHCP_ACTION);\n                      vm.actionOptions.push(vm.RELAY_DHCP_ACTION);\n                  }\n                } else {\n                  vm.actionOptions.push(vm.RELAY_DHCP_ACTION);\n                  vm.actionOptions.push(vm.DISABLE_DHCP_ACTION);\n                  vm.RELAY_DHCP_ACTION.title = \"Reconfigure DHCP relay\";\n                }\n                if(!vm.isFabricDefault) {\n                    vm.actionOptions.push(vm.DELETE_ACTION);\n                }\n            }\n        }\n\n        // Called when the vlan has been loaded.\n        function vlanLoaded(vlan) {\n            vm.vlan = vlan;\n            vm.fabric = FabricsManager.getItemFromList(vlan.fabric);\n            vm.isFabricDefault = vm.fabric.default_vlan_id === vm.vlan.id;\n            vm.loaded = true;\n\n            updateTitle();\n            updateManagementRacks();\n            updateRelatedControllers();\n            updateRelatedSubnets();\n            updatePossibleActions();\n        }\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers($scope, [\n            VLANsManager, SubnetsManager, SpacesManager, FabricsManager,\n            ControllersManager, UsersManager\n        ]).then(function() {\n            // Possibly redirected from another controller that already had\n            // this vlan set to active. Only call setActiveItem if not\n            // already the activeItem.\n            var activeVLAN = VLANsManager.getActiveItem();\n            var requestedVLAN = parseInt($routeParams.vlan_id, 10);\n            if(isNaN(requestedVLAN)) {\n                ErrorService.raiseError(\"Invalid VLAN identifier.\");\n            } else if(angular.isObject(activeVLAN) &&\n                activeVLAN.id === requestedVLAN) {\n                vlanLoaded(activeVLAN);\n            } else {\n                VLANsManager.setActiveItem(\n                    requestedVLAN).then(function(vlan) {\n                        vlanLoaded(vlan);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n\n            $scope.$watch(\"vlanDetails.vlan.name\", updateTitle);\n            $scope.$watch(\"vlanDetails.vlan.vid\", updateTitle);\n            $scope.$watch(\"vlanDetails.vlan.dhcp_on\", updatePossibleActions);\n            $scope.$watch(\n                \"vlanDetails.vlan.relay_vlan\", updatePossibleActions);\n            $scope.$watch(\"vlanDetails.fabric.name\", updateTitle);\n            $scope.$watch(\n                \"vlanDetails.vlan.primary_rack\", updateManagementRacks);\n            $scope.$watch(\n                \"vlanDetails.vlan.secondary_rack\", updateManagementRacks);\n\n            $scope.$watchCollection(\n                \"vlanDetails.subnets\", updateRelatedSubnets);\n            $scope.$watchCollection(\n                \"vlanDetails.spaces\", updateRelatedSubnets);\n            $scope.$watchCollection(\n                \"vlanDetails.controllers\", updateRelatedControllers);\n        });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Zone Details Controller\n */\n\nangular.module('MAAS').controller('ZoneDetailsController', [\n    '$scope', '$rootScope', '$routeParams', '$location', 'MachinesManager',\n    'DevicesManager', 'ZonesManager', 'UsersManager',\n    'ManagerHelperService', 'ErrorService',\n    function(\n        $scope, $rootScope, $routeParams, $location, MachinesManager,\n        DevicesManager, ZonesManager, UsersManager, ManagerHelperService,\n        ErrorService) {\n\n        // Set title and page.\n        $rootScope.title = \"Loading...\";\n\n        // Note: this value must match the top-level tab, in order for\n        // highlighting to occur properly.\n        $rootScope.page = \"zones\";\n\n        // Initial values.\n        $scope.loaded = false;\n        $scope.zone = null;\n        $scope.zoneManager = ZonesManager;\n        $scope.editSummary = false;\n        $scope.predicate = \"name\";\n        $scope.reverse = false;\n\n        // Updates the page title.\n        function updateTitle() {\n            $rootScope.title = $scope.zone.name;\n        }\n\n        // Called when the zone has been loaded.\n        function zoneLoaded(zone) {\n            $scope.zone = zone;\n            $scope.loaded = true;\n            updateTitle();\n        }\n\n\n        // Called when the \"edit\" button is cliked in the zone summary\n        $scope.enterEditSummary = function() {\n            $scope.editSummary = true;\n        };\n\n        // Called when the \"cancel\" button is cliked in the zone summary\n        $scope.exitEditSummary = function() {\n            $scope.editSummary = false;\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        // Return true if this is the default zone.\n        $scope.isDefaultZone = function() {\n            if(angular.isObject($scope.zone)) {\n                return $scope.zone.id === 1;\n            }\n            return false;\n        };\n\n        // Called to check if the zone can be deleted.\n        $scope.canBeDeleted = function() {\n            if(angular.isObject($scope.zone)) {\n                return $scope.zone.id !== 0;\n            }\n            return false;\n        };\n\n        // Called when the delete zone button is pressed.\n        $scope.deleteButton = function() {\n            $scope.error = null;\n            $scope.confirmingDelete = true;\n        };\n\n        // Called when the cancel delete zone button is pressed.\n        $scope.cancelDeleteButton = function() {\n            $scope.confirmingDelete = false;\n        };\n\n        // Called when the confirm delete space button is pressed.\n        $scope.deleteConfirmButton = function() {\n            ZonesManager.deleteItem($scope.zone).then(function() {\n                $scope.confirmingDelete = false;\n                $location.path(\"/zones\");\n            }, function(error) {\n                $scope.error =\n                    ManagerHelperService.parseValidationError(error);\n            });\n        };\n\n        // Load all the required managers.\n        ManagerHelperService.loadManagers(\n            $scope, [ZonesManager, UsersManager]).then(function() {\n            // Possibly redirected from another controller that already had\n            // this zone set to active. Only call setActiveItem if not\n            // already the activeItem.\n            var activeZone = ZonesManager.getActiveItem();\n            var requestedZone = parseInt($routeParams.zone_id, 10);\n            if(isNaN(requestedZone)) {\n                ErrorService.raiseError(\"Invalid zone identifier.\");\n            } else if(angular.isObject(activeZone) &&\n                activeZone.id === requestedZone) {\n                zoneLoaded(activeZone);\n            } else {\n                ZonesManager.setActiveItem(\n                    requestedZone).then(function(zone) {\n                        zoneLoaded(zone);\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n            }\n        });\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Zones List Controller\n */\n\nangular.module('MAAS').controller('ZonesListController', [\n    '$scope', '$rootScope', '$routeParams', '$filter', 'MachinesManager',\n    'DevicesManager', 'ControllersManager', 'ZonesManager', 'ServicesManager',\n    'UsersManager', 'ManagerHelperService', 'ErrorService',\n    function($scope, $rootScope, $routeParams, $filter, MachinesManager,\n        DevicesManager, ControllersManager, ZonesManager, ServicesManager,\n        UsersManager, ManagerHelperService, ErrorService) {\n\n        // Set title and page.\n        $rootScope.title = \"Zones\";\n        $rootScope.page = \"zones\";\n\n        // Set initial values.\n        $scope.zoneManager = ZonesManager;\n        $scope.zones = ZonesManager.getItems();\n        $scope.currentpage = \"zones\";\n        $scope.predicate = \"name\";\n        $scope.reverse = false;\n        $scope.loading = true;\n        $scope.action = {\n          open: false,\n          obj: {}\n        };\n\n        // Open add zone view.\n        $scope.addZone = function() {\n          $scope.action.open = true;\n        };\n\n        // Saving has completed.\n        $scope.closeZone = function() {\n          $scope.action.open = false;\n          $scope.action.obj = {};\n        };\n\n        // Return true if the authenticated user is super user.\n        $scope.isSuperUser = function() {\n            return UsersManager.isSuperUser();\n        };\n\n        ManagerHelperService.loadManagers(\n            $scope, [ZonesManager, UsersManager]).then(\n            function() {\n                $scope.loading = false;\n            });\n        }\n    ]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Accordion directive.\n *\n * Provides an accordion effect to an element with maas-accordion class and\n * all child elements with maas-accordion-tab. Only one accordion tab is open\n * at a time, selecting another accordion will set \"active\" on that\n * accordion tab.\n */\n\n\nangular.module('MAAS').directive('maasAccordion', function() {\n    return {\n        restrict: \"C\",\n        link: function(scope, element, attrs) {\n\n            // Called when accordion tabs are clicked. Removes active on\n            // all other tabs except to the tab that was clicked.\n            var clickHandler = function(evt) {\n                var tab = evt.data.tab;\n                angular.element(tab).toggleClass(\"is-selected\");\n            };\n\n            // Listen for the click event on all tabs in the accordion.\n            var tabs = element.find(\".maas-accordion-tab\");\n            angular.forEach(tabs, function(tab) {\n                tab = angular.element(tab);\n                tab.on(\"click\", {\n                    tab: tab\n                }, clickHandler);\n            });\n\n            // Remove the handlers when the scope is destroyed.\n            scope.$on(\"$destroy\", function() {\n                angular.forEach(tabs, function(tab) {\n                    angular.element(tab).off(\"click\", clickHandler);\n                });\n            });\n        }\n    };\n});\n","/* Copyright 2016-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Boot images directive.\n*/\n\nangular.module('MAAS').directive('maasBootImagesStatus', [\n    'BootResourcesManager',\n    function(BootResourcesManager) {\n        return {\n            restrict: \"E\",\n            scope: {},\n            template: [\n                '<p class=\"page-header__status\" ',\n                    'data-ng-if=\"data.region_import_running\">',\n                    '<span class=\"u-text--loading\">',\n                        '<i class=\"p-icon--loading u-animation--spin\"></i>',\n                        'Step 1/2: Region controller importing',\n                    '</span>',\n                '</p>',\n                '<p class=\"page-header__status\" ',\n                    'data-ng-if=\"!data.region_import_running && ',\n                    'data.rack_import_running\">',\n                    '<span class=\"u-text--loading\">',\n                        '<i class=\"p-icon--loading u-animation--spin\"></i>',\n                        'Step 2/2: Rack controller(s) importing',\n                    '</span>',\n                '</p>'\n            ].join(''),\n            controller: function($scope, $rootScope, $element, $document) {\n                // This controller doesn't start the polling. The\n                // `maasBootImages` controller should be used on the page to\n                // start the polling. This just presents a nice status spinner\n                // when the polling is enabled.\n                $scope.data = BootResourcesManager.getData();\n            }\n        };\n    }]);\n\nangular.module('MAAS').directive('maasBootImages', [\n    '$filter', 'BootResourcesManager', 'UsersManager', 'ManagerHelperService',\n    function($filter, BootResourcesManager,\n        UsersManager, ManagerHelperService) {\n        return {\n            restrict: \"E\",\n            scope: {\n                design: \"=?\"\n            },\n            templateUrl: (\n                'static/partials/boot-images.html?v=' + (\n                    MAAS_config.files_version)),\n            controller: function($scope, $rootScope, $element, $document) {\n                $scope.loading = true;\n                $scope.saving = false;\n                $scope.stopping = false;\n                $scope.design = $scope.design || 'page';\n                $scope.bootResources = BootResourcesManager.getData();\n                $scope.ubuntuImages = [];\n                $scope.source = {\n                    isNew: false,\n                    tooMany: false,\n                    showingAdvanced: false,\n                    connecting: false,\n                    errorMessage: \"\",\n                    source_type: 'maas.io',\n                    url: '',\n                    keyring_filename: '',\n                    keyring_data: '',\n                    releases: [],\n                    arches: [],\n                    selections: {\n                        changed: false,\n                        releases: [],\n                        arches: []\n                    }\n                };\n                $scope.ubuntuCoreImages = [];\n                $scope.ubuntu_core = {\n                    changed: false,\n                    images: []\n                };\n                $scope.otherImages = [];\n                $scope.other = {\n                    changed: false,\n                    images: []\n                };\n                $scope.generatedImages = [];\n                $scope.customImages = [];\n                $scope.ubuntuDeleteId = null;\n                $scope.removingImage = null;\n\n                // Return true if the authenticated user is super user.\n                $scope.isSuperUser = function() {\n                    return UsersManager.isSuperUser();\n                };\n\n                // Return the overall title icon.\n                $scope.getTitleIcon = function() {\n                    if($scope.bootResources.resources.length === 0) {\n                        return 'p-icon--success-muted';\n                    } else {\n                        return 'p-icon--success';\n                    }\n                };\n\n                // Return true if the mirror path section should be shown.\n                $scope.showMirrorPath = function() {\n                    if($scope.source.source_type === 'custom') {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                };\n\n                // Return true if the advanced options are shown.\n                $scope.isShowingAdvancedOptions = function() {\n                    return $scope.source.showingAdvanced;\n                };\n\n                // Toggle showing the advanced options.\n                $scope.toggleAdvancedOptions = function() {\n                    $scope.source.showingAdvanced = (\n                        !$scope.source.showingAdvanced);\n                };\n\n                // Return true if both keyring options are set.\n                $scope.bothKeyringOptionsSet = function() {\n                    return (\n                        $scope.source.keyring_filename.length > 0 &&\n                        $scope.source.keyring_data.length > 0);\n                };\n\n                // Return true when the connect button for the mirror path\n                // should be shown.\n                $scope.showConnectButton = function() {\n                    return $scope.source.isNew;\n                };\n\n                // Called when the source radio chanaged.\n                $scope.sourceChanged = function() {\n                    var currentSources = $scope.bootResources.ubuntu.sources;\n                    if(currentSources.length === 0) {\n                        $scope.source.isNew = true;\n                    } else {\n                        var prevNew = $scope.source.isNew;\n                        $scope.source.isNew = (\n                            $scope.source.source_type !==\n                            currentSources[0].source_type);\n                        if($scope.source.source_type === 'custom') {\n                            $scope.source.isNew = $scope.source.isNew || (\n                                $scope.source.url !==\n                                currentSources[0].url\n                            );\n                        }\n                        if(prevNew && !$scope.source.isNew) {\n                            // No longer a new source set url and keyring to\n                            // original.\n                            $scope.source.url = currentSources[0].url;\n                            $scope.source.keyring_filename = (\n                                currentSources[0].keyring_filename);\n                            $scope.source.keyring_data = (\n                                currentSources[0].keyring_data);\n                        }\n                        $scope.source.releases = [];\n                        $scope.source.arches = [];\n                        $scope.source.selections = {\n                            changed: false,\n                            releases: [],\n                            arches: []\n                        };\n                    }\n                    $scope.updateSource();\n                    $scope.regenerateUbuntuImages();\n\n                    // When the source is new and its maas.io automatically\n                    // fetch the source information.\n                    if($scope.source.isNew &&\n                        $scope.source.source_type === 'maas.io') {\n                        $scope.connect();\n                    }\n                };\n\n                // Return true when the connect button should be disabled.\n                $scope.isConnectButtonDisabled = function() {\n                    if($scope.source.source_type === 'maas.io') {\n                        return false;\n                    } else {\n                        return ($scope.bothKeyringOptionsSet() ||\n                            $scope.source.url.length === 0 ||\n                            $scope.source.connecting);\n                    }\n                };\n\n                // Return the source parameters.\n                $scope.getSourceParams = function() {\n                    if($scope.source.source_type === 'maas.io') {\n                        return {\n                            source_type: 'maas.io'\n                        };\n                    } else {\n                        return {\n                            source_type: $scope.source.source_type,\n                            url: $scope.source.url,\n                            keyring_filename: $scope.source.keyring_filename,\n                            keyring_data: $scope.source.keyring_data\n                        };\n                    }\n                };\n\n                // Select the default images that should be selected. Current\n                // defaults are '18.04 LTS' and 'amd64'.\n                $scope.selectDefaults = function() {\n                    angular.forEach($scope.source.releases, function(release) {\n                        if(release.name === \"bionic\") {\n                            $scope.source.selections.releases.push(release);\n                        }\n                    });\n                    angular.forEach($scope.source.arches, function(arch) {\n                        if(arch.name === \"amd64\") {\n                            $scope.source.selections.arches.push(arch);\n                        }\n                    });\n                };\n\n                // Connected to the simplestreams endpoint. This only gets the\n                // information from the endpoint it does not save it into the\n                // database.\n                $scope.connect = function() {\n                    if($scope.isConnectButtonDisabled()) {\n                        return;\n                    }\n\n                    var source = $scope.getSourceParams();\n                    $scope.source.connecting = true;\n                    $scope.source.releases = [];\n                    $scope.source.arches = [];\n                    $scope.source.selections.changed = true;\n                    $scope.source.selections.releases = [];\n                    $scope.source.selections.arches = [];\n                    $scope.regenerateUbuntuImages();\n                    BootResourcesManager.fetch(source).then(function(data) {\n                        $scope.source.connecting = false;\n                        data = angular.fromJson(data);\n                        $scope.source.releases = data.releases;\n                        $scope.source.arches = data.arches;\n                        $scope.selectDefaults();\n                        $scope.regenerateUbuntuImages();\n                    }, function(error) {\n                        $scope.source.connecting = false;\n                        $scope.source.errorMessage = error;\n                    });\n                };\n\n                // Return true if the connect block should be shown.\n                $scope.showConnectBlock = function() {\n                    return $scope.source.tooMany || (\n                        $scope.source.isNew && !$scope.showSelections());\n                };\n\n                // Return true if the release and architecture selection\n                // should be shown.\n                $scope.showSelections = function() {\n                    return (\n                        $scope.source.releases.length > 0 &&\n                        $scope.source.arches.length > 0);\n                };\n\n                // Return the Ubuntu LTS releases.\n                $scope.getUbuntuLTSReleases = function() {\n                    var releases = $scope.bootResources.ubuntu.releases;\n                    if($scope.source.isNew) {\n                        releases = $scope.source.releases;\n                    }\n                    var filtered = [];\n                    angular.forEach(releases, function(release) {\n                        if(!release.deleted &&\n                            release.title.indexOf('LTS') !== -1) {\n                            filtered.push(release);\n                        }\n                    });\n                    return filtered;\n                };\n\n                // Return the Ubuntu non-LTS releases.\n                $scope.getUbuntuNonLTSReleases = function() {\n                    var releases = $scope.bootResources.ubuntu.releases;\n                    if($scope.source.isNew) {\n                        releases = $scope.source.releases;\n                    }\n                    var filtered = [];\n                    angular.forEach(releases, function(release) {\n                        if(!release.deleted &&\n                            release.title.indexOf('LTS') === -1) {\n                            filtered.push(release);\n                        }\n                    });\n                    return filtered;\n                };\n\n                // Return the available architectures.\n                $scope.getArchitectures = function() {\n                    var arches = $scope.bootResources.ubuntu.arches;\n                    if($scope.source.isNew) {\n                        arches = $scope.source.arches;\n                    }\n                    var filtered = [];\n                    angular.forEach(arches, function(arch) {\n                        if(!arch.deleted) {\n                            filtered.push(arch);\n                        }\n                    });\n                    return filtered;\n                };\n\n                // Return true if the source has this selected.\n                $scope.isSelected = function(type, obj) {\n                    return $scope.source.selections[type].indexOf(obj) >= 0;\n                };\n\n                // Toggle the selection of the release or the architecture.\n                $scope.toggleSelection = function(type, obj) {\n                    var idx = $scope.source.selections[type].indexOf(obj);\n                    if(idx === -1) {\n                        $scope.source.selections[type].push(obj);\n                    } else {\n                        $scope.source.selections[type].splice(idx, 1);\n                    }\n                    $scope.source.selections.changed = true;\n                    $scope.regenerateUbuntuImages();\n                };\n\n                // Return true if the images table should be shown.\n                $scope.showImagesTable = function() {\n                    if($scope.ubuntuImages.length > 0) {\n                        return true;\n                    } else {\n                        // Show the images table source has\n                        // releases and architectures.\n                        return (\n                            $scope.source.arches.length > 0 &&\n                            $scope.source.releases.length > 0);\n                    }\n                };\n\n                // Regenerates the Ubuntu images list for the directive.\n                $scope.regenerateUbuntuImages = function() {\n                    var getResource = function() { return null; };\n                    var resources = $scope.bootResources.resources.filter(\n                        function(resource) {\n                            var name_split = resource.name.split('/');\n                            var resource_os = name_split[0];\n                            return (\n                                resource.rtype === 0 &&\n                                resource_os === 'ubuntu');\n                        });\n                    if(!$scope.source.isNew) {\n                        getResource = function(release, arch) {\n                            var i;\n                            for(i = 0; i < resources.length; i++) {\n                                // Only care about Ubuntu images.\n                                var resource = (resources[i]);\n                                var name_split = resource.name.split('/');\n                                var resource_release = name_split[1];\n                                if(resource_release === release &&\n                                    resource.arch === arch) {\n                                    resources.splice(i, 1);\n                                    return resource;\n                                }\n                            }\n                            return null;\n                        };\n                    }\n\n                    // Create the images based on the selections.\n                    $scope.ubuntuImages.length = 0;\n                    angular.forEach($scope.source.selections.releases,\n                        function(release) {\n                            angular.forEach($scope.source.selections.arches,\n                                function(arch) {\n                                    var image = {\n                                        icon: 'p-icon--status-queued',\n                                        title: release.title,\n                                        arch: arch.title,\n                                        size: '-',\n                                        status: 'Selected for download',\n                                        beingDeleted: false,\n                                        name: release.name\n                                    };\n                                    var resource = getResource(\n                                        release.name, arch.name);\n                                    if(angular.isObject(resource)) {\n                                        image.resourceId = resource.id;\n                                        image.icon = (\n                                            'p-icon--status-' + resource.icon);\n                                        image.size = resource.size;\n                                        image.status = resource.status;\n                                        if(resource.downloading) {\n                                            image.icon += ' u-animation--pulse';\n                                        }\n                                    }\n                                    $scope.ubuntuImages.push(image);\n                                });\n                        });\n\n                    // If not a new source and images remain in resources, then\n                    // those are set to be deleted.\n                    if(!$scope.source.isNew) {\n                        angular.forEach(resources, function(resource) {\n                            var name_split = resource.name.split('/');\n                            var image = {\n                                icon: 'p-icon--status-failed',\n                                title: resource.title,\n                                arch: resource.arch,\n                                size: resource.size,\n                                status: 'Will be deleted',\n                                beingDeleted: true,\n                                name: name_split[1]\n                            };\n                            $scope.ubuntuImages.push(image);\n                        });\n                    }\n                };\n\n                // Regenerates the Ubuntu Core images list for the directive.\n                $scope.regenerateUbuntuCoreImages = function() {\n                    var isUbuntuCore = function(resource) {\n                        var name_split = resource.name.split('/');\n                        var resource_os = name_split[0];\n                        return (\n                            resource.rtype === 0 &&\n                            resource_os === 'ubuntu-core');\n                    };\n                    var resources = (\n                        $scope.bootResources.resources.filter(isUbuntuCore));\n                    var getResource = function(release, arch) {\n                        var i;\n                        for(i = 0; i < resources.length; i++) {\n                            // Only care about other images. Removing custom,\n                            // bootloaders, and Ubuntu images.\n                            var resource = (resources[i]);\n                            var name_split = resource.name.split('/');\n                            var resource_release = name_split[1];\n                            if(resource_release === release &&\n                                resource.arch === arch) {\n                                resources.splice(i, 1);\n                                return resource;\n                            }\n                        }\n                        return null;\n                    };\n\n                    // Create the images based on the selections.\n                    $scope.ubuntuCoreImages.length = 0;\n                    angular.forEach($scope.ubuntu_core.images,\n                        function(ubuntuCoreImage) {\n                            if(ubuntuCoreImage.checked) {\n                                var name_split = ubuntuCoreImage.name.split(\n                                    '/');\n                                var image = {\n                                    icon: 'p-icon--status-queued',\n                                    title: ubuntuCoreImage.title,\n                                    arch: name_split[1],\n                                    size: '-',\n                                    status: 'Selected for download',\n                                    beingDeleted: false\n                                };\n                                var resource = getResource(\n                                    name_split[3], name_split[1]);\n                                if(angular.isObject(resource)) {\n                                    image.icon = (\n                                        'p-icon--status-' + resource.icon);\n                                    image.size = resource.size;\n                                    image.status = resource.status;\n                                    if(resource.downloading) {\n                                        image.icon += ' u-animation--pulse';\n                                    }\n                                }\n                                $scope.ubuntuCoreImages.push(image);\n                            }\n                        });\n\n                    // If not a new source and images remain in resources, then\n                    // those are set to be deleted.\n                    angular.forEach(resources, function(resource) {\n                        var image = {\n                            icon: 'p-icon--status-failed',\n                            title: resource.title,\n                            arch: resource.arch,\n                            size: resource.size,\n                            status: 'Will be deleted',\n                            beingDeleted: true\n                        };\n                        $scope.ubuntuCoreImages.push(image);\n                    });\n                };\n\n                // Regenerates the other images list for the directive.\n                $scope.regenerateOtherImages = function() {\n                    var isOther = function(resource) {\n                        var name_split = resource.name.split('/');\n                        var resource_os = name_split[0];\n                        return (\n                            resource.rtype === 0 &&\n                            resource_os !== 'ubuntu' &&\n                            resource_os !== 'ubuntu-core' &&\n                            resource_os !== 'custom');\n                    };\n                    var resources = (\n                        $scope.bootResources.resources.filter(isOther));\n                    var getResource = function(release, arch) {\n                        var i;\n                        for(i = 0; i < resources.length; i++) {\n                            // Only care about other images. Removing custom,\n                            // bootloaders, and Ubuntu images.\n                            var resource = (resources[i]);\n                            var name_split = resource.name.split('/');\n                            var resource_release = name_split[1];\n                            if(resource_release === release &&\n                                resource.arch === arch) {\n                                resources.splice(i, 1);\n                                return resource;\n                            }\n                        }\n                        return null;\n                    };\n\n                    // Create the images based on the selections.\n                    $scope.otherImages.length = 0;\n                    angular.forEach($scope.other.images,\n                        function(otherImage) {\n                            if(otherImage.checked) {\n                                var name_split = otherImage.name.split('/');\n                                var image = {\n                                    icon: 'p-icon--status-queued',\n                                    title: otherImage.title,\n                                    arch: name_split[1],\n                                    size: '-',\n                                    status: 'Selected for download',\n                                    beingDeleted: false\n                                };\n                                var resource = getResource(\n                                    name_split[3], name_split[1]);\n                                if(angular.isObject(resource)) {\n                                    image.icon = (\n                                        'p-icon--status-' + resource.icon);\n                                    image.size = resource.size;\n                                    image.status = resource.status;\n                                    if(resource.downloading) {\n                                        image.icon += ' u-animation--pulse';\n                                    }\n                                }\n                                $scope.otherImages.push(image);\n                            }\n                        });\n\n                    // If not a new source and images remain in resources, then\n                    // those are set to be deleted.\n                    angular.forEach(resources, function(resource) {\n                        var image = {\n                            icon: 'p-icon--status-failed',\n                            title: resource.title,\n                            arch: resource.arch,\n                            size: resource.size,\n                            status: 'Will be deleted',\n                            beingDeleted: true\n                        };\n                        $scope.otherImages.push(image);\n                    });\n                };\n\n                // Helper for basic image generation.\n                $scope._regenerateImages = function(rtype, images) {\n                    // Create the generated images list.\n                    images.length = 0;\n                    angular.forEach($scope.bootResources.resources,\n                        function(resource) {\n                            if(resource.rtype === rtype) {\n                                var image = {\n                                    icon: 'p-icon--status-' + resource.icon,\n                                    title: resource.title,\n                                    arch: resource.arch,\n                                    image_id: resource.id,\n                                    size: resource.size,\n                                    status: resource.status\n                                };\n                                if(resource.downloading) {\n                                    image.icon += ' u-animation--pulse';\n                                }\n                                images.push(image);\n                            }\n                        });\n                };\n\n                // Regenerates the generated images list for the directive.\n                $scope.regenerateGeneratedImages = function() {\n                    $scope._regenerateImages(1, $scope.generatedImages);\n                };\n\n                // Regenerates the custom images list for the directive.\n                $scope.regenerateCustomImages = function() {\n                    $scope._regenerateImages(2, $scope.customImages);\n                };\n\n                // Returns true if at least one LTS is selected.\n                $scope.ltsIsSelected = function() {\n                    var i;\n                    for(i = 0; i < $scope.ubuntuImages.length; i++) {\n                        // Must have LTS in the title and not being deleted.\n                        if(!$scope.ubuntuImages[i].beingDeleted &&\n                            $scope.ubuntuImages[i].title.indexOf('LTS') >= 0) {\n                            // Must be greater than Ubuntu series 14.\n                            var series = parseInt(\n                                $scope.ubuntuImages[i].title.split('.')[0], 10);\n                            if(series >= 14) {\n                                return true;\n                            }\n                        }\n                    }\n                    return false;\n                };\n\n                // Returns true if the commission series is selected\n                $scope.commissioningSeriesSelected = function() {\n                    var i;\n                    for(i = 0; i < $scope.ubuntuImages.length; i++) {\n                        if(!$scope.ubuntuImages[i].beingDeleted &&\n                           $scope.ubuntuImages[i].name ===\n                           $scope.bootResources.ubuntu.commissioning_series) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n\n                // Return if we are asking about deleting this image.\n                $scope.isShowingDeleteConfirm = function(image) {\n                    return image === $scope.removingImage;\n                };\n\n                // Mark the image for deletion.\n                $scope.quickRemove = function(image) {\n                    $scope.removingImage = image;\n                };\n\n                // Cancel image deletion.\n                $scope.cancelRemove = function() {\n                    $scope.removingImage = null;\n                };\n\n                // Mark the image for deletion.\n                $scope.confirmRemove = function(image) {\n                    if(image === $scope.removingImage) {\n                        BootResourcesManager.deleteImage(\n                            {id: image.image_id});\n                    }\n                    $scope.cancelRemove();\n                };\n\n                // Return true if the stop import button should be shown.\n                $scope.showStopImportButton = function() {\n                    return $scope.bootResources.region_import_running;\n                };\n\n                // Return true if should show save selection button, this\n                // doesn't mean it can actually be clicked.\n                $scope.showSaveSelection = function() {\n                    return $scope.showImagesTable();\n                };\n\n                // Return true if can save the current selection.\n                $scope.canSaveSelection = function() {\n                    var commissioning_series_being_deleted = false;\n                    var commissioning_series_arches = 0;\n                    var i;\n                    for(i = 0; i < $scope.ubuntuImages.length; i++) {\n                        if($scope.ubuntuImages[i].name ===\n                           $scope.bootResources.ubuntu.commissioning_series) {\n                            commissioning_series_arches++;\n                        }\n                    }\n                    // Only prevent the current commissioning series from\n                    // being deleted if it isn't the commissioning series isn't\n                    // available on another architecture.. If the current\n                    // commissioning series isn't currently selected another\n                    // LTS may be choosen, downloaded, and configured as the\n                    // commissioning series.\n                    for(i = 0; i < $scope.ubuntuImages.length; i++) {\n                        if($scope.ubuntuImages[i].beingDeleted &&\n                           $scope.ubuntuImages[i].name ===\n                           $scope.bootResources.ubuntu.commissioning_series &&\n                           commissioning_series_arches === 1) {\n                            commissioning_series_being_deleted = true;\n                            break;\n                        }\n                    }\n                    return (\n                        !commissioning_series_being_deleted &&\n                        !$scope.saving &&\n                        !$scope.stopping &&\n                        $scope.ltsIsSelected());\n                };\n\n                // Return the text for the save selection button.\n                $scope.getSaveSelectionText = function() {\n                    if($scope.saving) {\n                        return \"Saving...\";\n                    } else {\n                        return \"Update selection\";\n                    }\n                };\n\n                // Return true if can stop current import.\n                $scope.canStopImport = function() {\n                    return !$scope.saving && !$scope.stopping;\n                };\n\n                // Return the text for the stop import button.\n                $scope.getStopImportText = function() {\n                    if($scope.stopping) {\n                        return \"Stopping...\";\n                    } else {\n                        return \"Stop import\";\n                    }\n                };\n\n                // Called to stop the import.\n                $scope.stopImport = function() {\n                    if(!$scope.canStopImport()) {\n                        return;\n                    }\n\n                    $scope.stopping = true;\n                    BootResourcesManager.stopImport().then(function() {\n                        $scope.stopping = false;\n                    });\n                };\n\n                // Save the selections into boot selections.\n                $scope.saveSelection = function() {\n                    if(!$scope.canSaveSelection()) {\n                        return;\n                    }\n\n                    var params = $scope.getSourceParams();\n                    params.releases = (\n                        $scope.source.selections.releases.map(function(obj) {\n                            return obj.name;\n                        }));\n                    params.arches = (\n                        $scope.source.selections.arches.map(function(obj) {\n                            return obj.name;\n                        }));\n                    $scope.saving = true;\n                    BootResourcesManager.saveUbuntu(params).then(function() {\n                        $scope.saving = false;\n                        $scope.source.isNew = false;\n                        $scope.source.selections.changed = false;\n                        $scope.updateSource();\n                    });\n                };\n\n                // Re-create an array with the new objects using the old\n                // selected array.\n                $scope.getNewSelections = function(newObjs, oldSelections) {\n                    var newSelections = [];\n                    angular.forEach(newObjs, function(obj) {\n                        angular.forEach(oldSelections, function(selection) {\n                            if(obj.name === selection.name) {\n                                newSelections.push(obj);\n                            }\n                        });\n                    });\n                    return newSelections;\n                };\n\n                // Update the source information.\n                $scope.updateSource = function() {\n                    // Do not update if the source is new.\n                    if($scope.source.isNew) {\n                        return;\n                    }\n\n                    var source_len = $scope.bootResources.ubuntu.sources.length;\n                    if(source_len === 0) {\n                        $scope.source.isNew = true;\n                        $scope.source.source_type = 'custom';\n                        $scope.source.errorMessage = (\n                            \"Currently no source exists.\");\n                    } else if(source_len === 1) {\n                        var source = $scope.bootResources.ubuntu.sources[0];\n                        $scope.source.source_type = source.source_type;\n                        if(source.source_type === \"maas.io\") {\n                            $scope.source.url = \"\";\n                            $scope.source.keyring_filename = \"\";\n                            $scope.source.keyring_data = \"\";\n                        } else {\n                            $scope.source.url = source.url;\n                            $scope.source.keyring_filename = (\n                                source.keyring_filename);\n                            $scope.source.keyring_data = source.keyring_data;\n                        }\n                        $scope.source.releases = (\n                            $scope.bootResources.ubuntu.releases);\n                        $scope.source.arches = (\n                            $scope.bootResources.ubuntu.arches);\n                        if(!$scope.source.selections.changed) {\n                            // User didn't make a change update to the\n                            // current selections server side.\n                            $scope.source.selections.releases = (\n                                $scope.source.releases.filter(function(obj) {\n                                    return obj.checked;\n                                }));\n                            $scope.source.selections.arches = (\n                                $scope.source.arches.filter(function(obj) {\n                                return obj.checked;\n                            }));\n                        } else {\n                            // Update the objects to be the new objects, with\n                            // the same selections.\n                            $scope.source.selections.releases = (\n                                $scope.getNewSelections(\n                                    $scope.source.releases,\n                                    $scope.source.selections.releases));\n                            $scope.source.selections.arches = (\n                                $scope.getNewSelections(\n                                    $scope.source.arches,\n                                    $scope.source.selections.arches));\n                        }\n                        $scope.regenerateUbuntuImages();\n                    } else {\n                        // Having more than one source prevents modification\n                        // of the sources.\n                        $scope.source.tooMany = true;\n                        $scope.source.releases = (\n                            $scope.bootResources.ubuntu.releases);\n                        $scope.source.arches = (\n                            $scope.bootResources.ubuntu.arches);\n                        $scope.source.selections.releases = (\n                            $scope.source.releases.filter(function(obj) {\n                                return obj.checked;\n                            }));\n                        $scope.source.selections.arches = (\n                            $scope.source.arches.filter(function(obj) {\n                            return obj.checked;\n                        }));\n                        $scope.source.errorMessage = (\n                            \"More than one image source exists. UI does not \" +\n                            \"support modification of sources when more than \" +\n                            \"one has been defined. Used the API to adjust \" +\n                            \"your sources.\");\n                        $scope.regenerateUbuntuImages();\n                    }\n                };\n\n                // Toggle the selection of Ubuntu Core images.\n                $scope.toggleUbuntuCoreSelection = function(image) {\n                    $scope.ubuntu_core.changed = true;\n                    image.checked = !image.checked;\n                    $scope.regenerateUbuntuCoreImages();\n                };\n\n                // Save the Ubuntu Core image selections into boot selections.\n                $scope.saveUbuntuCoreSelection = function() {\n                    var params = {\n                        images: $scope.ubuntu_core.images.filter(function(\n                                image) {\n                            return image.checked;\n                        }).map(function(image) {\n                            return image.name;\n                        })\n                    };\n                    $scope.saving = true;\n                    BootResourcesManager.saveUbuntuCore(params).then(\n                            function() {\n                        $scope.saving = false;\n                    });\n                };\n\n                // Toggle the selection of other images.\n                $scope.toggleOtherSelection = function(image) {\n                    $scope.other.changed = true;\n                    image.checked = !image.checked;\n                    $scope.regenerateOtherImages();\n                };\n\n                // Save the other image selections into boot selections.\n                $scope.saveOtherSelection = function() {\n                    var params = {\n                        images: $scope.other.images.filter(function(image) {\n                            return image.checked;\n                        }).map(function(image) {\n                            return image.name;\n                        })\n                    };\n                    $scope.saving = true;\n                    BootResourcesManager.saveOther(params).then(function() {\n                        $scope.saving = false;\n                    });\n                };\n\n                // Return True if the Ubuntu image can be removed.\n                $scope.canBeRemoved = function(image) {\n                    // Image must have a resourceId to be able to be removed.\n                    if(!angular.isNumber(image.resourceId)) {\n                        return false;\n                    }\n\n                    // If the release or architecture is set to deleted\n                    // then this image can be deleted.\n                    var i;\n                    var releases = $scope.bootResources.ubuntu.releases;\n                    var arches = $scope.bootResources.ubuntu.arches;\n                    for(i = 0; i < releases.length; i++) {\n                        var release = releases[i];\n                        if(release.deleted && image.title === release.title) {\n                            return true;\n                        }\n                    }\n                    for(i = 0; i < arches.length; i++) {\n                        var arch = arches[i];\n                        if(arch.deleted && image.arch === arch.name) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n\n                // Deletes the give image.\n                $scope.deleteImage = function(image) {\n                    if(angular.isObject(image)) {\n                        $scope.ubuntuDeleteId = image.resourceId;\n                    } else {\n                        $scope.ubuntuDeleteId = null;\n                    }\n                };\n\n                // Deletes the give image.\n                $scope.confirmDeleteImage = function() {\n                    // Delete the image by its resourceId.\n                    BootResourcesManager.deleteImage(\n                        {id: $scope.ubuntuDeleteId});\n                    $scope.ubuntuDeleteId = null;\n                };\n\n                // Start polling now that the directive is viewable and ensure\n                // the UserManager is loaded.\n                var ready = 2;\n                BootResourcesManager.startPolling().then(function() {\n                    ready -= 1;\n                    if(ready === 0) {\n                        $scope.loading = false;\n                    }\n                });\n                ManagerHelperService.loadManager(\n                    $scope, UsersManager).then(function() {\n                    ready -= 1;\n                    if(ready === 0) {\n                        $scope.loading = false;\n                    }\n                });\n\n                // Update the source information with the ubuntu source\n                // information changes.\n                $scope.$watch(\"bootResources.ubuntu\", function() {\n                    if(!angular.isObject($scope.bootResources.ubuntu)) {\n                        return;\n                    }\n                    $scope.updateSource();\n                });\n\n                // Regenerate the images array when the resources change.\n                $scope.$watch(\"bootResources.resources\", function() {\n                    if(!angular.isArray($scope.bootResources.resources)) {\n                        return;\n                    }\n                    $scope.regenerateUbuntuImages();\n                    $scope.regenerateUbuntuCoreImages();\n                    $scope.regenerateOtherImages();\n                    $scope.regenerateGeneratedImages();\n                    $scope.regenerateCustomImages();\n                });\n\n                $scope.$watch(\"bootResources.ubuntu_core_images\", function() {\n                    var images = $scope.bootResources.ubuntu_core_images;\n                    if(!angular.isArray(images)) {\n                        return;\n                    }\n                    if(!$scope.ubuntu_core.changed) {\n                        $scope.ubuntu_core.images = images;\n                    }\n                    $scope.regenerateUbuntuCoreImages();\n                });\n\n                $scope.$watch(\"bootResources.other_images\", function() {\n                    if(!angular.isArray($scope.bootResources.other_images)) {\n                        return;\n                    }\n                    if(!$scope.other.changed) {\n                        $scope.other.images = $scope.bootResources.other_images;\n                    }\n                    $scope.regenerateOtherImages();\n                });\n\n                // Stop polling when the directive is destroyed.\n                $scope.$on('$destroy', function() {\n                    BootResourcesManager.stopPolling();\n                });\n            }\n        };\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Call to action directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the cta.html into the template cache.\n    $templateCache.put('directive/templates/cta.html', [\n      '<div class=\"p-contextual-menu\">',\n        '<button ',\n          'class=\"p-button p-contextual-menu__toggle',\n          ' p-button--min-margin-bottom\" ',\n          'aria-controls=\"#cta-menu\" ',\n          'aria-expanded=\"false\" ',\n          'aria-haspopup=\"true\" ',\n          'data-ng-click=\"shown=!shown\"',\n        '>',\n          '{$ getTitle() $}',\n          '<i class=\"p-icon--chevron on-right\"></i>',\n        '</button>',\n        '<div class=\"p-contextual-menu__dropdown\" ',\n          'id=\"cta-menu\" ',\n          'aria-hidden=\"false\" ',\n          'aria-label=\"submenu\"',\n          'data-ng-show=\"shown\"',\n        '>',\n          '<button ',\n            'class=\"',\n              'p-button u-no-margin--left p-contextual-menu__link',\n            '\" ',\n            'data-ng-repeat=\"select in maasCta\" ',\n            'data-ng-click=\"selectItem(select)\">',\n              '{$ getOptionTitle(select) $}',\n          '</button>',\n        '</div>',\n      '</div>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasCta', function() {\n    return {\n        restrict: \"A\",\n        replace: true,\n        require: \"ngModel\",\n        scope: {\n            maasCta: '=',\n            ngModel: '='\n        },\n        templateUrl: 'directive/templates/cta.html',\n        link : function(scope, element, attrs, ngModelCtrl) {\n            // Use the link function to grab the ngModel controller.\n\n            // Title of the button when not active.\n            var defaultTitle = \"Take action\";\n            if(angular.isString(attrs.defaultTitle) &&\n                attrs.defaultTitle !== \"\") {\n                defaultTitle = attrs.defaultTitle;\n            }\n\n            // When an item is selected in the list set the title, hide the\n            // dropdown, and set the value to the given model.\n            scope.selectItem = function(select) {\n                scope.shown = false;\n                ngModelCtrl.$setViewValue(select);\n            };\n\n            // Return the title of the dropdown button.\n            scope.getTitle = function() {\n                if(angular.isObject(ngModelCtrl.$modelValue)) {\n                    option = ngModelCtrl.$modelValue;\n                    scope.secondary = true;\n                    // Some designs have the requirement that the title of\n                    // the menu option change if it is selected.\n                    if(angular.isString(option.selectedTitle)) {\n                        return option.selectedTitle;\n                    }\n                    return option.title;\n                } else {\n                    scope.secondary = false;\n                    return defaultTitle;\n                }\n            };\n\n            // Called to get the title for each option. (Sometimes the title\n            // of an option is different when it is selected.)\n            scope.getOptionTitle = function(option) {\n                if(!scope.secondary) {\n                    return option.title;\n                } else {\n                    if(angular.isString(option.selectedTitle)) {\n                        return option.selectedTitle;\n                    } else {\n                        return option.title;\n                    }\n                }\n            };\n\n            // When the model changes in the above selectItem function this\n            // function will be called causing the ngChange directive to be\n            // fired.\n            ngModelCtrl.$viewChangeListeners.push(function() {\n                scope.$eval(attrs.ngChange);\n            });\n        },\n        controller: function($scope, $rootScope, $element, $document) {\n            // Default dropdown is hidden.\n            $scope.shown = false;\n            $scope.secondary = false;\n\n            // Don't propagate the element click. This stops the click event\n            // from firing on the body element.\n            $element.bind('click', function (evt) {\n                evt.stopPropagation();\n            });\n\n            // If a click makes it to the body element then hide the dropdown.\n            $document.find('body').bind('click', function () {\n                // Use $apply because this function will be called outside\n                // of the digest cycle.\n                $rootScope.$apply($scope.shown = false);\n            });\n        }\n    };\n});\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Controller status icon. Used in the controllers listing on the nodes page.\n */\n\nangular.module('MAAS').directive('maasCardLoader', ['$compile',\n  function($compile) {\n      return {\n          restrict: \"A\",\n          link: function(scope, element, attrs) {\n            var templateUrl = (\n                'static/partials/cards/' + attrs.maasCardLoader + (\n                  '.html?v=' + MAAS_config.files_version));\n            var include = (\n              '<ng-include src=\"\\'' + templateUrl + '\\'\"></ng-include>');\n            element.html(include);\n            $compile(element.contents())(scope);\n          }\n      };\n  }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Accordion directive.\n *\n * Provides an accordion effect to an element with maas-accordion class and\n * all child elements with maas-accordion-tab. Only one accordion tab is open\n * at a time, selecting another accordion will set \"active\" on that\n * accordion tab.\n */\n\n\n angular.module('MAAS').directive('maasCodeLines', function () {\n     return {\n         restrict: \"A\",\n         scope: {\n             maasCodeLines: '&'\n         },\n         link: function(scope, element, attributes) {\n\n             function insertContent() {\n\n                 // Empty the element contents and include again, this asures\n                 // its the most up-to-date content\n                 element.empty();\n                 element.text(scope.maasCodeLines);\n\n                 // Count the line contents\n                 var lines = element.html().split('\\n'),\n                     newLine = '',\n                     insert = \"<code>\";\n\n                 // Each line is to be wrapped by a span which is style & given\n                 // its appropriate line number\n                 $.each(lines, function() {\n                   insert += newLine + '<span class=\"code-line\">' +\n                   this + '</span>';\n                   newLine = '\\n';\n                 });\n                 insert += \"</code>\";\n\n                 // Re-insert the contents\n                 element.html(insert);\n             }\n\n             // Watch the contents of the element so when it changes to\n             // re-add the line numbers.\n             scope.$watch(scope.maasCodeLines, insertContent);\n         }\n     };\n });\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Content editable directive.\n *\n * HTML provides a feature that allows any element to be editable with\n * contenteditable attribute. This directive uses that attribute to link\n * the contents of that element to a model. This directive is not prefixed\n * with maas so Angular can identify all elements with this attribute.\n */\n\n\nangular.module('MAAS').directive('contenteditable', function() {\n    return {\n        restrict: \"A\",\n        require: \"ngModel\",\n        scope: {\n            ngDisabled: \"&\",\n            maasEditing: \"&\"\n        },\n        link: function(scope, element, attrs, ngModel) {\n\n            // If the element is disabled then make the element lose focus.\n            var focusHandler = function() {\n                if(scope.ngDisabled()) {\n                    element.blur();\n                } else {\n                    // Didn't lose focus, so its now editing.\n                    scope.$apply(scope.maasEditing());\n                }\n            };\n            element.bind(\"focus\", focusHandler);\n\n            // Update the value of the model when events occur that\n            // can change the value of the model.\n            var changeHandler = function() {\n                scope.$apply(ngModel.$setViewValue(element.text()));\n            };\n            element.bind(\"blur keyup change\", changeHandler);\n\n            // When the model changes set the html content for that element.\n            ngModel.$render = function() {\n                element.html(ngModel.$viewValue || \"\");\n            };\n\n            // When the model changes this function will be called causing the\n            // ngChange directive to be fired.\n            ngModel.$viewChangeListeners.push(function() {\n                scope.$eval(attrs.ngChange);\n            });\n\n            // Remove the event handler on the element when the scope is\n            // destroyed.\n            scope.$on(\"$destroy\", function() {\n                element.unbind(\"blur keyup change\", changeHandler);\n                element.unbind(\"focus\", focusHandler);\n            });\n        }\n    };\n});\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Controller image status directive.\n *\n * Shows the image status for a controller.\n */\n\n angular.module('MAAS').service('ControllerImageStatusService',\n    ['$timeout', '$interval', 'ControllersManager', function(\n        $timeout, $interval, ControllersManager) {\n     var self = this;\n\n     // How often to check the sync status of a controller in seconds.\n     var CHECK_INTERVAL = 30;\n\n     // List of controllers that need to have the image status updated.\n     this.controllers = [];\n\n     // List of current controller statues.\n     this.statuses = {};\n\n     // Interval function that is called to update the statuses.\n     this.updateStatuses = function() {\n         var controllerIds = [];\n         angular.forEach(self.controllers, function(system_id) {\n             controllerIds.push({system_id: system_id});\n         });\n\n         // Check the image states.\n         ControllersManager.checkImageStates(controllerIds).then(\n                 function(results) {\n             angular.forEach(controllerIds, function(controller) {\n                 var status = results[controller.system_id];\n                 if(status) {\n                     self.statuses[controller.system_id] = status;\n                 } else {\n                     self.statuses[controller.system_id] = \"Unknown\";\n                 }\n             });\n         });\n     };\n\n     // Register this controller system_id.\n     this.register = function(system_id) {\n         var known = self.controllers.indexOf(system_id) >= 0;\n         if(!known) {\n             self.controllers.push(system_id);\n         }\n\n         // When the interval is already running and its a new controller then\n         // the interval needs to be reset. When it already exists it doesn't\n         // need to be reset.\n         if(angular.isDefined(self.runningInterval)) {\n             if(known) {\n                 return;\n             } else {\n                 $interval.cancel(self.runningInterval);\n                 self.runningInterval = undefined;\n             }\n         }\n\n         // If its not running and the timeout has been started we re-create\n         // the timeout. This delays the start of the interval until the\n         // all directives on the page have been fully loaded.\n         if(angular.isDefined(self.startTimeout)) {\n             $timeout.cancel(self.startTimeout);\n         }\n         self.startTimeout = $timeout(function() {\n             self.startTimeout = undefined;\n             self.runningInterval = $interval(function() {\n                 self.updateStatuses();\n             }, CHECK_INTERVAL * 1000);\n             self.updateStatuses();\n         }, 100);\n     };\n\n     // Unregister the controller.\n     this.unregister = function(system_id) {\n        var idx = self.controllers.indexOf(system_id);\n        if(idx > -1) {\n            self.controllers.splice(idx, 1);\n        }\n\n        // If no controllers are left stop all intervals and timeouts.\n        if(self.controllers.length === 0) {\n            if(angular.isDefined(self.startTimeout)) {\n                $timeout.cancel(self.startTimeout);\n                self.startTimeout = undefined;\n            }\n            if(angular.isDefined(self.runningInterval)) {\n                $interval.cancel(self.runningInterval);\n                self.runningInterval = undefined;\n            }\n        }\n     };\n\n     // Return true if the spinner should be shown.\n     this.showSpinner = function(system_id) {\n         var status = self.statuses[system_id];\n         if(angular.isString(status) && status !== \"Syncing\") {\n             return false;\n         } else {\n             return true;\n         }\n     };\n\n     // Get the image status.\n     this.getImageStatus = function(system_id) {\n         var status = self.statuses[system_id];\n         if(angular.isString(status)) {\n             return status;\n         } else {\n             return \"Asking for status...\";\n         }\n     };\n}]);\n\nangular.module('MAAS').directive('maasControllerImageStatus',\n    ['ControllerImageStatusService', function(\n        ControllerImageStatusService) {\n\n    return {\n        restrict: \"E\",\n        scope: {\n            systemId: \"=\"\n        },\n        template: [\n            '<i class=\"p-icon--loading u-animation--spin\"',\n                'data-ng-if=\"showSpinner()\"></i> ',\n            '{$ getImageStatus() $}'].join(''),\n        link: function(scope, element, attrs) {\n            // Don't register until the systemId is set.\n            var unwatch, registered = false;\n            unwatch = scope.$watch(\"systemId\", function() {\n                if(angular.isDefined(scope.systemId) && !registered) {\n                    ControllerImageStatusService.register(scope.systemId);\n                    registered = true;\n                    unwatch();\n                }\n            });\n\n            scope.showSpinner = function() {\n                return ControllerImageStatusService.showSpinner(\n                    scope.systemId);\n            };\n            scope.getImageStatus = function() {\n                return ControllerImageStatusService.getImageStatus(\n                    scope.systemId);\n            };\n\n            // Unregister when destroyed.\n            scope.$on(\"$destroy\", function() {\n                if(registered) {\n                    ControllerImageStatusService.unregister(scope.systemId);\n                }\n            });\n        }\n    };\n}]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Controller status icon. Used in the controllers listing on the nodes page.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the controller-status.html into the template cache.\n    $templateCache.put('directive/templates/controller-status.html', [\n        '<span>',\n          '<span class=\"p-icon--{$ serviceClass $}\" data-ng-if=\"!textOnly\">',\n          '</span>',\n          '<span data-ng-if=\"textOnly\" data-ng-bind=\"serviceText\"></span>',\n        '</span>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasControllerStatus', [\n    \"ControllersManager\", \"ServicesManager\",\n    function(ControllersManager, ServicesManager) {\n        return {\n            restrict: \"A\",\n            scope: {\n                controller: '=maasControllerStatus',\n                textOnly: '=?maasTextOnly'\n            },\n            templateUrl: 'directive/templates/controller-status.html',\n            controller: function($scope) {\n\n                $scope.serviceClass = \"unknown\";\n                $scope.services = ServicesManager.getItems();\n                $scope.serviceText = \"\";\n                if($scope.textOnly) {\n                  $scope.textOnly = true;\n                } else {\n                  $scope.textOnly = false;\n                }\n\n                // Return the status class for the service.\n                function getClass(service) {\n                    if(service.status === \"running\") {\n                        return \"success\";\n                    } else if (service.status === \"degraded\") {\n                        return \"warning\";\n                    } else if (service.status === \"dead\") {\n                        return \"error\";\n                    } else {\n                        return \"unknown\";\n                    }\n                }\n\n                // Return the number of times class is displayed.\n                function countClass(classes, class_name) {\n                  var counter = 0;\n                  angular.forEach(classes, function(name) {\n                    if(name === class_name) {\n                      counter++;\n                    }\n                  });\n                  return counter;\n                }\n\n                // Update the class based on status of the services on the\n                // controller.\n                function updateStatusClass() {\n                    $scope.serviceClass = \"unknown\";\n                    if(angular.isObject($scope.controller)) {\n                        var services = ControllersManager.getServices(\n                            $scope.controller);\n                        if(services.length > 0) {\n                            var classes = services.map(getClass);\n                            if(classes.indexOf(\"error\") !== -1) {\n                                $scope.serviceClass = \"power-error\";\n                                $scope.serviceText = countClass(\n                                  classes, \"error\") + \" dead\";\n                            } else if(classes.indexOf(\"warning\") !== -1) {\n                                $scope.serviceClass = \"warning\";\n                                $scope.serviceText = countClass(\n                                  classes, \"warning\") + \" degraded\";\n                            } else {\n                                $scope.serviceClass = \"success\";\n                                $scope.serviceText = countClass(\n                                  classes, \"success\") + \" running\";\n                            }\n                        }\n                    }\n                }\n\n                // Watch the services array and the services on the controller,\n                // if any changes then update the status.\n                $scope.$watch(\"controller.service_ids\", updateStatusClass);\n                $scope.$watch(\"services\", updateStatusClass, true);\n\n                // Update on creation.\n                updateStatusClass();\n            }\n        };\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Double click overlay directive.\n *\n * Provides the ability for a disabled element to still accept the\n * double click event. By default if an element is disabled then it will\n * receive no click events. This overlays the element with another element\n * that will still receive click events.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the style for the maas-dbl-overlay class. We inject the style\n    // instead of placing it in maas-styles.css because it is required for\n    // this directive to work at all.\n    var styleElement = document.createElement('style');\n    styleElement.innerHTML = [\n        '.maas-dbl-overlay {',\n            'display: inline-block;',\n            'position: relative;',\n        '}',\n        '.maas-dbl-overlay--overlay {',\n            'position: absolute;',\n            'left: 0;',\n            'right: 0;',\n            'top: 0;',\n            'bottom: 0;',\n            '-webkit-touch-callout: none;',\n            '-webkit-user-select: none;',\n            '-khtml-user-select: none;',\n            '-moz-user-select: none;',\n            '-ms-user-select: none;',\n            'user-select: none;',\n        '}'\n    ].join('');\n    document.getElementsByTagName('head')[0].appendChild(styleElement);\n\n    // Inject the double_click_overlay.html into the template cache.\n    $templateCache.put('directive/templates/double_click_overlay.html', [\n        '<div class=\"maas-dbl-overlay\">',\n            '<span data-ng-transclude></span>',\n            '<div class=\"maas-dbl-overlay--overlay\"></div>',\n        '</div>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasDblClickOverlay', ['BrowserService',\n    function(BrowserService) {\n        return {\n            restrict: \"A\",\n            transclude: true,\n            replace: true,\n            scope: {\n                maasDblClickOverlay: '&'\n            },\n            templateUrl: 'directive/templates/double_click_overlay.html',\n            link: function(scope, element, attrs) {\n                // Create the click function that will be called when the\n                // overlay is clicked. This changes based on the element that\n                // is transcluded into this directive.\n                var overlay = element.find(\".maas-dbl-overlay--overlay\");\n                var transclude = element.find(\n                    \"span[data-ng-transclude]\").children()[0];\n                var clickElement;\n                if(transclude.tagName === \"SELECT\") {\n                    clickElement = function() {\n                        // Have to create a custom mousedown event for the\n                        // select click to be handled. Using 'click()' or\n                        //'focus()' will not work.\n                        var evt = document.createEvent('MouseEvents');\n                        evt.initMouseEvent(\n                            'mousedown', true, true, window, 0, 0, 0, 0, 0,\n                            false, false, false, false, 0, null);\n                        transclude.dispatchEvent(evt);\n                    };\n\n                    // Selects use a pointer for the cursor.\n                    overlay.css({ cursor: \"pointer\" });\n                } else if(transclude.tagName === \"INPUT\") {\n                    clickElement = function() {\n                        // An input will become in focus when clicked.\n                        angular.element(transclude).triggerHandler('focus');\n                    };\n\n                    // Inputs use a text for the cursor.\n                    overlay.css({ cursor: \"text\" });\n                } else {\n                    clickElement = function() {\n                        // Standard element just call click on that element.\n                        angular.element(transclude).triggerHandler('click');\n                    };\n\n                    // Don't set cursor on other element types.\n                }\n\n                // Add the click and double click handlers.\n                var overlayClick = function(evt) {\n                    clickElement();\n                    evt.preventDefault();\n                    evt.stopPropagation();\n                };\n                var overlayDblClick = function(evt) {\n                    // Call the double click handler with in the scope.\n                    scope.$apply(scope.maasDblClickOverlay);\n                    evt.preventDefault();\n                    evt.stopPropagation();\n                };\n\n                // Enable the handlers if not Firefox. It firefox, then hide\n                // the overlay as Firefox does not allow sending click events\n                // to select elements.\n                if(BrowserService.browser !== \"firefox\") {\n                    overlay.on(\"click\", overlayClick);\n                    overlay.on(\"dblclick\", overlayDblClick);\n                } else {\n                    overlay.addClass(\"ng-hide\");\n                }\n\n                // Remove the handlers when the scope is destroyed.\n                scope.$on(\"$destroy\", function() {\n                    overlay.off(\"click\", overlayClick);\n                    overlay.off(\"dblclick\", overlayDblClick);\n                });\n            }\n        };\n    }]);\n","/* Copyright 2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * OS/Release select directive.\n */\n\nangular.module('MAAS').directive('maasDefaultOsSelect', function() {\n    return {\n        restrict: \"A\",\n        scope: {\n            \"osInput\": \"@maasDefaultOsSelect\",\n            \"seriesInput\": \"@maasDefaultSeriesSelect\",\n        },\n        link: function($scope, $element, $attrs) {\n            var osElement = angular.element($element.find($scope.osInput));\n            var seriesElement = angular.element(\n                $element.find($scope.seriesInput));\n            if(!osElement || !seriesElement) {\n                throw new Error(\"Unable to find os or series elements\");\n            }\n\n            var selectVisableOption = function(options) {\n                var first_option = null;\n                angular.forEach(options, function(option) {\n                    option = angular.element(option);\n                    if(!option.hasClass('u-hide')) {\n                        if(first_option === null) {\n                            first_option = option;\n                        }\n                    }\n                });\n                if(first_option !== null) {\n                    seriesElement.val(first_option.val());\n                }\n            };\n\n            var modifyOption = function(option, newOSValue, initialSkip) {\n                var selected = false;\n                var value = option.val();\n                var split_value = value.split(\"/\");\n\n                // If \"Default OS\" is selected, then\n                // only show \"Default OS Release\".\n                if(newOSValue === '') {\n                    if(value === '') {\n                        option.removeClass('u-hide');\n                        option.attr('selected', 'selected');\n                    } else {\n                        option.addClass('u-hide');\n                    }\n                } else {\n                    if(split_value[0] === newOSValue) {\n                        option.removeClass('u-hide');\n                        if(split_value[1] === '' && !initialSkip) {\n                            selected = true;\n                            option.attr('selected', 'selected');\n                        }\n                    } else {\n                        option.addClass('u-hide');\n                    }\n                }\n                return selected;\n            };\n\n            var switchTo = function(newOSValue, initialSkip) {\n                var options = seriesElement.find('option');\n                var selected = false;\n                angular.forEach(options, function(option) {\n                    var sel = modifyOption(\n                        angular.element(option), newOSValue, initialSkip);\n                    if (selected === false) {\n                        selected = sel;\n                    }\n                });\n\n                // We skip selection on first load, as Django will already\n                // provide the users, current selection. Without this the\n                // current selection will be clobered.\n                if (initialSkip) {\n                    return;\n                }\n\n                // See if a selection was made, if not then we need\n                // to select the first visible as a default is not\n                // present.\n                if(!selected) {\n                    selectVisableOption(options);\n                }\n            };\n\n            // Call switchTo any time the os changes.\n            osElement.on('change', function(evt) {\n                switchTo(osElement.val(), false);\n            });\n\n            // Initialize the options.\n            switchTo(osElement.val(), true);\n        }\n    };\n});\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n*/\n\nangular.module('MAAS').directive('maasEnter', function () {\n    return {\n        restrict: \"A\",\n        link: function (scope, element, attrs) {\n            element.bind(\"keydown keypress\", function (evt) {\n                if(evt.which === 13) {\n                    scope.$apply(function () {\n                        scope.$eval(attrs.maasEnter);\n                    });\n                    evt.preventDefault();\n                }\n            });\n        }\n    };\n});\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Enter blur directive.\n *\n * When the enter key is pressed make the element lose focus (aka. blur event).\n */\n\n\nangular.module('MAAS').directive('maasEnterBlur', function() {\n    return {\n        restrict: \"A\",\n        link: function(scope, element, attrs) {\n            element.bind(\"keydown keypress\", function(evt) {\n                if(evt.which === 13) {\n                    element.blur();\n                    evt.preventDefault();\n                }\n            });\n        }\n    };\n});\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Error overlay.\n *\n * Directive overrides the entire transcluded element if an error occurs or\n * connection to the region over the websocket fails or becomes disconnected.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the error_overlay.html into the template cache.\n    $templateCache.put('directive/templates/error_overlay.html', [\n        '<header id=\"error-header\" class=\"page-header\" data-ng-show=\"show()\">',\n            '<div class=\"row\">',\n                '<h1 class=\"page-header__title\">',\n                    '<span class=\"p-icon--loading u-animation--spin ',\n                        'u-margin--right-small\"',\n                        'data-ng-hide=\"clientError\"></span>',\n                    '{$ getTitle() $}',\n                '</h1>',\n                '<div class=\"page-header__controls\">',\n                    '<button class=\"button--secondary button--inline\"',\n                        'data-ng-click=\"reload()\"',\n                        'data-ng-show=\"clientError\">Reload</button>',\n                '</div>',\n                '<div class=\"page-header__dropdown is-open\" ',\n                    'data-ng-show=\"error\">',\n                    '<div class=\"page-header__section twelve-col',\n                        'u-margin--no-bottom\">',\n                        '<p class=\"page-header__message',\n                                  'page-header__message--error\">',\n                            '{$ error $}',\n                        '</p>',\n                    '</div>',\n                '</div>',\n            '</div>',\n        '</header>',\n        '<div class=\"ng-hide u-no-margin--top\" data-ng-hide=\"show()\">',\n            '<div data-ng-transclude></div>',\n        '</div>'\n    ].join(''));\n\n    // Preload the svg and png error icon. Its possible that it has never been\n    // loaded by the browser and if the region connection goes down and the\n    // directive gets shown with an error the icon will be missing.\n    //\n    // Note: This is skipped if unit testing because it will throw 404 errors\n    // continuously.\n    if(!angular.isDefined(window.jasmine)) {\n        var image = new Image();\n        image.src = \"static/assets/images/icons/error.svg\";\n        image = new Image();\n        image.src = \"static/assets/images/icons/error.png\";\n    }\n}]);\n\nangular.module('MAAS').directive('maasErrorOverlay', [\n    '$window', '$timeout', 'RegionConnection', 'ErrorService',\n    function($window, $timeout, RegionConnection, ErrorService) {\n        return {\n            restrict: \"A\",\n            transclude: true,\n            scope: true,\n            templateUrl: 'directive/templates/error_overlay.html',\n            link: function(scope, element, attrs) {\n\n                scope.connected = false;\n                scope.showDisconnected = false;\n                scope.clientError = false;\n                scope.wasConnected = false;\n\n                // Holds the promise that sets showDisconnected to true. Will\n                // be cleared when the scope is destroyed.\n                var markDisconnected;\n\n                // Returns true when the overlay should be shown.\n                scope.show = function() {\n                    // Always show if clientError.\n                    if(scope.clientError) {\n                        return true;\n                    }\n                    // Never show if connected.\n                    if(scope.connected) {\n                        return false;\n                    }\n                    // Never been connected then always show.\n                    if(!scope.wasConnected) {\n                        return true;\n                    }\n                    // Not connected.\n                    return scope.showDisconnected;\n                };\n\n                // Returns the title for the header.\n                scope.getTitle = function() {\n                    if(scope.clientError) {\n                        return \"Error occurred\";\n                    } else if(scope.wasConnected) {\n                        return \"Connection lost, reconnecting...\";\n                    } else {\n                        return \"Connecting...\";\n                    }\n                };\n\n                // Called to reload the page.\n                scope.reload = function() {\n                    $window.location.reload();\n                };\n\n                // Called to when the connection status of the region\n                // changes. Updates the scope connected and error values.\n                var watchConnection = function() {\n                    // Do nothing if already a client error.\n                    if(scope.clientError) {\n                        return;\n                    }\n\n                    // Set connected and the time it changed.\n                    var connected = RegionConnection.isConnected();\n                    if(connected !== scope.connected) {\n                        scope.connected = connected;\n                        if(!connected) {\n                            scope.showDisconnected = false;\n\n                            // Show disconnected after 1/2 second. This removes\n                            // the flicker that can occur, if it disconnecets\n                            // and reconnected quickly.\n                            markDisconnected = $timeout(function() {\n                                scope.showDisconnected = true;\n                                markDisconnected = undefined;\n                            }, 500);\n                        }\n                    }\n\n                    // Set error and whether of not the connection\n                    // has ever been made.\n                    scope.error = RegionConnection.error;\n                    if(!scope.wasConnected && connected) {\n                        scope.wasConnected = true;\n                    }\n                };\n\n                // Watch the isConnected and error value on the\n                // RegionConnection.\n                scope.$watch(function() {\n                    return RegionConnection.isConnected();\n                }, watchConnection);\n                scope.$watch(function() {\n                    return RegionConnection.error;\n                }, watchConnection);\n\n                // Called then the error value on the ErrorService changes.\n                var watchError = function() {\n                    var error = ErrorService._error;\n                    if(angular.isString(error)) {\n                        scope.clientError = true;\n                        scope.error = ErrorService._error;\n                    }\n                };\n\n                // Watch _error on the ErrorService.\n                scope.$watch(function() {\n                    return ErrorService._error;\n                }, watchError);\n\n                // Cancel the timeout on scope destroy.\n                scope.$on(\"$destroy\", function() {\n                    if(angular.isDefined(markDisconnected)) {\n                        $timeout.cancel(markDisconnected);\n                    }\n                });\n            }\n        };\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Error toggle.\n *\n * Hides the element if an error occurs or no connection to the region\n * is present.\n */\n\nangular.module('MAAS').directive('maasErrorToggle', [\n    '$timeout', 'RegionConnection', 'ErrorService',\n    function($timeout, RegionConnection, ErrorService) {\n        return {\n            restrict: \"A\",\n            link: function(scope, element, attrs) {\n\n                // Holds timeout promise for setting ng-hide when\n                // connection is lost.\n                var disconnectedPromise;\n\n                // Cancel the disconnected timeout.\n                var cancelTimeout = function() {\n                    if(angular.isDefined(disconnectedPromise)) {\n                        $timeout.cancel(disconnectedPromise);\n                        disconnectedPromise = undefined;\n                    }\n                };\n\n                // Called to when the connection status of the region\n                // changes or the error on the ErrorService is set.\n                // The element is shown when connected and no errors.\n                var watchConnectionAndError = function() {\n                    var connected = RegionConnection.isConnected();\n                    var error = ErrorService._error;\n                    if(connected && !angular.isString(error)) {\n                        cancelTimeout();\n                        element.removeClass(\"ng-hide\");\n                    } else if(angular.isString(error)) {\n                        cancelTimeout();\n                        element.addClass(\"ng-hide\");\n                    } else if(!connected) {\n                        // Hide the element after 1/2 second. This stops\n                        // flickering when the connection goes down and\n                        // reconnects quickly.\n                        cancelTimeout();\n                        disconnectedPromise = $timeout(function() {\n                            element.addClass(\"ng-hide\");\n                        }, 500);\n                    }\n                };\n\n                // Watch the RegionConnection.isConnected() and\n                // ErrorService._error value.\n                scope.$watch(function() {\n                    return RegionConnection.isConnected();\n                }, watchConnectionAndError);\n                scope.$watch(function() {\n                    return ErrorService._error;\n                }, watchConnectionAndError);\n\n                // Cancel disconnect timeout on destroy.\n                scope.$on(\"$destroy\", function() {\n                    cancelTimeout();\n                });\n            }\n        };\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * IP Ranges directive.\n*/\n\nangular.module('MAAS').directive('maasIpRanges', [\n    '$filter', 'IPRangesManager', 'UsersManager',\n    'ManagerHelperService', 'ConverterService', function(\n        $filter, IPRangesManager, UsersManager, ManagerHelperService,\n        ConverterService) {\n        return {\n            restrict: \"E\",\n            scope: {\n                subnet: \"=\",\n                vlan: \"=\"\n            },\n            templateUrl: (\n                'static/partials/ipranges.html?v=' + (\n                    MAAS_config.files_version)),\n            controller: function($scope, $rootScope, $element, $document) {\n                $scope.loading = true;\n                $scope.ipranges = IPRangesManager.getItems();\n                $scope.iprangeManager = IPRangesManager;\n                $scope.newRange = null;\n                $scope.editIPRange = null;\n                $scope.deleteIPRange = null;\n\n                // Return true if the authenticated user is super user.\n                $scope.isSuperUser = function() {\n                    return UsersManager.isSuperUser();\n                };\n\n                // Called to start adding a new IP range.\n                $scope.addRange = function(type) {\n                    $scope.newRange = {\n                        type: type,\n                        start_ip: \"\",\n                        end_ip: \"\",\n                        comment: \"\"\n                    };\n                    if(angular.isObject($scope.subnet)) {\n                        $scope.newRange.subnet = $scope.subnet.id;\n                    }\n                    if(angular.isObject($scope.vlan)) {\n                        $scope.newRange.vlan = $scope.vlan.id;\n                    }\n                    if(type === \"dynamic\") {\n                        $scope.newRange.comment = \"Dynamic\";\n                    }\n                };\n\n                // Cancel adding the new IP range.\n                $scope.cancelAddRange = function() {\n                    $scope.newRange = null;\n                };\n\n                // Return true if the IP range can be modified by the\n                // authenticated user.\n                $scope.ipRangeCanBeModified = function(range) {\n                    if($scope.isSuperUser()) {\n                        return true;\n                    } else {\n                        // Can only modify reserved and same user.\n                        return (\n                            range.type === \"reserved\" &&\n                            range.user === UsersManager.getAuthUser().id);\n                    }\n                };\n\n                // Return true if the IP range is in edit mode.\n                $scope.isIPRangeInEditMode = function(range) {\n                    return $scope.editIPRange === range;\n                };\n\n                // Toggle edit mode for the IP range.\n                $scope.ipRangeToggleEditMode = function(range) {\n                    $scope.deleteIPRange = null;\n                    if($scope.isIPRangeInEditMode(range)) {\n                        $scope.editIPRange = null;\n                    } else {\n                        $scope.editIPRange = range;\n                    }\n                };\n\n                // Clear edit mode for the IP range.\n                $scope.ipRangeClearEditMode = function() {\n                    $scope.editIPRange = null;\n                };\n\n                // Return true if the IP range is in delete mode.\n                $scope.isIPRangeInDeleteMode = function(range) {\n                    return $scope.deleteIPRange === range;\n                };\n\n                // Enter delete mode for the IP range.\n                $scope.ipRangeEnterDeleteMode = function(range) {\n                    $scope.editIPRange = null;\n                    $scope.deleteIPRange = range;\n                };\n\n                // Exit delete mode for the IP range.\n                $scope.ipRangeCancelDelete = function() {\n                    $scope.deleteIPRange = null;\n                };\n\n                // Perform the delete operation on the IP range.\n                $scope.ipRangeConfirmDelete = function() {\n                    IPRangesManager.deleteItem(\n                        $scope.deleteIPRange).then(function() {\n                            $scope.deleteIPRange = null;\n                    });\n                };\n\n                // Sort ranges by starting IP address.\n                $scope.ipRangeSort = function(range) {\n                    if(range.start_ip.indexOf(':') !== -1) {\n                        return ConverterService.ipv6Expand(range.start_ip);\n                    } else {\n                        return ConverterService.ipv4ToInteger(range.start_ip);\n                    }\n                };\n\n                // Load the reqiured managers.\n                ManagerHelperService.loadManagers($scope, [\n                    IPRangesManager, UsersManager]).then(\n                        function() {\n                            $scope.loading = false;\n                        });\n            }\n        };\n    }]);\n","/* Copyright 2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Login button for external authentication.\n */\n\nangular.module('MAAS').factory('getBakery', function() {\n    return function(visitPage) {\n        return new Bakery(\n            new WebHandler(),\n            new BakeryStorage(localStorage, {}), {visitPage: visitPage});\n    };\n}).directive('externalLogin', ['$window', 'getBakery',\n                               function($window, getBakery) {\n    return {\n        restrict: 'E',\n        scope: {},\n        template: [\n            '<a target=\"_blank\" class=\"p-button--positive\"',\n            '    href=\"{{ loginURL }}\"',\n            '    title=\"Login through {{ externalAuthURL }}\">',\n            '  Go to login page',\n            '</a>',\n            '<div id=\"login-error\" class=\"p-form-validation__message\"',\n            '    ng-if=\"errorMessage\">',\n            '  <strong>Error getting login link:</strong><br>',\n            '  {{ errorMessage }}',\n            '</div>',\n        ].join(''),\n        controller: function($scope, $rootScope, $element, $document) {\n            $scope.errorMessage = '';\n            $scope.loginURL = '#';\n            $scope.externalAuthURL = $element.attr('auth-url');\n\n            const visitPage = function(error) {\n                $scope.$apply(function() {\n                    $scope.loginURL =  error.Info.VisitURL;\n                    $scope.errorMessage = '';\n                });\n            }\n            const bakery = getBakery(visitPage);\n            const nextPath = $element.attr('next-path');\n            bakery.get(\n                '/MAAS/accounts/discharge-request/',\n                {'Accept': 'application/json',\n                 'Content-Type': 'application/json'},\n                function(error, response) {\n                    if (response.currentTarget.status != 200) {\n                        $scope.$apply(function() {\n                            $scope.errorMessage = (\n                                response.currentTarget.responseText);\n                        });\n                    } else {\n                        $window.location.replace(nextPath);\n                    }\n                });\n        }\n    };\n}]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS object directive.\n *\n * Directive that connects a field to an object from the websocket. The field\n * is an instant save on blur.\n */\n\nangular.module('MAAS').directive('maasObjForm', ['JSONService',\n    function(JSONService) {\n        function MAASFormController(scope) {\n            this.obj = scope.obj;\n            this.manager = scope.manager;\n            this.fields = {};\n            this.scope = scope;\n            this.scope.saving = false;\n            this.scope.savingKeys = [];\n            if(angular.isObject(this.scope.obj)) {\n                this.scope.obj.$maasForm = this;\n            }\n\n            // Set the managerMethod.\n            this.managerMethod = scope.managerMethod;\n            if(angular.isUndefined(this.managerMethod)) {\n                this.managerMethod = \"updateItem\";\n            }\n\n            var self = this;\n            scope.$watch(\"obj\", function() {\n                // Update the object when it changes.\n                self.obj = scope.obj;\n                if(angular.isObject(self.obj)) {\n                    self.obj.$maasForm = self;\n                }\n            });\n            scope.$on(\"$destroy\", function() {\n                // Remove the $maasForm from the object when directive is\n                // deleted.\n                if(angular.isObject(self.obj)) {\n                    delete self.obj.$maasForm;\n                }\n            });\n        }\n\n        // Get the current value for a field in the form.\n        MAASFormController.prototype.getValue = function (key) {\n            var field = this.fields[key];\n            if(angular.isObject(field) && angular.isObject(field.scope)) {\n                return field.scope.getValue();\n            }\n        };\n\n        // Update the current value for a field in the form.\n        MAASFormController.prototype.updateValue = function (key, value) {\n            var field = this.fields[key];\n            if(angular.isObject(field) && angular.isObject(field.scope)) {\n                return field.scope.updateValue(value);\n            }\n        };\n\n        // Clone the current object for this form without the $maasForm\n        // property set.\n        MAASFormController.prototype.cloneObject = function() {\n            if(!angular.isObject(this.obj)) {\n                return this.obj;\n            } else {\n                delete this.obj.$maasForm;\n                var clonedObj = angular.copy(this.obj);\n                this.obj.$maasForm = this;\n                return clonedObj;\n            }\n        };\n\n        // Return true if table form.\n        MAASFormController.prototype.isTableForm = function () {\n            if(angular.isUndefined(this.scope.tableForm)) {\n                // Default is not a table form.\n                return false;\n            } else {\n                return this.scope.tableForm;\n            }\n        };\n\n        // Return true if the form should be saved on blur.\n        MAASFormController.prototype.saveOnBlur = function() {\n            if(angular.isUndefined(this.scope.saveOnBlur)) {\n                // Default is save on blur.\n                return true;\n            } else {\n                return this.scope.saveOnBlur;\n            }\n        };\n\n        // Return true if the form is saving this field.\n        MAASFormController.prototype.isSaving = function(key) {\n            return (\n                this.scope.saving && this.scope.savingKeys.indexOf(key) >= 0);\n        };\n\n        // Return true if the input should show the saving spinner. This is\n        // only show on inputs in forms that are using save on blur.\n        MAASFormController.prototype.showInputSaving = function(key) {\n            return this.saveOnBlur() && this.isSaving(key);\n        };\n\n        // Return true if any field in the form as an error.\n        MAASFormController.prototype.hasErrors = function() {\n            var hasErrors = false;\n            angular.forEach(this.fields, function(field) {\n                if(field.scope.hasErrors()) {\n                    hasErrors = true;\n                }\n            });\n            if(angular.isDefined(this.errorScope)) {\n                if(this.errorScope.hasErrors()) {\n                    hasErrors = true;\n                }\n            }\n            return hasErrors;\n        };\n\n        // Called by maas-obj-field to register it as a editable field.\n        MAASFormController.prototype.registerField = function(key, scope) {\n            // Store the state of the field and its scope.\n            this.fields[key] = {\n                editing: false,\n                scope: scope\n            };\n\n            // Watch for changes on the value of the object.\n            var self = this;\n            this.scope.$watch(\"obj.\" + key, function() {\n                if(angular.isObject(self.obj) && !self.fields[key].editing) {\n                    self.fields[key].scope.updateValue(self.obj[key]);\n                }\n            });\n\n            // Return the current value for the field.\n            if(angular.isObject(this.obj)) {\n                return this.obj[key];\n            } else {\n                return null;\n            }\n        };\n\n        // Called by maas-obj-field to unregister it as a editable field.\n        MAASFormController.prototype.unregisterField = function(key) {\n            delete this.fields[key];\n        };\n\n        // Called by maas-obj-field to place field in edit mode.\n        MAASFormController.prototype.startEditingField = function(key) {\n            this.fields[key].editing = true;\n        };\n\n        // Called by maas-obj-field to end edit mode for the field.\n        MAASFormController.prototype.stopEditingField = function(key, value) {\n            var field = this.fields[key];\n\n            // Do nothing if not save on blur.\n            if(!this.saveOnBlur()) {\n                field.editing = false;\n                return;\n            }\n\n            // Clear errors before saving.\n            field.scope.clearErrors();\n\n            // Copy the object and update the editing field.\n            var updatedObj = this.cloneObject();\n            updatedObj[key] = value;\n            if(updatedObj[key] === this.obj[key]) {\n                // Nothing changed.\n                field.editing = false;\n                return;\n            }\n\n            // Update the item in the manager.\n            this.scope.saving = true;\n            this.scope.savingKeys = [key];\n            this.updateItem(updatedObj, [key]);\n        };\n\n        // Update the item using the manager.\n        MAASFormController.prototype.updateItem = function(updatedObj, keys) {\n            var key = keys[0];\n            var field = this.fields[key];\n            var self = this;\n\n            // Pre-process the updatedObj if one is defined.\n            if(angular.isFunction(this.scope.preProcess)) {\n                updatedObj = this.scope.preProcess(updatedObj, keys);\n            }\n\n            // Update the item with the manager.\n            return this.manager[this.managerMethod](\n                updatedObj).then(function(newObj) {\n                    // Update the value of the element.\n                    field.editing = false;\n                    field.scope.updateValue(newObj[key]);\n                    self.scope.saving = false;\n                    self.scope.savingKeys = [];\n                    if(angular.isFunction(self.scope.afterSave)) {\n                        self.scope.afterSave(newObj);\n                    }\n                    return newObj;\n                }, function(error) {\n                    var errorJson = JSONService.tryParse(error);\n                    if(angular.isObject(errorJson)) {\n                        // Add the error to each field it matches.\n                        angular.forEach(errorJson, function(value, key) {\n                            var errorField = self.fields[key];\n                            if(!angular.isArray(value)) {\n                                value = [value];\n                            }\n\n                            if(angular.isObject(errorField)) {\n                                // Error on a field we know about, place the\n                                // error on that field.\n                                errorField.scope.setErrors(value);\n                            } else {\n                                // Error on a field we don't know about, place\n                                // the error on the editing field. Prefixing\n                                // the error with the field.\n                                if(key !== \"__all__\") {\n                                    value = value.map(function(v) {\n                                        return key + \": \" + v;\n                                    });\n                                }\n                                field.scope.setErrors(value);\n                            }\n                        });\n                    } else {\n                        // Add the string error to just the field error.\n                        field.scope.setErrors([error]);\n                    }\n                    self.scope.saving = false;\n                    self.scope.savingKeys = [];\n                    return error;\n                });\n        };\n\n        // Called when saveOnBlur is false to save the whole form.\n        MAASFormController.prototype.saveForm = function () {\n            var keys = [];\n            var updatedObj = this.cloneObject();\n            angular.forEach(this.fields, function(value, key) {\n                value.scope.clearErrors();\n                var newValue = value.scope.getValue();\n                if(angular.isDefined(newValue) &&\n                    updatedObj[key] !== newValue) {\n                    updatedObj[key] = newValue;\n                    keys.push(key);\n                }\n            });\n\n\n            // Pre-process the updatedObj if one is defined.\n            if(angular.isFunction(this.scope.preProcess)) {\n                updatedObj = this.scope.preProcess(updatedObj, keys);\n            }\n\n            // Clear the errors on the errorScope before save.\n            if(angular.isDefined(this.errorScope)) {\n                this.errorScope.clearErrors();\n            }\n\n            var self = this;\n            this.scope.saving = true;\n            this.scope.savingKeys = keys;\n            return this.manager[this.managerMethod](\n                updatedObj).then(function(newObj) {\n                    self.scope.saving = false;\n                    self.scope.savingKeys = [];\n                    if(angular.isFunction(self.scope.afterSave)) {\n                        self.scope.afterSave(newObj);\n                    }\n                    return newObj;\n                }, function(error) {\n                    var errorJson = JSONService.tryParse(error);\n                    if(angular.isObject(errorJson)) {\n                        // Add the error to each field it matches.\n                        angular.forEach(errorJson, function(value, key) {\n                            var errorField = self.fields[key];\n                            if(!angular.isArray(value)) {\n                                value = [value];\n                            }\n\n                            if(angular.isObject(errorField)) {\n                                // Error on a field we know about, place the\n                                // error on that field.\n                                errorField.scope.setErrors(value);\n                            } else {\n                                if(key !== \"__all__\") {\n                                    value = value.map(function(v) {\n                                        return key + \": \" + v;\n                                    });\n                                }\n                                // Error on a field we don't know about, place\n                                // the error on errorScope if set.\n                                if(angular.isDefined(self.errorScope)) {\n                                    self.errorScope.setErrors(value);\n                                } else {\n                                    // No error scope, just log to console.\n                                    console.log(value);\n                                }\n                            }\n                        });\n                    } else {\n                        // Add the string error to just the field error.\n                        if(angular.isDefined(self.errorScope)) {\n                            self.errorScope.setErrors([error]);\n                        } else {\n                            // No error scope, just log to console.\n                            console.log(error);\n                        }\n                    }\n                    self.scope.saving = false;\n                    self.scope.savingKeys = [];\n                    return error;\n                });\n        };\n\n        return {\n            restrict: \"E\",\n            scope: {\n                obj: \"=\",\n                manager: \"=\",\n                managerMethod: \"@\",\n                preProcess: \"=\",\n                afterSave: \"=\",\n                tableForm: \"=\",\n                saveOnBlur: \"=\",\n                inline: \"=\",\n                ngDisabled: \"&\"\n            },\n            transclude: true,\n            template: (\n                '<form class=\"p-form\" data-ng-class=\"{saving: saving, ' +\n                '\\'p-form--inline\\': inline, ' +\n                '\\'p-form--stacked\\': tableForm}\" ' +\n                'ng-transclude></form>'),\n            controller: ['$scope', MAASFormController]\n        };\n    }]);\n\nangular.module('MAAS').directive('maasObjFieldGroup', ['JSONService',\n    function(JSONService) {\n        // Controller for this directive.\n        function MAASGroupController(scope, timeout) {\n            this.fields = {};\n            this.scope = scope;\n            this.scope.saving = false;\n            this.scope.savingKeys = [];\n            this.timeout = timeout;\n\n            var self = this;\n            this.scope.isEditing = function() {\n                var editing = false;\n                angular.forEach(self.fields, function(value) {\n                    if(!editing) {\n                        editing = value.editing;\n                    }\n                });\n                return editing;\n            };\n        }\n\n        // Return true if table form.\n        MAASGroupController.prototype.isTableForm = function () {\n            return this.formController.isTableForm();\n        };\n\n        // Return true if should save on blur.\n        MAASGroupController.prototype.saveOnBlur = function () {\n            return this.formController.saveOnBlur();\n        };\n\n        // Return true if group is saving.\n        MAASGroupController.prototype.isSaving = function(key) {\n            return (\n                this.scope.saving && this.scope.savingKeys.indexOf(key) >= 0);\n        };\n\n        // Return true if the input should show the saving spinner. This is\n        // only show on inputs in forms that are using save on blur.\n        MAASGroupController.prototype.showInputSaving = function(key) {\n            // In a group we say the entire group is saving, not just that\n            // one key in the field is being saved.\n            return this.saveOnBlur() && this.scope.saving;\n        };\n\n        // Called by maas-obj-field to register it as a editable field.\n        MAASGroupController.prototype.registerField = function(key, scope) {\n            // Store the state of the field and its scope.\n            this.fields[key] = {\n                editing: false,\n                scope: scope\n            };\n            return this.formController.registerField(key, scope);\n        };\n\n        // Called by maas-obj-field to unregister it as a editable field.\n        MAASGroupController.prototype.unregisterField = function(key) {\n            delete this.fields[key];\n            this.formController.unregisterField(key);\n        };\n\n        // Called by maas-obj-field to place field in edit mode.\n        MAASGroupController.prototype.startEditingField = function(key) {\n            this.fields[key].editing = true;\n\n            // Set all fields in the group as editing in the formController.\n            var self = this;\n            angular.forEach(this.fields, function(value, key) {\n                self.formController.startEditingField(key);\n            });\n        };\n\n        // Called by maas-obj-field to exit edit mode for the field.\n        MAASGroupController.prototype.stopEditingField = function(key, value) {\n            var field = this.fields[key];\n            field.editing = false;\n\n            // Exit early if not save on blur.\n            if(!this.saveOnBlur()) {\n                return;\n            }\n\n            // Delay the handling of stop to make sure start is not called on\n            // the next field in the group.\n            var self = this;\n            this.timeout(function() {\n                // If any other fields are in edit mode then nothing to do.\n                var editing = false;\n                angular.forEach(self.fields, function(value) {\n                    if(!editing) {\n                        editing = value.editing;\n                    }\n                });\n                if(editing) {\n                    return;\n                }\n\n                // Copy the object and update the editing fields.\n                var keys = [];\n                var changed = false;\n                var updatedObj = self.formController.cloneObject();\n                angular.forEach(self.fields, function(value, key) {\n                    value.scope.clearErrors();\n                    var newValue = value.scope.getValue();\n                    if(angular.isDefined(newValue) &&\n                        updatedObj[key] !== newValue) {\n                        keys.push(key);\n                        updatedObj[key] = newValue;\n                        changed = true;\n                    }\n                });\n                if(!changed) {\n                    return;\n                }\n\n                // Place the field that actually triggered the update first.\n                var keyIdx = keys.indexOf(key);\n                if(keyIdx !== -1) {\n                    keys.splice(keyIdx, 1);\n                    keys.splice(0, 0, key);\n                }\n\n                // Save the object.\n                self.scope.saving = true;\n                self.scope.savingKeys = keys;\n                self.formController.updateItem(updatedObj, keys).then(\n                    function(obj) {\n                      self.scope.saving = false;\n                      self.scope.savingKeys = [];\n                      return obj;\n                  }, function(error) {\n                      self.scope.saving = false;\n                      self.scope.savingKeys = [];\n                      return error;\n                  });\n            }, 10); // Really short has to be next click.\n        };\n\n        return {\n            restrict: \"E\",\n            require: [\"^^maasObjForm\", \"maasObjFieldGroup\"],\n            scope: {},\n            transclude: true,\n            template: (\n                '<div class=\"form__siblings\" ' +\n                'data-ng-class=\"{\\'is-active\\': isEditing()}\" ' +\n                'data-ng-transclude></div>'),\n            controller: ['$scope', '$timeout', MAASGroupController],\n            link: {\n                pre: function(scope, element, attrs, controllers) {\n                    // Set formController on the MAASGroupController to\n                    // point to its parent MAASFormController. This is done in\n                    // pre-link so the controller has the formController before\n                    // registerField is called.\n                    controllers[1].formController = controllers[0];\n\n                    // Set ngDisabled on this scope from the form controller.\n                    scope.ngDisabled = controllers[0].scope.ngDisabled;\n\n                    // Set the object to always be the same on the scope.\n                    controllers[0].scope.$watch(\"obj\", function(obj) {\n                        scope.obj = obj;\n                    });\n                }\n            }\n        };\n    }]);\n\nangular.module('MAAS').directive('maasObjField', ['$compile',\n    function($compile) {\n        return {\n            restrict: \"E\",\n            require: [\"^^maasObjForm\", \"?^^maasObjFieldGroup\"],\n            scope: {\n                onChange: \"=\",\n                subtleText: \"@\"\n            },\n            transclude: true,\n            template: (\n                '<div data-ng-transclude></div>'),\n            link: function(scope, element, attrs, controllers) {\n                // Select the controller based on which is available.\n                var controller = controllers[1];\n                if(!angular.isObject(controller)) {\n                    controller = controllers[0];\n                }\n\n                // Set ngDisabled from the parent controller.\n                scope.ngDisabled = controller.scope.ngDisabled;\n\n                element.addClass(\"p-form__group\");\n                if(attrs.subtle !== \"false\") {\n                    element.addClass(\"form__group--subtle\");\n                }\n\n                // type and key required.\n                var missingAttrs = [];\n                if(!angular.isString(attrs.type) || attrs.type.length === 0) {\n                    missingAttrs.push(\"type\");\n                }\n                if(!angular.isString(attrs.key) || attrs.key.length === 0) {\n                    missingAttrs.push(\"key\");\n                }\n                if(missingAttrs.length > 0) {\n                    throw new Error(\n                        missingAttrs.join(\", \") +\n                        \" are required on maas-obj-field.\");\n                }\n                if(angular.isString(attrs.disabled)) {\n                    scope.ngDisabled = function() { return true; };\n                }\n\n                // Remove transcluded element.\n                element.find(\"div\").remove();\n\n                // Render the label.\n                var label = attrs.label || attrs.key;\n\n                if(attrs.disableLabel !== \"true\" &&\n                        !(attrs.type === \"hidden\")) {\n                    var labelElement = angular.element('<label/>');\n                    labelElement.attr('for', attrs.key);\n                    labelElement.text(label);\n                    labelElement.addClass('p-form__label');\n                    if(attrs.labelWidth) {\n                        labelElement.addClass(\"col-\" + attrs.labelWidth);\n\n                        if(attrs.labelWidthMobile) {\n                            labelElement.addClass(\"mobile-col-\"\n                                + attrs.labelWidthMobile);\n                        }\n                        if(attrs.labelWidthTablet) {\n                            labelElement.addClass(\"tablet-col-\"\n                                + attrs.labelWidthTablet);\n                        }\n                    }\n                    if(attrs.labelLeft === \"true\") {\n                        labelElement.addClass('u-padding--left');\n                        labelElement.addClass('u-position--relative');\n                    }\n                    element.append(labelElement);\n\n                    // Add a label info icon with tooltip.\n                    if(angular.isString(attrs.labelInfo)\n                            && attrs.labelInfo.length > 0) {\n                        var infoWrapper = angular.element(\n                            '<span>&nbsp;</span>');\n                        infoWrapper.addClass('p-tooltip p-tooltip--btm-right');\n\n                        var infoIcon = angular.element('<i/>');\n                        infoIcon.addClass('p-icon--information');\n                        infoIcon.attr(\n                            'aria-describedby', attrs.key + '-tooptip');\n\n                        var infoTooltip = angular.element('<p></p>');\n                        infoTooltip.addClass('p-tooltip__message');\n                        infoTooltip.text(attrs.labelInfo);\n                        infoTooltip.attr('id', attrs.key + '-tooptip');\n\n                        infoWrapper.append(infoIcon);\n                        infoWrapper.append(infoTooltip);\n\n                        labelElement.append(infoWrapper);\n\n                        // prevents the icon from being clickable\n                        infoIcon.bind('click', function (evt) {\n                            evt.preventDefault();\n                        });\n                    }\n                }\n\n                // Add the wrapper for the input.\n                var inputWrapper = angular.element('<div></div>');\n                inputWrapper.addClass(\"p-form__control\");\n\n                if(attrs.inputWidthMobile) {\n                    inputWrapper.addClass(\"mobile-col-\"\n                        + attrs.inputWidthMobile);\n                }\n                if(attrs.inputWidthTablet) {\n                    inputWrapper.addClass(\"tablet-col-\"\n                        + attrs.inputWidthTablet);\n                }\n                if(attrs.inputWidth) {\n                    inputWrapper.addClass(\"col-\"\n                        + attrs.inputWidth);\n                }\n\n                // Render the input based on the type.\n                var placeholder = attrs.placeholder || label;\n                var inputElement = null;\n                if(attrs.type === \"text\" || attrs.type === \"textarea\" ||\n                   attrs.type === \"password\") {\n                    if(attrs.type === \"text\") {\n                        inputElement = $compile(\n                            '<input type=\"text\" id=\"' + attrs.key +\n                            '\" placeholder=\"' + placeholder + '\"' +\n                            'data-ng-disabled=\"ngDisabled()\">')(scope);\n                    } else if(attrs.type === \"textarea\") {\n                        inputElement = $compile(\n                            '<textarea id=\"' + attrs.key +\n                            '\" placeholder=\"' + placeholder + '\"' +\n                            'data-ng-disabled=\"ngDisabled()\">' +\n                                '</textarea>')(scope);\n                    } else if(attrs.type === \"password\") {\n                        inputElement = $compile(\n                            '<input type=\"password\" id=\"' + attrs.key +\n                            '\" placeholder=\"' + placeholder + '\"' +\n                            'data-ng-disabled=\"ngDisabled()\">')(scope);\n                    }\n\n                    // Allow enter on blur, by default.\n                    if(attrs.blurOnEnter) {\n                        inputElement.bind(\"keydown keypress\", function(evt) {\n                            if(evt.which === 13) {\n                                inputElement.blur();\n                                evt.preventDefault();\n                            }\n                        });\n                    }\n\n                    // Revert value on esc.\n                    var self = this;\n                    inputElement.bind(\"keydown keypress\", function(evt) {\n                        if(evt.which === 27) {\n                            inputElement.val(controller.scope.obj[attrs.key]);\n                            inputElement.blur();\n                            evt.preventDefault();\n                        }\n                    });\n\n                    // Set input value if 'value' attr provided\n                    if(attrs.value) {\n                        scope.$applyAsync(function() {\n                            inputElement.val(attrs.value);\n                        });\n                    }\n\n                    // Register the field with the controller and set the\n                    // current value for the field.\n                    var currentValue = controller.registerField(\n                        attrs.key, scope);\n                    inputElement.val(currentValue);\n\n                    // When element is in focus then editing is on.\n                    inputElement.on(\"focus\", function() {\n                        scope.$apply(function() {\n                            controller.startEditingField(attrs.key);\n                        });\n                    });\n\n                    // When element is not in focus then editing is done.\n                    inputElement.on(\"blur\", function() {\n                        scope.$apply(function() {\n                            controller.stopEditingField(\n                                attrs.key, inputElement.val());\n                        });\n                    });\n\n                    // Called by controller to update the value.\n                    scope.updateValue = function(newValue) {\n                        inputElement.val(newValue);\n                    };\n\n                    // Called by controller to get the value.\n                    scope.getValue = function() {\n                        return inputElement.val();\n                    };\n                } else if(attrs.type === \"options\") {\n                    // Requires the options attribute on the element. This\n                    // is copied directly into the ngOptions directive on\n                    // the select.\n                    var options = attrs.options;\n                    if(!angular.isString(options) || options.length === 0) {\n                        throw new Error(\n                            \"options attribute is required on type \" +\n                            \"'options' on maas-obj-field.\");\n                    }\n\n                    // Placeholder by default is disabled, allow it to be\n                    // enabled.\n                    var disabled = \"disabled\";\n                    if(attrs.placeholderEnabled === \"true\") {\n                        disabled = \"\";\n                    }\n\n                    // Create a child scope of the parent scope for this\n                    // directive. Since this directive is created with an\n                    // isolated scope we need the child to use the parent so\n                    // ngOptions can use properties defined in that scope.\n                    var childScope = scope.$parent.$new();\n                    childScope._ngDisabled = scope.ngDisabled;\n                    childScope._selectValue = controller.registerField(\n                        attrs.key, scope);\n                    childScope._selectNgChange = function() {\n                        scope._change();\n                        controller.stopEditingField(\n                            attrs.key, childScope._selectValue);\n                    };\n\n                    // Construct the select.\n                    inputElement = $compile(\n                        '<select id=\"' + attrs.key + '\" ' +\n                        'data-ng-model=\"_selectValue\" ' +\n                        'data-ng-options=\"' + options + '\"' +\n                        'data-ng-change=\"_selectNgChange()\"' +\n                        'data-ng-disabled=\"_ngDisabled()\">' +\n                        '<option value=\"\" ' + disabled + '>' + placeholder +\n                        '</option></select>')(childScope);\n\n                    // Called by controller to update the value.\n                    scope.updateValue = function(newValue) {\n                        childScope._selectValue = newValue;\n                    };\n\n                    // Called by controller to get the value.\n                    scope.getValue = function() {\n                        return childScope._selectValue;\n                    };\n                } else if(attrs.type === \"checkboxes\") {\n                    // Requires the values attribute on the element.\n                    var values = attrs.values;\n                    if(!angular.isString(values) || values.length === 0) {\n                        throw new Error(\n                            \"values attribute is required on type \" +\n                            \"'checkboxes' on maas-obj-field.\");\n                    }\n\n                    // Create a child scope of the parent scope for this\n                    // directive. Since this directive is created with an\n                    // isolated scope we need the child to use the parent so\n                    // values can come from the parent scope.\n                    var checkScope = scope.$parent.$new();\n                    checkScope._selectedValues = controller.registerField(\n                        attrs.key, scope);\n                    checkScope._checked = function(val) {\n                        return checkScope._selectedValues.indexOf(val) > -1;\n                    };\n                    checkScope._toggleChecked = function(val) {\n                        var idx = checkScope._selectedValues.indexOf(val);\n                        if(idx > -1) {\n                            // Uncheck.\n                            checkScope._selectedValues.splice(idx, 1);\n                        } else {\n                            // Check.\n                            checkScope._selectedValues.push(val);\n                        }\n                    };\n\n                    // Construct the checkbox list.\n                    inputElement = angular.element([\n                        '<div class=\"width--full\" ',\n                            'data-ng-repeat=\"val in ' + values +'\">',\n                            '<input id=\"' + attrs.key + '_' + '{$ val $}',\n                                '\" type=\"checkbox\" value=\"{$ val $}\" ',\n                                'class=\"checkbox\" ',\n                                'data-ng-checked=\"_checked(val)\" ',\n                                'data-ng-click=\"_toggleChecked(val)\">',\n                            '<label for=\"' + attrs.key + '_',\n                                '{$ val $}' + '\" ',\n                                'class=\"checkbox-label\">{$ val $}</label>',\n                        '</div>'\n                    ].join(''));\n                    inputElement = $compile(inputElement)(checkScope);\n\n                    // Called by controller to update the value.\n                    scope.updateValue = function(newValue) {\n                        checkScope._selectedValues = newValue;\n                    };\n\n                    // Called by controller to get the value.\n                    scope.getValue = function() {\n                        return checkScope._selectedValues;\n                    };\n                } else if(attrs.type === \"tags\") {\n                    var tagsScope = scope.$new();\n                    var tags = controller.registerField(\n                        attrs.key, scope);\n                    tagsScope._tags = tags.map(function(val) {\n                        return {text: val};\n                    });\n\n                    // Construct the tags input.\n                    inputElement = angular.element([\n                        '<span data-ng-if=\"ngDisabled()\" ',\n                            'data-ng-repeat=\"tag in _tags\">',\n                            '{$ tag.text $} </span>',\n                        '<tags-input id=\"' + attrs.key + '\" ',\n                            'data-ng-model=\"_tags\" ',\n                            'data-ng-if=\"!ngDisabled()\" ',\n                            'placeholder=\"' + placeholder + '\" ',\n                            'data-ng-change=\"_change()\" ',\n                            'allow-tags-pattern=\"[\\\\w-]+\"></tags-input>'\n                    ].join(''));\n                    inputElement = $compile(inputElement)(tagsScope);\n\n                    // Called by controller to update the value.\n                    scope.updateValue = function(newValue) {\n                        tagsScope._tags = newValue.map(\n                            function(val) {\n                                return {text: val};\n                            });\n                    };\n\n                    // Called by controller to get the value.\n                    scope.getValue = function() {\n                        return tagsScope._tags.map(\n                            function(val) {\n                                return val.text;\n                            });\n                    };\n                } else if(attrs.type === \"hidden\") {\n                    var hiddenScope = scope.$new();\n                    hiddenScope._toggle = controller.registerField(\n                        attrs.key, scope);\n                    inputElement = angular.element([\n                        '<input type=\"hidden\" name=\"' + attrs.key + '\" ',\n                        'id=\"' + attrs.key + '\" ',\n                        'value=\"' + attrs.value + '\">',\n                        '</input>'\n                    ].join(''));\n                    inputElement = $compile(inputElement)(hiddenScope);\n                    scope.getValue = function() { return attrs.value; };\n                    scope.updateValue = function() { return null; };\n                } else if(attrs.type === \"onoffswitch\") {\n                    var switchScope = scope.$new();\n                    switchScope._toggle = controller.registerField(\n                        attrs.key, scope);\n                    switchScope._changed = function() {\n                        scope._change();\n                        controller.startEditingField(attrs.key);\n                        controller.stopEditingField(\n                            attrs.key, switchScope.getValue());\n                    };\n\n                    // Construct the on and off toggle.\n                    inputElement = angular.element([\n                      '<div class=\"maas-p-switch\">',\n                        '<input type=\"checkbox\" name=\"' + attrs.key + '\" ',\n                          'class=\"maas-p-switch--input\" ',\n                          'id=\"' + attrs.key + '\" ',\n                          'data-ng-model=\"_toggle\" ',\n                          'data-ng-change=\"_changed()\">',\n                        '<div class=\"maas-p-switch--mask\"></div>',\n                      '</div>'\n                    ].join(''));\n                    inputElement = $compile(inputElement)(switchScope);\n\n                    // Called by controller to update the value.\n                    scope.updateValue = function(newValue) {\n                        // WARNING: This code is difficult to unit test, since\n                        // we could not figure out how to get the\n                        // isolateScope() from the transcluded element. Be sure\n                        // to manually test versions of this toggle with and\n                        // without the on-value and off-value attributes, such\n                        // as by verifying that both the on/off toggle on both\n                        // the discovery page and the subnet details page work.\n                        if(attrs.onValue && attrs.onValue === newValue) {\n                            switchScope._toggle = true;\n                        } else if(attrs.offValue &&\n                                attrs.offValue === newValue) {\n                            switchScope._toggle = false;\n                        } else {\n                            switchScope._toggle = newValue;\n                        }\n                    };\n\n                    // Called by controller to get the value.\n                    scope.getValue = function() {\n                        // WARNING: This code is difficult to unit test, since\n                        // we could not figure out how to get the\n                        // isolateScope() from the transcluded element. Be sure\n                        // to manually test versions of this toggle with and\n                        // without the on-value and off-value attributes, such\n                        // as by verifying that both the on/off toggle on both\n                        // the discovery page and the subnet details page work.\n                        if(switchScope._toggle) {\n                            if(attrs.onValue) {\n                                return attrs.onValue;\n                            } else {\n                                return true;\n                            }\n                        } else {\n                            if(attrs.offValue) {\n                                return attrs.offValue;\n                            } else {\n                                return false;\n                            }\n                        }\n                    };\n                } else if(attrs.type == \"slider\") {\n                    var sliderScope = scope.$new();\n                    sliderScope._slider = controller.registerField(\n                        attrs.key, scope);\n                    sliderScope._ngDisabled = scope.ngDisabled;\n\n                    // Construct the tags input.\n                    inputElement = angular.element([\n                        '<div class=\"p-slider__wrapper\">',\n                        '<input class=\"p-slider\" type=\"range\"',\n                        'min=\"' + attrs.min + '\" max=\"' + attrs.max + '\" ',\n                        'value=\"1\" step=\"1\" id=\"' + attrs.key + '\" ',\n                        'data-ng-model=\"_slider\" data-ng-disabled=\"',\n                        '_ngDisabled()\">',\n                        '<input class=\"p-slider__input\" type=\"text\" ',\n                        'maxlength=\"3\" id=\"' + attrs.key + '-input\" ',\n                        'data-ng-model=\"_slider\" data-ng-disabled=\"',\n                        '_ngDisabled()\"></div>'\n                    ].join(''));\n                    inputElement = $compile(inputElement)(sliderScope);\n\n                    // Called by controller to update the value.\n                    scope.updateValue = function(newValue) {\n                        sliderScope._slider = newValue;\n                    };\n\n                    // Called by controller to get the value.\n                    scope.getValue = function() {\n                        return sliderScope._slider;\n                    };\n                } else {\n                    throw new Error(\n                        \"Unknown type on maas-obj-field: \" + attrs.type);\n                }\n\n                // Called on change.\n                scope._change = function() {\n                    if(angular.isFunction(scope.onChange)) {\n                        scope.onChange(\n                            attrs.key,\n                            controller.getValue(attrs.key),\n                            controller);\n                    }\n                };\n\n                // Copy input class to the input element.\n                if(attrs.inputClass) {\n                    inputElement.addClass(attrs.inputClass);\n                }\n                inputWrapper.append(inputElement);\n\n                // Errors element.\n                var errorsElement = angular.element(\n                    '<ul class=\"p-list u-no-margin--top\"></ul>');\n                if(!controller.isTableForm()) {\n                    errorsElement.addClass(\"form__error\");\n                }\n                inputWrapper.append(errorsElement);\n\n                // Help text elements\n                if (attrs.helpText) {\n                    var helpTextElement = angular.element(\n                        '<p>' + attrs.helpText + '</p>');\n                    helpTextElement.addClass(\"p-form-help-text\");\n                    inputWrapper.append(helpTextElement);\n                }\n\n                // Called by controller to clear all errors.\n                scope.clearErrors = function() {\n                    inputElement.removeClass(\"ng-dirty\");\n                    inputElement.removeClass(\"p-form-validation__input\");\n                    inputWrapper.removeClass(\"p-form-validation\");\n                    inputWrapper.removeClass(\"is-error\");\n                    inputWrapper.removeClass(\"u-no-margin--top\");\n                    errorsElement.empty();\n                };\n\n                // Called by controller to set errors.\n                scope.setErrors = function(errors) {\n                    if(errors.length > 0) {\n                        inputWrapper.addClass(\"p-form-validation\");\n                        inputWrapper.addClass(\"is-error\");\n                        inputWrapper.addClass(\"u-no-margin--top\");\n                        inputElement.addClass(\"ng-dirty\");\n                        inputElement.addClass(\"p-form-validation__input\");\n                        angular.forEach(errors, function(error) {\n                            errorsElement.append(\n                              '<li class=\"p-form-validation__message\">' +\n                              '<strong>Error:</strong> ' + error + '</li>'\n                            );\n                        });\n                        // Set the input in focus but outside of the current\n                        // digest cycle.\n                        setTimeout(function() {\n                            inputElement.focus();\n                        }, 1);\n                    }\n                };\n\n                // Called by controller to see if error is set on field.\n                scope.hasErrors = function() {\n                    return inputWrapper.hasClass(\"is-error\");\n                };\n\n                // Subtle text element.\n                if(attrs.subtleText) {\n                    var subtleTextElement = $compile(\n                        angular.element(\n                            '<span class=\"p-form-help-text\" ' +\n                            'data-ng-bind=\"subtleText\"></span>'))(scope);\n                    inputWrapper.append(subtleTextElement);\n                }\n                element.append(inputWrapper);\n\n                // Watch the showing of saving spinner. Update the elements\n                // correctly to show the saving.\n                scope.$watch(function() {\n                    return controller.showInputSaving(attrs.key);\n                }, function(value) {\n                    if(value) {\n                        inputWrapper.children(\n                            ':first').addClass('u-border--information');\n                        inputWrapper.append(\n                            '<i class=\"obj-saving icon ' +\n                            'p-icon--spinner u-animation--spin\"></i>');\n                        inputWrapper.addClass('p-tooltip');\n                        inputWrapper.addClass('p-tooltip--bottom');\n                        inputWrapper.addClass('u-no-margin--top');\n                        inputWrapper.attr('aria-label', 'Saving');\n                    } else {\n                      inputWrapper.children(\n                          ':first').removeClass('u-border--information');\n                        inputWrapper.find('i.obj-saving').remove();\n                        inputWrapper.removeClass('p-tooltip');\n                        inputWrapper.removeClass('p-tooltip--right');\n                        inputWrapper.addClass('u-no-margin--top');\n                        inputWrapper.removeAttr('aria-label');\n                    }\n                });\n\n                // Called when the scope is destroyed.\n                scope.$on(\"$destroy\", function() {\n                    controller.unregisterField(attrs.key);\n                });\n            }\n        };\n    }]);\n\nangular.module('MAAS').directive('maasObjSave', function() {\n        return {\n            restrict: \"A\",\n            require: [\"^^maasObjForm\"],\n            scope: {},\n            link: function(scope, element, attrs, controllers) {\n                // Only allow maas-obj-save when saveOnBlur is false.\n                var controller = controllers[0];\n                if(controller.saveOnBlur()) {\n                    throw new Error(\n                        \"maas-obj-save is only allowed when save-on-blur is \" +\n                        \"set to false.\");\n                }\n\n                element.on(\"click\", function() {\n                    scope.$apply(function() {\n                        controller.saveForm();\n                    });\n                });\n            }\n        };\n    });\n\nangular.module('MAAS').directive('maasObjErrors', function() {\n        return {\n            restrict: \"E\",\n            require: [\"^^maasObjForm\"],\n            scope: {},\n            template: '<ul class=\"p-list u-no-margin--top\"></ul>',\n            link: function(scope, element, attrs, controllers) {\n                // Set on the controller the global error handler.\n                controllers[0].errorScope = scope;\n                var ul = element.find(\"ul\");\n\n                // Called by controller to clear all errors.\n                scope.clearErrors = function() {\n                    ul.empty();\n                };\n\n                // Called by controller to set errors.\n                scope.setErrors = function(errors) {\n                    if(errors.length > 0) {\n                        angular.forEach(errors, function(error) {\n                            ul.append(\n                              '<li class=\"p-list__item\">' +\n                              '<i class=\"p-icon--error\"></i> ' +\n                              error + '</li>'\n                            );\n                        });\n                    }\n                };\n\n                // Called by controller to see if error is set on field.\n                scope.hasErrors = function() {\n                    return ul.children().length > 0;\n                };\n            }\n        };\n    });\n\n\nangular.module('MAAS').directive('maasObjSaving', function() {\n        return {\n            restrict: \"E\",\n            require: \"^^maasObjForm\",\n            scope: {},\n            transclude: true,\n            template: [\n              '<span data-ng-if=\"saving\">',\n                '<i class=\"p-icon--loading u-animation--spin\"></i>',\n                '<span data-ng-transclude></span>',\n              '</span>'].join(''),\n            link: function(scope, element, attrs, controller) {\n                scope.saving = false;\n                scope.$watch(function() {\n                    return controller.scope.saving;\n                }, function(value) {\n                    scope.saving = value;\n                });\n            }\n        };\n    });\n\n\nangular.module('MAAS').directive('maasObjShowSaving', function() {\n        return {\n            restrict: \"A\",\n            require: \"^^maasObjForm\",\n            link: function(scope, element, attrs, controller) {\n                scope.$watch(function() {\n                    return controller.scope.saving;\n                }, function(value) {\n                    if(value) {\n                        element.removeClass(\"ng-hide\");\n                    } else {\n                        element.addClass(\"ng-hide\");\n                    }\n                });\n            }\n        };\n    });\n\n\nangular.module('MAAS').directive('maasObjHideSaving', function() {\n        return {\n            restrict: \"A\",\n            require: \"^^maasObjForm\",\n            link: function(scope, element, attrs, controller) {\n                scope.$watch(function() {\n                    return controller.scope.saving;\n                }, function(value) {\n                    if(value) {\n                        element.addClass(\"ng-hide\");\n                    } else {\n                        element.removeClass(\"ng-hide\");\n                    }\n                });\n            }\n        };\n    });\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Creates the auto-formatting for MAC address inputs.\n */\n\nangular.module('MAAS').directive('macAddress', function () {\n    return {\n        restrict: \"A\",\n        require: \"ngModel\",\n        link: function (scope, ele, attr, ngModelCtrl, ngModel) {\n            if (!ngModelCtrl) {\n              return;\n            }\n\n            var macAddressParse = function (value) {\n                return value.toUpperCase();\n            };\n\n            var macAddressFormat = function (value) {\n\n                if (!value) {\n                  return undefined;\n                }\n\n                var numbers = value.replace(/:/g, \"\");\n\n                if (value.length % 3 === 0) {\n\n                    return numbers.replace(/([0-9A-Za-z]{2})/g, \"$1:\");\n                }\n            };\n\n            ngModelCtrl.$parsers.push(macAddressParse);\n            ngModelCtrl.$formatters.push(macAddressFormat);\n\n            ele.on('input', function () {\n                var value = macAddressFormat(ele.val());\n\n                if (value !== undefined) {\n                    ngModelCtrl.$setViewValue(value);\n                    ngModelCtrl.$render();\n                }\n                scope.$apply();\n            });\n        }\n    };\n});\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n* GNU Affero General Public License version 3 (see the file LICENSE).\n*\n* Machines listing directive.\n*\n* Renders the machines listing.\n*/\n// testing\n\n\n\nangular.module('MAAS').directive('maasMachinesTable', [\n  'MachinesManager', 'GeneralManager', 'ManagerHelperService',\n  function (MachinesManager, GeneralManager, ManagerHelperService) {\n    return {\n      restrict: \"E\",\n      scope: {\n        search: \"=\",\n        ngDisabled: \"&\",\n        machineHasError: \"&\",\n        hideCheckboxes: \"=?\",\n        onListingChange: \"&\",\n        onCheckAll: \"&\",\n        onCheck: \"&\"\n      },\n      templateUrl: (\n        'static/partials/machines-table.html?v=' + (\n          MAAS_config.files_version)),\n      link: function(scope, element, attrs) {\n        // Statuses that should show spinner.\n        var SPINNER_STATUSES = [\n          1,   // commissioning\n          9,   // deploying\n          12,  // releasing\n          14,  // disk erasing\n          17,  // entering rescue mode\n          19,  // exiting rescue mode\n          21   // testing\n        ];\n\n        // Scope variables.\n        scope.table = {\n          column: 'fqdn',\n          predicate: 'fqdn',\n          reverse: false,\n          allViewableChecked: false,\n          machines: MachinesManager.getItems(),\n          filteredMachines: [],\n          osinfo: GeneralManager.getData(\"osinfo\")\n        };\n\n        // Ensures that the checkbox for select all is the correct value.\n        scope.updateAllChecked = function() {\n          // Not checked when the filtered machines are empty.\n          if(scope.table.filteredMachines.length === 0) {\n              scope.table.allViewableChecked = false;\n              return;\n          }\n\n          // Loop through all filtered machines and see if all are checked.\n          var i;\n          for(i = 0; i < scope.table.filteredMachines.length; i++) {\n              if(!scope.table.filteredMachines[i].$selected) {\n                  scope.table.allViewableChecked = false;\n                  return;\n              }\n          }\n          scope.table.allViewableChecked = true;\n        };\n\n        // Selects and deselects visible machines.\n        scope.toggleCheckAll = function() {\n          if(scope.table.allViewableChecked) {\n            angular.forEach(\n              scope.table.filteredMachines, function(machine) {\n                MachinesManager.unselectItem(machine.system_id);\n              });\n          } else {\n            angular.forEach(\n              scope.table.filteredMachines, function(machine) {\n                MachinesManager.selectItem(machine.system_id);\n              });\n          }\n          scope.updateAllChecked();\n          scope.onCheckAll();\n        };\n\n        // Selects and unselects machine.\n        scope.toggleChecked = function(machine) {\n          if(MachinesManager.isSelected(machine.system_id)) {\n            MachinesManager.unselectItem(machine.system_id);\n          } else {\n            MachinesManager.selectItem(machine.system_id);\n          }\n          scope.updateAllChecked();\n          scope.onCheck({$machine: machine});\n        };\n\n        // Sorts the table by predicate.\n        scope.sortTable = function(predicate) {\n            scope.table.predicate = predicate;\n            scope.table.reverse = !scope.table.reverse;\n        };\n\n        // Sets the viewable column or sorts.\n        scope.selectColumnOrSort = function(predicate) {\n            if(scope.table.column !== predicate) {\n                scope.table.column = predicate;\n            } else {\n                scope.sortTable(predicate);\n            }\n        };\n\n        // Return true if spinner should be shown.\n        scope.showSpinner = function(machine) {\n            return SPINNER_STATUSES.indexOf(machine.status_code) > -1;\n        };\n\n        scope.showFailedTestWarning = function(machine) {\n            if(scope.showSpinner(machine)) {\n                return false;\n            }\n            switch(machine.status_code) {\n                // NEW\n                case 0:\n                // COMMISSIONING\n                case 1:\n                // FAILED_COMMISSIONING\n                case 2:\n                // TESTING\n                case 21:\n                // FAILED_TESTING\n                case 22:\n                    return false;\n            }\n            switch(machine.testing_status) {\n                // Tests havn't been run\n                case -1:\n                // Tests have passed\n                case 2:\n                    return false;\n            }\n            return true;\n        };\n\n        // Return true if the other node status should be shown.\n        scope.showNodeStatus = function(machine) {\n            // -1 means tests havn't been run, 2 means tests have passed.\n            if(!scope.showSpinner(machine) &&\n               !scope.showFailedTestWarning(machine) &&\n               machine.other_test_status !== -1 &&\n               machine.other_test_status !== 2) {\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        // Returns the release title from osinfo.\n        scope.getReleaseTitle = function(os_release) {\n          if(angular.isArray(scope.table.osinfo.releases)) {\n            for(i = 0; i < scope.table.osinfo.releases.length; i++) {\n              var release = scope.table.osinfo.releases[i];\n              if(release[0] === os_release) {\n                return release[1];\n              }\n            }\n          }\n          return os_release;\n        };\n\n        // Returns the status text to show.\n        scope.getStatusText = function(machine) {\n          var showRelease = ['Deploying', 'Deployed'];\n          if(showRelease.indexOf(machine.status) === -1) {\n            return machine.status;\n          } else {\n            var releaseTitle = scope.getReleaseTitle(\n              machine.osystem + '/' + machine.distro_series);\n            if(machine.osystem === \"ubuntu\") {\n              releaseTitle = releaseTitle.split('\"')[0].trim();\n            }\n            if(machine.status === \"Deployed\") {\n              return releaseTitle;\n            }\n            if(machine.status === \"Deploying\") {\n              return machine.status + ' ' + releaseTitle;\n            }\n          }\n        };\n\n        // When the list of filtered machines change update the all checkbox.\n        scope.$watchCollection(\"table.filteredMachines\", function() {\n          scope.updateAllChecked();\n          scope.onListingChange({$machines: scope.table.filteredMachines});\n        });\n      }\n    };\n}]);\n","/* Copyright 2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Navigation directive.\n *\n * Provides the navigation interactions on all screen sizes\n */\n\n\nangular.module('MAAS').directive(\n  'maasNavigationDropdown', ['$document', function($document) {\n  return {\n    restrict: \"A\",\n    link: function(scope, element, attrs) {\n\n      element.on('click', function(e) {\n        e.stopPropagation();\n        element.parent().find('.p-dropdown__menu').toggleClass('u-hide');\n      });\n\n      $document.on('click', function() {\n        element.parent().find('.p-dropdown__menu').addClass('u-hide');\n      });\n    }\n  };\n}]);\n","/* Copyright 2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Navigation directive.\n *\n * Provides the navigation interactions on all screen sizes\n */\n\n\nangular.module('MAAS').directive(\n  'maasNavigationMobile', ['$document', function($document) {\n  return {\n    restrict: \"A\",\n    link: function(scope, element, attrs) {\n\n      element.on('click', function(e) {\n        e.stopPropagation();\n        var mobileNavMenu = element.parent().parent().find('#mobile-nav-menu');\n        mobileNavMenu.toggleClass('u-show');\n      });\n    }\n  };\n}]);\n","/* 'thin' directive, ~50% more performant than ng-include */\nangular.module('MAAS').directive('storageDisksPartitions', function() {\n    const path = 'static/partials/nodedetails/storage/disks-partitions.html';\n    return {\n        restrict: 'E',\n        templateUrl: `${path}?v=${MAAS_config.files_version}`\n    };\n});\n","/* 'thin' directive, ~50% more performant than ng-include */\nangular.module('MAAS').directive('storageFilesystems', function() {\n    const path = 'static/partials/nodedetails/storage/filesystems.html';\n    return {\n        restrict: 'E',\n        templateUrl: `${path}?v=${MAAS_config.files_version}`\n    };\n});\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Notifications.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject notifications.html into the template cache.\n    $templateCache.put('directive/templates/notifications.html', [\n      '<div class=\"u-no-margin--top\" data-ng-repeat=\"category in categories\"',\n        ' data-ng-init=\"notifications = categoryNotifications[category]\">',\n        // 1 notification.\n        '<span class=\"row\" data-ng-if=\"notifications.length == 1\">',\n          '<ul class=\"p-list\" data-ng-class=\"{\\'is-open\\': shown}\">',\n            '<li data-ng-repeat=\"notification in notifications\"',\n            ' class=\"p-notification\"',\n            ' data-ng-class=\"categoryClasses[notification.category]\">',\n              '<p class=\"p-notification__response\">',\n                '<span data-ng-bind-html=\"notification.message\"></span> ',\n                '<a class=\"p-notification__action\"',\n                ' data-ng-click=\"dismiss(notification)\">Dismiss</a>',\n              '</p>',\n            '</li>',\n          '</ul>',\n        '</span>',\n        // 2 or more notifications.\n        '<div class=\"row p-notification--group\" ',\n             'data-ng-if=\"notifications.length >= 2\"',\n        ' data-ng-init=\"shown = false\">',\n            '<div data-ng-class=\"categoryClasses[notifications[0].category]\">',\n                '<a aria-label=\"{$ notifications.length $} ',\n                    '{$ categoryTitles[category] $}, click to open messages.\"',\n                    ' maas-enter=\"shown = !shown\"',\n                    ' class=\"p-notification__toggle\"',\n                    ' data-ng-click=\"shown = !shown\">',\n                    '<p class=\"p-notification__response\">',\n                        '<span class=\"p-notification__status\"',\n                        ' data-count=\"{$ notifications.length $}\"',\n                        ' data-ng-bind=\"notifications.length + \\' \\' + ',\n                                       'categoryTitles[category]\"></span>',\n                        '<small>',\n                        '<i data-ng-class=\"{ \\'p-icon--expand\\': !shown,',\n                        ' \\'p-icon--collapse\\': shown }\"></i></small>',\n                    '</p>',\n                '</a>',\n                '<ul class=\"p-list--divided\" ',\n                    'data-ng-class=\"{\\'u-hide\\': !shown}\">',\n                    '<li data-ng-repeat=\"notification in notifications\"',\n                    ' class=\"p-list__item\">',\n                    '<p class=\"p-notification__response\">',\n                        '<span data-ng-bind-html=\"notification.message\">',\n                        '</span> ',\n                        '<a class=\"p-notification__action\"',\n                        ' data-ng-click=\"dismiss(notification)\">Dismiss</a>',\n                    '</p>',\n                    '</li>',\n                '</ul>',\n            '</div>',\n        '</div>',\n      '</div>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasNotifications', [\n    \"NotificationsManager\", \"ManagerHelperService\",\n    function(NotificationsManager, ManagerHelperService) {\n        return {\n            restrict: \"E\",\n            templateUrl: 'directive/templates/notifications.html',\n            link: function($scope, element, attrs) {\n                ManagerHelperService.loadManager($scope, NotificationsManager);\n                $scope.notifications = NotificationsManager.getItems();\n                $scope.dismiss = angular.bind(\n                    NotificationsManager, NotificationsManager.dismiss);\n\n                $scope.categories = [\n                    \"error\",\n                    \"warning\",\n                    \"success\",\n                    \"info\"\n                ];\n                $scope.categoryTitles = {\n                    error: \"Errors\",\n                    warning: \"Warnings\",\n                    success: \"Successes\",\n                    info: \"Other messages\"\n                };\n                $scope.categoryClasses = {\n                    error: \"p-notification--negative\",\n                    warning: \"p-notification--caution\",\n                    success: \"p-notification--positive\",\n                    info: \"p-notification\"  // No suffix.\n                };\n                $scope.categoryNotifications = {\n                    error: [],\n                    warning: [],\n                    success: [],\n                    info: []\n                };\n\n                $scope.$watchCollection(\n                    \"notifications\", function() {\n                        var cns = $scope.categoryNotifications;\n                        angular.forEach(\n                            $scope.categories, function(category) {\n                                cns[category].length = 0;\n                            }\n                        );\n                        angular.forEach(\n                            $scope.notifications, function(notification) {\n                                cns[notification.category].push(notification);\n                            }\n                        );\n                    }\n                );\n            }\n        };\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * OS/Release select directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the os-select.html into the template cache.\n    $templateCache.put('directive/templates/os-select.html', [\n        '<ul class=\"p-inline-list--settings u-no-margin--top u-no-margin--left',\n            ' u-no-padding--left\">',\n            '<li class=\"p-inline-list__item\"> ',\n                '<label class=\"p-form__label\">Choose your image</label>',\n            '</li>',\n            '<li class=\"p-inline-list__item\"> ',\n                '<select name=\"os\" ',\n                    'data-ng-model=\"ngModel.osystem\" ',\n                    'data-ng-change=\"selectedOSChanged()\" ',\n                    'data-ng-options=\"',\n                    'os[0] as os[1] for os in maasOsSelect.osystems\">',\n                '</select>',\n            '</li>',\n            '<li class=\"p-inline-list__item\"> ',\n                '<select name=\"release\" ',\n                    'data-ng-model=\"ngModel.release\" ',\n                    'data-ng-change=\"selectedReleaseChanged()\" ',\n                    'data-ng-options=\"',\n                    'release[0] as release[1] for release in releases\">',\n                '</select>',\n            '</li>',\n            '<li class=\"p-inline-list__item\"> ',\n                '<select name=\"hwe_kernel\" data-ng-model=\"ngModel.hwe_kernel\" ',\n                    'data-ng-show=\"hwe_kernels.length\"',\n                    'data-ng-options=\"',\n                    'hwe_kernel[0] as hwe_kernel[1] for hwe_kernel ',\n                    'in hwe_kernels\">',\n                    '<option value=\"\">Default kernel</option>',\n                '</select>',\n            '</li>',\n        '</ul>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasOsSelect', function() {\n    return {\n        restrict: \"A\",\n        require: \"ngModel\",\n        scope: {\n            maasOsSelect: '=',\n            ngModel: '='\n        },\n        templateUrl: 'directive/templates/os-select.html',\n        controller: function($scope) {\n\n            // Return only the selectable releases based on the selected os.\n            function getSelectableReleases() {\n                if(angular.isObject($scope.maasOsSelect) &&\n                    angular.isArray($scope.maasOsSelect.releases)) {\n                    var i, allChoices = $scope.maasOsSelect.releases;\n                    var choice, choices = [];\n                    for(i = 0; i < allChoices.length; i++) {\n                        choice = allChoices[i];\n                        if(choice[0].indexOf($scope.ngModel.osystem + '/') > -1)\n                        {\n                            choices.push(choice);\n                        }\n                    }\n                    return choices;\n                }\n                return [];\n            }\n\n            // Return only the selectable kernels based on the selected os.\n            function getSelectableKernels() {\n                if(angular.isObject($scope.maasOsSelect) &&\n                    angular.isObject($scope.maasOsSelect.kernels) &&\n                    angular.isString($scope.ngModel.osystem) &&\n                    angular.isString($scope.ngModel.release)) {\n                    var os = $scope.ngModel.osystem;\n                    var release = $scope.ngModel.release.split('/')[1];\n                    var osKernels = $scope.maasOsSelect.kernels[os];\n                    if(angular.isObject(osKernels)) {\n                        return osKernels[release];\n                    }\n                }\n                return [];\n            }\n\n            // Returns the defaultValue if its in the choices array. Otherwise\n            // it returns the weighted choice if present, followed by the\n            // first choice.\n            function getDefaultOrFirst(array, defaultValue, weightValue) {\n                var i, first, weightedPresent = false;\n                for(i = 0; i < array.length; i++) {\n                    if(angular.isUndefined(first)) {\n                        first = array[i][0];\n                    }\n                    if(array[i][0] === defaultValue) {\n                        return defaultValue;\n                    }\n                    if(angular.isString(weightValue) &&\n                        array[i][0] === weightValue) {\n                        weightedPresent = true;\n                    }\n                }\n                if(weightedPresent) {\n                    return weightValue;\n                }\n                if(angular.isUndefined(first)) {\n                    return null;\n                }\n                return first;\n            }\n\n            // Sets the default selected values for the ngModel. Only sets the\n            // values once the maasOsSelect is populated. Sets the selected\n            // osystem to default_osystem if present, followed by 'ubuntu' if\n            // present, followed by the first available. Sets the selected\n            // release to the default_release if present, followed by the first\n            // available.\n            function setDefault() {\n                // Do nothing if model is already set.\n                if(angular.isString($scope.ngModel.osystem) &&\n                    angular.isString($scope.ngModel.release)) {\n                    return;\n                }\n                // Do nothing if the default is not set.\n                if(angular.isUndefined($scope.maasOsSelect.default_osystem) ||\n                    angular.isUndefined($scope.maasOsSelect.default_release)) {\n                    return;\n                }\n\n                // Set the intial defaults.\n                $scope.ngModel.osystem = getDefaultOrFirst(\n                    $scope.maasOsSelect.osystems,\n                    $scope.maasOsSelect.default_osystem, \"ubuntu\");\n                $scope.releases = getSelectableReleases();\n                $scope.ngModel.release = getDefaultOrFirst(\n                    $scope.releases,\n                    $scope.ngModel.osystem + \"/\" +\n                    $scope.maasOsSelect.default_release);\n                $scope.ngModel.kernel = \"\";\n            }\n\n            // Defaults\n            if(!angular.isObject($scope.ngModel)) {\n                $scope.ngModel = {\n                    osystem: null,\n                    release: null,\n                    hwe_kernel: null\n                };\n            }\n            $scope.releases = getSelectableReleases();\n            $scope.hwe_kernels = getSelectableKernels();\n\n            // Add the reset function to ngModel, allowing users to call\n            // this function to reset the defauls.\n            $scope.ngModel.$reset = function() {\n                $scope.ngModel.osystem = null;\n                $scope.ngModel.release = null;\n                $scope.ngModel.hwe_kernel = null;\n                setDefault();\n            };\n\n            // If the available os change update the available releases and\n            // set the default.\n            $scope.$watch(\"maasOsSelect.releases\", function() {\n                $scope.releases = getSelectableReleases();\n                setDefault();\n            });\n\n            // If the available release change update the available kernels and\n            // set the default.\n            $scope.$watch(\"maasOsSelect.kernels\", function() {\n                $scope.hwe_kernels = getSelectableKernels();\n                setDefault();\n            });\n\n            // Updates the default and selectable releases.\n            $scope.selectedOSChanged = function() {\n                $scope.releases = getSelectableReleases();\n                $scope.hwe_kernels = getSelectableKernels();\n                $scope.ngModel.release = null;\n                $scope.ngModel.hwe_kernel = null;\n                if($scope.releases.length > 0) {\n                    $scope.ngModel.release = $scope.releases[0][0];\n                }\n            };\n\n            // Updates the default and selectable kernels.\n            $scope.selectedReleaseChanged = function() {\n                $scope.hwe_kernels = getSelectableKernels();\n                $scope.ngModel.hwe_kernel = null;\n            };\n        }\n    };\n});\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Placeholder directive.\n *\n * Allows the placeholder attribute on an element to be dynamic.\n */\n\n\nangular.module('MAAS').directive('ngPlaceholder', function() {\n    return {\n        restrict: \"A\",\n        scope: {\n            ngPlaceholder: \"=\"\n        },\n        link: function(scope, element, attrs) {\n            scope.$watch('ngPlaceholder', function() {\n                element[0].placeholder = scope.ngPlaceholder;\n            });\n        }\n    };\n});\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Pod parameters directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the power-parameters.html into the template cache.\n    $templateCache.put('directive/templates/pod-parameters.html', [\n        '<maas-obj-field type=\"options\" key=\"type\" label=\"Pod type\" ',\n          'placeholder=\"Select the pod type\" ',\n          'options=\"type.name as type.description for type in podTypes\" ',\n          'ng-if=\"!hideType\">',\n        '</maas-obj-field>',\n        '<div pod-fields></div>'\n    ].join(''));\n}]);\n\n\nangular.module('MAAS').directive(\n    'maasPodParameters', [\n        '$compile', 'GeneralManager', 'ManagerHelperService', function(\n        $compile, GeneralManager, ManagerHelperService) {\n    return {\n        restrict: \"E\",\n        require: \"^^maasObjForm\",\n        scope: {\n          hideType: '='\n        },\n        templateUrl: 'directive/templates/pod-parameters.html',\n        link: function(scope, element, attrs, controller) {\n            scope.powerTypes = GeneralManager.getData('power_types');\n            scope.podTypes = [];\n            scope.type = null;\n\n            var childScope, fieldsElement = angular.element(\n                element.find('div[pod-fields]'));\n\n            // Function to update the editable fields.\n            var updateFields = function(podType) {\n                var type = null;\n                var i;\n                for(i = 0; i < scope.podTypes.length; i++) {\n                    if(scope.podTypes[i].name === podType) {\n                      type = scope.podTypes[i];\n                    }\n                }\n\n                fieldsElement.empty();\n                if(childScope) {\n                  childScope.$destroy();\n                }\n                if(angular.isObject(type)) {\n                  var html = '<maas-obj-field-group>';\n                  angular.forEach(type.fields, function(field) {\n                      if(field.scope === 'bmc') {\n                          if(field.name === 'power_pass') {\n                              html += (\n                                  '<maas-obj-field type=\"password\" key=\"');\n                          } else {\n                              html += (\n                                  '<maas-obj-field type=\"text\" key=\"');\n                          }\n                          html += (field.name + '\" label=\"' + field.label +\n                            '\" label-width=\"2\" label-width-tablet=\"2\" '\n                            + 'input-width=\"4\" input-width-tablet=\"3\">'\n                            + '</maas-obj-field>');\n                      }\n                  });\n\n                  if(type.name === 'virsh' && attrs.hideSlider !== \"true\") {\n                      html += (\n                          '<maas-obj-field type=\"slider\" key=\"' +\n                          'cpu_over_commit_ratio\" label=\"CPU over commit\" ' +\n                          'min=\"0\" max=\"10\" label-width=\"2\" '\n                          + 'label-width-tablet=\"2\" input-width=\"4\" '\n                          + 'input-width-tablet=\"3\">' +\n                          '</maas-obj-field>');\n                      html += (\n                          '<maas-obj-field type=\"slider\" key=\"' +\n                          'memory_over_commit_ratio\" label=\"' +\n                          'Memory over commit\" min=\"0\" max=\"10\" ' +\n                          'label-width=\"2\" label-width-tablet=\"2\" ' +\n                          'input-width=\"4\" input-width-tablet=\"3\">' +\n                          '</maas-obj-field>');\n                  }\n                  html += '</maas-obj-field-group>';\n                  childScope = scope.$new();\n                  var ele = angular.element(html);\n                  fieldsElement.append(ele);\n                  $compile(ele)(\n                      childScope, undefined, {maasObjForm: controller});\n                }\n            };\n\n            // Return the selected type.\n            var getType = function() {\n                if(scope.hideType) {\n                    return controller.obj.type;\n                } else {\n                    return controller.getValue('type');\n                }\n            };\n\n            // Update the fields when the type changes.\n            scope.$watch(getType, updateFields);\n\n            // Update the pod types when the power types is updated.\n            scope.$watchCollection(\"powerTypes\", function() {\n                scope.podTypes.length = 0;\n                angular.forEach(scope.powerTypes, function(type) {\n                    if(type.driver_type === \"pod\") {\n                        scope.podTypes.push(type);\n                    }\n                });\n                updateFields(getType());\n            });\n\n            // Load the general manager.\n            ManagerHelperService.loadManager(scope, GeneralManager);\n        }\n    };\n}]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Power parameters directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the power-parameters.html into the template cache.\n    $templateCache.put('directive/templates/power-parameters.html', [\n        '<div class=\"p-form__group u-clearfix\">',\n            '<label for=\"power-type\" ',\n                    'class=\"p-form__label col-2 mobile-col-2 tablet-col-2\">',\n                        'Power type',\n                    '</label>',\n            '<div class=\"p-form__control col-3 mobile-col-2 tablet-col-3\">',\n                '<select name=\"power-type\" id=\"power-type\" ',\n                    'data-ng-disabled=\"ngDisabled || ngModel.in_pod\" ',\n                    'data-ng-class=\"{ invalid: !ngModel.type }\" ',\n                    'data-ng-model=\"ngModel.type\" ',\n                    'data-ng-options=\"',\n                    'type as type.description ',\n                    'for type in maasPowerParameters track by type.name\">',\n                    '<option value=\"\" disabled selected>',\n                        'Select your power type',\n                    '</option>',\n                '</select>',\n            '</div>',\n        '</div>',\n        '<div class=\"p-form__group u-clearfix\" ',\n            'data-ng-repeat=\"field in ngModel.type.fields\">',\n            '<label for=\"{$ field.name $}\" ',\n                'class=\"p-form__label col-2 mobile-col-2 tablet-col-2\" ',\n                'data-ng-if=\"field.name !== ' + \"'default_storage_pool' && \",\n                \"(field.scope !== 'bmc' || !ngModel.in_pod)\" + '\">',\n                '{$ field.label $}',\n            '</label>',\n            '<div class=\"p-form__control col-3 mobile-col-2 tablet-col-3\">',\n                '<maas-power-input field=\"field\" ',\n                    'data-ng-disabled=\"ngDisabled || (field.scope === ',\n                    \"'bmc' && ngModel.in_pod)\" + '\" ',\n                    'data-ng-if=\"field.name !== ' + \"'default_storage_pool' \",\n                    \"&& (field.scope !== 'bmc' || !ngModel.in_pod)\" + '\" ',\n                    'data-ng-model=\"ngModel.parameters[field.name]\">',\n            '</div>',\n        '</div>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasPowerInput', ['$compile',\n    function($compile) {\n        return {\n            restrict: \"E\",\n            require: \"ngModel\",\n            scope: {\n                field: '=',\n                ngModel: '='\n            },\n            link: function(scope, element, attrs) {\n                var type = scope.field.field_type;\n                var req = scope.field.required ? 'required=\"required\" ' : '';\n                var html = \"\";\n                if(type === \"string\" || type === \"mac_address\" ||\n                   type === \"password\") {\n                    // Build an input element with the correct attributes.\n                    var input_type = 'type=\"text\"';\n                    if(type === \"password\") {\n                        // If the input field is a password field, display it\n                        // as text or password depending on if we're editing\n                        // the fields.\n                        input_type = \"data-ng-type=\\\"ngModel.editing && \" +\n                            \"'text' || 'password'\\\"\";\n                    }\n                    html =\n                        '<input ' + input_type + ' ' +\n                        'name=\"' + scope.field.name + '\" ' +\n                        req + 'data-ng-model=\"' + attrs.ngModel + '\" ' +\n                        'data-ng-disabled=\"' + attrs.ngDisabled + '\" ';\n\n                    // Add mac address validation.\n                    if(type === \"mac_address\") {\n                        html +=\n                            'data-ng-pattern=\"' +\n                            '/^([0-9A-Fa-f]{2}:){5}([0-9A-Fa-f]{2})$/\"';\n                    }\n                    html += '>';\n\n                    // Set the default value for the input on the model.\n                    if(angular.isUndefined(scope.ngModel)) {\n                        scope.ngModel = scope.field[\"default\"];\n                    }\n                } else if(type === \"choice\") {\n                    // Build a select element with the correct attributes.\n                    html =\n                        '<select name=\"' + scope.field.name + '\"' +\n                        req + 'data-ng-model=\"' + attrs.ngModel + '\" ' +\n                        'data-ng-disabled=\"' + attrs.ngDisabled + '\" ' +\n                        'data-ng-options=\"' +\n                        'choice[0] as choice[1] for choice in field.choices' +\n                        '\">';\n                    html += '</select>';\n\n                    // Set the default choice on the model.\n                    if(angular.isUndefined(scope.ngModel)) {\n                        if(scope.field[\"default\"]) {\n                            scope.ngModel = scope.field[\"default\"];\n                        }\n                    }\n                } else {\n                    throw new Error(\"Unknown power_type: \"+ type);\n                }\n\n                // Replace the element with the compiled html using the parents\n                // scope. The parent scope is used because we want to build the\n                // element as if it was in the parent scope, not the scope that\n                // is defined in this directive.\n                element.replaceWith($compile(html)(scope.$parent));\n            }\n        };\n    }]);\n\nangular.module('MAAS').directive('maasPowerParameters', function() {\n    return {\n        restrict: \"A\",\n        require: \"ngModel\",\n        scope: {\n            maasPowerParameters: '=',\n            ngModel: '=',\n            ngDisabled: '='\n        },\n        templateUrl: 'directive/templates/power-parameters.html'\n    };\n});\n","/* Copyright 2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * User preferences MAAS key\n *\n * Provides the interactivity of the MAAS key section of the user profile.\n */\n\n\nangular.module('MAAS')\n.directive('maasPrefKeys',\n    ['$q', 'RegionConnection', 'UsersManager',\n    function($q, RegionConnection, UsersManager) {\n        return {\n            restrict: \"A\",\n            controller: function() {\n                var self = this;\n\n                self.addKey = function() {\n                    var defer = $q.defer();\n                    RegionConnection.defaultConnect().then(function() {\n                        UsersManager.createAuthorisationToken().then(\n                            function(token) {\n                                if(self.injector) {\n                                    self.injector(token);\n                                }\n                                defer.resolve(token);\n                            });\n                    });\n                    return defer.promise;\n                };\n\n                self.deleteKey = function(key) {\n                    RegionConnection.defaultConnect().then(function() {\n                        UsersManager.deleteAuthorisationToken(key);\n                    });\n                };\n            }\n        };\n    }])\n.directive('maasPrefKeysInject',\n    ['$compile', '$templateCache',\n    function($compile, $templateCache) {\n        return {\n            restrict: 'A',\n            require: '^maasPrefKeys',\n            scope: {\n                template: '@maasPrefKeysInject'\n            },\n            link: function($scope, $element, $attrs, controller) {\n                var template = $templateCache.get($scope.template);\n                if(!template) {\n                    throw new Error(\n                        \"Unable to load template: \" + $scope.template);\n                }\n\n                // Set the injector on the controller.\n                controller.injector = function(token) {\n                    var newScope = $scope.$new();\n                    newScope.token = token;\n\n                    var newElement = angular.element(template);\n                    $element.append(newElement);\n                    $compile(newElement)(newScope);\n                };\n            }\n        };\n    }])\n.directive('maasPrefKeysAdd', function() {\n    return {\n        restrict: 'A',\n        require: '^maasPrefKeys',\n        link: function($scope, $element, $attrs, controller) {\n            var spinner = (\n                '<i class=\"p-icon--spinner u-animation--spin\"></i>');\n\n            $element.on('click', function(evt) {\n                evt.preventDefault();\n\n                // Add the spinner.\n                var spinElement = angular.element(spinner);\n                $element.prepend(spinElement);\n\n                // Add the new key.\n                $scope.$apply(function() {\n                    controller.addKey().then(function() {\n                        // Remove the spinner.\n                        spinElement.remove();\n                    });\n                });\n            });\n        }\n    };\n})\n.directive('maasPrefKey', function() {\n    return {\n        restrict: 'A',\n        require: '^maasPrefKeys',\n        scope: {\n            'key': '@maasPrefKey'\n        },\n        controller: ['$scope', '$element', function($scope, $element) {\n            var self = this;\n\n            self.deleteKey = function() {\n                $scope.prefsController.deleteKey($scope.key);\n\n                // Delete self.\n                $scope.$destroy();\n                $element.remove();\n            };\n        }],\n        link: function($scope, $element, $attrs, controller) {\n            // Needed so the controller of this directive can get the parent\n            // controller.\n            $scope.prefsController = controller;\n        }\n    };\n})\n.directive('maasPrefKeyDelete', function() {\n    return {\n        restrict: 'A',\n        require: '^maasPrefKey',\n        link: function($scope, $element, $attrs, controller) {\n            $element.on('click', function(evt) {\n                evt.preventDefault();\n\n                $scope.$apply(function() {\n                    controller.deleteKey();\n                });\n            });\n        }\n    };\n});\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Proxy settings directive.\n*/\n\nangular.module('MAAS').directive('maasProxySettings', [\n    '$sce', 'ConfigsManager', 'ManagerHelperService', 'JSONService',\n    function($sce, ConfigsManager, ManagerHelperService, JSONService) {\n        return {\n            restrict: \"E\",\n            scope: {},\n            templateUrl: 'static/partials/proxy-settings.html',\n            controller: function($scope, $rootScope, $element, $document) {\n                $scope.loading = true;\n                ManagerHelperService.loadManager(\n                    $scope, ConfigsManager).then(function() {\n                    $scope.loading = false;\n                    $scope.httpProxy = ConfigsManager.getItemFromList(\n                        \"http_proxy\");\n                    $scope.enableHttpProxy = ConfigsManager.getItemFromList(\n                        \"enable_http_proxy\");\n                    $scope.usePeerProxy = ConfigsManager.getItemFromList(\n                        \"use_peer_proxy\");\n                    if ($scope.enableHttpProxy.value) {\n                        if ($scope.httpProxy.value) {\n                            if ($scope.usePeerProxy.value) {\n                                $scope.proxy_type = \"peer-proxy\";\n                            } else {\n                                $scope.proxy_type = \"external-proxy\";\n                            }\n                        } else {\n                            $scope.proxy_type = \"builtin-proxy\";\n                        }\n                    } else {\n                        $scope.proxy_type = \"no-proxy\";\n                    }\n                });\n            }\n        };\n    }]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Release name.\n *\n * Converts the provided release name into the release title.\n */\n\n\nangular.module('MAAS').directive('maasReleaseName', [\n    'GeneralManager', 'ManagerHelperService',\n    function(GeneralManager, ManagerHelperService) {\n    return {\n        restrict: \"A\",\n        scope: {\n          releaseName: \"=maasReleaseName\"\n        },\n        link: function(scope, element, attrs) {\n            scope.osinfo = GeneralManager.getData(\"osinfo\");\n\n            // Gets the release name.\n            var getName = function() {\n                if(angular.isArray(scope.osinfo.releases)) {\n                  for(i = 0; i < scope.osinfo.releases.length; i++) {\n                      var release = scope.osinfo.releases[i];\n                      if(release[0] === scope.releaseName) {\n                          return release[1];\n                      }\n                  }\n                }\n                return scope.releaseName;\n            };\n\n            // Sets the text inside the element.\n            var setText = function() {\n                element.text(getName());\n            };\n\n            // Update the text when the release name or osinfo changes.\n            scope.$watch('releaseName', function() {\n              setText();\n            });\n            scope.$watchCollection('osinfo.releases', function() {\n              setText();\n            });\n        }\n    };\n}]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Release options directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the release-options.html into the template cache.\n    $templateCache.put('directive/templates/release-options.html', [\n        '<ul class=\"p-inline-list--settings u-no-margin--top\">',\n            '<li class=\"p-inline-list__item\">',\n                '<input id=\"diskErase\" ',\n                    'type=\"checkbox\" data-ng-model=\"maasReleaseOptions.erase\" ',\n                    'data-ng-disabled=\"globalOptions.erase\" ',\n                    'data-ng-change=\"onEraseChange()\">',\n                '<label for=\"diskErase\">',\n                    'Erase disks before releasing',\n                '</label>',\n            '</li>',\n            '<li class=\"p-inline-list__item\">',\n                '<input id=\"secureErase\" ',\n                    'type=\"checkbox\" ',\n                    'data-ng-model=\"maasReleaseOptions.secureErase\" ',\n                    'data-ng-disabled=\"!maasReleaseOptions.erase\">',\n                '<label for=\"secureErase\">',\n                    'Use secure erase',\n                '</label>',\n            '</li>',\n            '<li class=\"p-inline-list__item\">',\n                '<input id=\"quickErase\" type=\"checkbox\" ',\n                    'data-ng-model=\"maasReleaseOptions.quickErase\" ',\n                    'data-ng-disabled=\"!maasReleaseOptions.erase\">',\n                '<label for=\"quickErase\">',\n                    'Use quick erase (not secure)',\n                '</label>',\n            '</li>',\n        '</ul>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasReleaseOptions', [\n    'GeneralManager', function(GeneralManager) {\n        return {\n            restrict: \"A\",\n            scope: {\n                maasReleaseOptions: '='\n            },\n            templateUrl: 'directive/templates/release-options.html',\n            link: function(scope, element, attrs) {\n                // On click of enabling erasing set the others to the\n                // global default value.\n                scope.onEraseChange = function() {\n                    if(scope.maasReleaseOptions.erase) {\n                        scope.maasReleaseOptions.secureErase = (\n                            scope.globalOptions.secure_erase);\n                        scope.maasReleaseOptions.quickErase = (\n                            scope.globalOptions.quick_erase);\n                    } else {\n                        scope.maasReleaseOptions.secureErase = false;\n                        scope.maasReleaseOptions.quickErase = false;\n                    }\n                };\n\n                // Watch the global options. Once set update the defaults\n                // of maasReleaseOptions.\n                scope.globalOptions = GeneralManager.getData(\n                    \"release_options\");\n                scope.$watch('globalOptions', function() {\n                    if(angular.isDefined(scope.globalOptions.erase)) {\n                        // Set the initial defauls for the release options.\n                        scope.maasReleaseOptions.erase = (\n                            scope.globalOptions.erase);\n                        scope.onEraseChange();\n                    }\n                }, true);\n            }\n        };\n    }]);\n","/* Copyright 2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Script expander\n *\n * Expands a scripts content.\n */\n\n\nangular.module('MAAS').directive('pScriptExpander', function() {\n    return {\n        restrict: \"C\",\n        link: function($scope, $element, $attrs) {\n            var link = $element.find('.p-script-expander__trigger');\n            var target = $element.find('.p-script-expander__content');\n            target.addClass('u-hide');\n\n            link.on('click', function(evt) {\n                evt.preventDefault();\n                target.toggleClass('u-hide');\n            });\n        }\n    };\n});\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n* GNU Affero General Public License version 3 (see the file LICENSE).\n*\n* Script results listing directive.\n*\n*/\n\nangular.module('MAAS').directive('maasScriptResultsList', function() {\n    return {\n        templateUrl: (\n        'static/partials/script-results-list.html?v=' + (\n            MAAS_config.files_version))\n    };\n});\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Script runtime counter directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the script_runtime.html into the template cache.\n    $templateCache.put('directive/templates/script_runtime.html', [\n        '<span data-ng-if=\"(scriptStatus === 1 || scriptStatus === 7) &&',\n        \" estimatedRunTime !== 'Unknown'\" + '\">{{counter}} of ',\n        '~{{estimatedRunTime}}</span>',\n        '<span data-ng-if=\"(scriptStatus === 1 || scriptStatus === 7) &&',\n        \" estimatedRunTime == 'Unknown'\" + '\">{{counter}}</span>',\n        '<span data-ng-if=\"scriptStatus === 0 && estimatedRunTime !== ',\n        \"'Unknown'\" + '\">~{{estimatedRunTime}}</span>',\n        '<span data-ng-if=\"scriptStatus !== 0 && scriptStatus !== 1 ',\n        '&& scriptStatus !== 7\">{{runTime}}</span>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasScriptRunTime', function() {\n    return {\n        restrict: \"A\",\n        require: [\"startTime\", \"runTime\", \"estimatedRunTime\", \"scriptStatus\"],\n        scope: {\n            startTime: '=',\n            runTime: '@',\n            estimatedRunTime: '@',\n            scriptStatus: '='\n        },\n        templateUrl: 'directive/templates/script_runtime.html',\n        controller: function($scope, $interval) {\n            $scope.counter = \"0:00:00\";\n\n            function incrementCounter() {\n                if(($scope.scriptStatus === 1 || $scope.scriptStatus === 7) &&\n                    $scope.startTime) {\n                    var seconds = Math.floor(\n                        (Date.now() / 1000) - $scope.startTime);\n                    var minutes = Math.floor(seconds / 60);\n                    var hours = Math.floor(minutes / 60);\n                    var days = Math.floor(hours / 24);\n                    hours = hours - (days * 24);\n                    minutes = minutes - (days * 24 * 60) - (hours * 60);\n                    seconds = seconds - (days * 24 * 60 * 60) -\n                        (hours * 60 * 60) - (minutes * 60);\n                    var new_counter = \"\";\n                    // This outputs the same format used by Python. It is\n                    // import to use the same format as when scripts are not\n                    // running runtime is taken from the region using Python's\n                    // format.\n                    if(days === 1) {\n                        new_counter = days + \" day, \";\n                    }else if(days > 1) {\n                        new_counter = days + \" days, \";\n                    }\n                    new_counter += hours + \":\";\n                    if(minutes < 10) {\n                        new_counter += \"0\" + minutes + \":\";\n                    } else {\n                        new_counter += minutes + \":\";\n                    }\n                    if(seconds < 10) {\n                        new_counter += \"0\" + seconds;\n                    } else {\n                        new_counter += seconds;\n                    }\n                    $scope.counter = new_counter;\n                }\n            }\n\n            // Update the counter on init, start the interval and stop it when\n            // the directive is destroyed.\n            incrementCounter();\n            var promise = $interval(incrementCounter, 1000);\n            $scope.$on('$destroy', function() {\n              $interval.cancel(promise);\n            });\n        }\n    };\n});\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Script select directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the script-select.html into the template cache.\n    $templateCache.put('directive/templates/script-select.html', [\n        '<tags-input data-ng-model=\"ngModel\" placeholder=\"Select scripts\" ',\n                'key-property=\"id\" display-property=\"name\" min-length=1',\n                'on-tag-adding=\"onTagAdding($tag)\" spellcheck=\"false\"',\n                'add-from-autocomplete-only=\"true\" on-tag-removed=\"refocus()\"',\n                'on-tag-adding=\"onTagAdding($tag)\" on-tag-added=\"refocus()\">',\n            '<auto-complete source=\"getScripts($query)\" min-length=\"0\" ',\n                    'load-on-down-arrow=\"true\" load-on-focus=\"true\" ',\n                    'load-on-empty=\"true\" template=\"script-template\" ',\n                    'max-results-to-show=\"1000\">',\n            '</auto-complete>',\n        '</tags-input>',\n        '<script type=\"text/ng-template\" id=\"script-template\">',\n            '<div>',\n                '<p>',\n                    '{{data.name}} {{data.tags_string}}',\n                '</p>',\n                '<span class=\"p-form-help-text\">',\n                    '{{data.description}}',\n                '</span>',\n            '</div>',\n        '</script>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive(\n        'maasScriptSelect',\n        ['$q', 'ScriptsManager', 'ManagerHelperService',\n        function($q, ScriptsManager, ManagerHelperService) {\n    return {\n        restrict: \"A\",\n        require: \"ngModel\",\n        scope: {\n            ngModel: '=',\n            scriptType: '='\n        },\n        templateUrl: 'directive/templates/script-select.html',\n        link: function($scope, element, attrs, ngModelCtrl) {\n\n            $scope.allScripts = ScriptsManager.getItems();\n            $scope.scripts = [];\n            $scope.getScripts = function(query) {\n                $scope.scripts.length = 0;\n                angular.forEach($scope.allScripts, function(script) {\n                    if(script.script_type === $scope.scriptType &&\n                            script.name.indexOf(query) >= 0) {\n                        script.tags_string = '';\n                        angular.forEach(script.tags, function (tag) {\n                            if(script.tags_string === '') {\n                                script.tags_string = '(' + tag;\n                            } else {\n                                script.tags_string += ', ' + tag;\n                            }\n                        });\n                        if(script.tags_string !== '') {\n                            script.tags_string += ')';\n                        }\n                        $scope.scripts.push(script);\n                    }\n                });\n                return {\n                    data: $scope.scripts\n                };\n            };\n            $scope.onTagAdding = function(tag) {\n                return tag.id !== undefined;\n            };\n\n            $scope.refocus = function() {\n                var tagsInput = element.find('tags-input');\n                var tagsInputScope = tagsInput.isolateScope();\n                tagsInputScope.eventHandlers.input.change('');\n                tagsInputScope.eventHandlers.input.focus();\n                tagsInput.find('input').focus();\n            };\n\n            if(!angular.isArray($scope.ngModel)) {\n                $scope.ngModel = [];\n            }\n            ManagerHelperService.loadManager($scope, ScriptsManager).then(\n                function() {\n                    $scope.ngModel.length = 0;\n                    angular.forEach($scope.allScripts, function(script) {\n                        if(script.script_type === $scope.scriptType &&\n                           script.for_hardware.length === 0) {\n                            if($scope.scriptType === 0) {\n                                // By default MAAS runs all custom\n                                // commissioning scripts in addition to all\n                                // builtin commissioning scripts.\n                                $scope.ngModel.push(script);\n                            } else if($scope.scriptType === 2 &&\n                                    script.tags.indexOf('commissioning') >= 0) {\n                                // By default MAAS runs testing scripts which\n                                // have been tagged 'commissioning'\n                                $scope.ngModel.push(script);\n                            }\n                        }\n                    });\n                }\n            );\n        }\n    };\n}]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Script status icon select directive.\n */\n\nangular.module('MAAS').run(['$templateCache', function ($templateCache) {\n    // Inject the script_status.html into the template cache.\n    $templateCache.put('directive/templates/script_status.html', [\n        '<span data-ng-class=\"icon\" data-ng-show=\"show\"></span>'\n    ].join(''));\n}]);\n\nangular.module('MAAS').directive('maasScriptStatus', function() {\n    return {\n        restrict: \"A\",\n        require: \"scriptStatus\",\n        scope: {\n            scriptStatus: '='\n        },\n        templateUrl: 'directive/templates/script_status.html',\n        controller: function($scope) {\n            function getIcon() {\n                $scope.show = true;\n                switch($scope.scriptStatus) {\n                    // SCRIPT_STATUS.PENDING\n                    case 0:\n                        $scope.icon = 'p-icon--pending';\n                        break;\n                    // SCRIPT_STATUS.RUNNING\n                    case 1:\n                    // SCRIPT_STATUS.INSTALLING\n                    case 7:\n                        $scope.icon = 'p-icon--running';\n                        break;\n                    // SCRIPT_STATUS.PASSED\n                    case 2:\n                        $scope.icon = 'p-icon--pass';\n                        break;\n                    // SCRIPT_STATUS.FAILED\n                    case 3:\n                    // SCRIPT_STATUS.ABORTED\n                    case 5:\n                    // SCRIPT_STATUS.DEGRADED\n                    case 6:\n                    // SCRIPT_STATUS.FAILED_INSTALLING\n                    case 8:\n                        $scope.icon = 'p-icon--power-error';\n                        break;\n                    // SCRIPT_STATUS.TIMEDOUT\n                    case 4:\n                        $scope.icon = 'p-icon--timed-out';\n                        break;\n                    // SCRIPT_STATUS.SKIPPED\n                    case 9:\n                        $scope.icon = 'p-icon--warning';\n                        break;\n                    case -1:\n                        // No scripts have been run.\n                        $scope.show = false;\n                        break;\n                    default:\n                        $scope.icon = 'p-icon--help';\n                        break;\n                }\n            }\n\n            getIcon();\n\n            $scope.$watch(\"scriptStatus\", function() {\n                getIcon();\n            });\n        }\n    };\n});\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * SSH keys directive.\n*/\n\nangular.module('MAAS').directive('maasSshKeys', [\n    '$sce', 'SSHKeysManager', 'ManagerHelperService', 'JSONService',\n    function($sce, SSHKeysManager, ManagerHelperService, JSONService) {\n        return {\n            restrict: \"E\",\n            scope: {},\n            templateUrl: (\n                'static/partials/ssh-keys.html?v=' + (\n                    MAAS_config.files_version)),\n            controller: function($scope, $rootScope, $element, $document) {\n                $scope.loading = true;\n                $scope.keys = SSHKeysManager.getItems();\n                $scope.groupedKeys = [];\n                $scope.add = {\n                    source: 'lp',\n                    authId: '',\n                    key: '',\n                    error: null,\n                    saving: false\n                };\n                $scope.sourceTitles = {\n                    'lp': 'Launchpad',\n                    'gh': 'Github',\n                    'upload': 'Upload'\n                };\n                $scope.openRow = null;\n                $scope.rowMode = null;\n\n                // Expose trustAsHtml on the scope for the view to use.\n                $scope.trustAsHtml = $sce.trustAsHtml;\n\n                // Open a row.\n                $scope.open = function(obj, mode) {\n                    $scope.openRow = obj.id;\n                    $scope.rowMode = mode;\n                };\n\n                // Close the open row.\n                $scope.close = function() {\n                    $scope.openRow = null;\n                };\n\n                // Returns true if the key can be imported.\n                $scope.canImportKeys = function() {\n                    if($scope.add.saving) {\n                        return false;\n                    } else if ($scope.add.source === 'lp' ||\n                        $scope.add.source === 'gh') {\n                        return $scope.add.authId.length > 0;\n                    } else {\n                        return $scope.add.key.length > 0;\n                    }\n                };\n\n                // Called to import the key.\n                $scope.importKeys = function() {\n                    if(!$scope.canImportKeys()) {\n                        return;\n                    }\n                    $scope.add.error = null;\n                    $scope.add.saving = true;\n                    if($scope.add.source === 'lp' ||\n                        $scope.add.source === 'gh') {\n                        SSHKeysManager.importKeys({\n                            'protocol': $scope.add.source,\n                            'auth_id': $scope.add.authId\n                        }).then(function() {\n                            $scope.add.saving = false;\n                            $scope.add.source = 'lp';\n                            $scope.add.authId = '';\n                            $scope.add.key = '';\n                        }, function(error) {\n                            $scope.add.saving = false;\n                            var errorJson = JSONService.tryParse(error);\n                            if(angular.isObject(errorJson)) {\n                                if(angular.isArray(errorJson.__all__)) {\n                                    $scope.add.error = errorJson.__all__[0];\n                                } else {\n                                    $scope.add.error = error;\n                                }\n                            } else {\n                                $scope.add.error = error;\n                            }\n                        });\n                    } else {\n                        SSHKeysManager.createItem({\n                            'key': $scope.add.key\n                        }).then(function() {\n                            $scope.add.saving = false;\n                            $scope.add.source = 'lp';\n                            $scope.add.authId = '';\n                            $scope.add.key = '';\n                        }, function(error) {\n                            $scope.add.saving = false;\n                            var errorJson = JSONService.tryParse(error);\n                            if(angular.isObject(errorJson)) {\n                                if(angular.isArray(errorJson.key)) {\n                                    $scope.add.error = errorJson.key[0];\n                                } else if(angular.isArray(errorJson.__all__)) {\n                                    $scope.add.error = errorJson.__all__[0];\n                                } else {\n                                    $scope.add.error = error;\n                                }\n                            } else {\n                                $scope.add.error = error;\n                            }\n                        });\n                    }\n                };\n\n                // Called to delete the selected group of keys.\n                $scope.confirmDelete = function(obj) {\n                    angular.forEach(obj.keys, function(key) {\n                        SSHKeysManager.deleteItem(key);\n                    });\n                };\n\n                // Updates the groupedKeys that is used to render the table.\n                $scope.$watchCollection(\"keys\", function() {\n                    $scope.groupedKeys = [];\n                    var keyMap = {};\n                    angular.forEach($scope.keys, function(key) {\n                        var groupObj, keysource = key.keysource;\n                        if(angular.isObject(keysource)) {\n                            var keysourceKey = (\n                                keysource.protocol + '/' + keysource.auth_id);\n                            groupObj = keyMap[keysourceKey];\n                            if(angular.isObject(groupObj)) {\n                                groupObj.keys.push(key);\n                            } else {\n                                groupObj = {\n                                    id: keysourceKey,\n                                    source: keysource.protocol,\n                                    authId: keysource.auth_id,\n                                    keys: [key]\n                                };\n                                keyMap[keysourceKey] = groupObj;\n                                $scope.groupedKeys.push(groupObj);\n                            }\n                        } else {\n                            groupObj = {\n                                id: 'upload/' + key.id,\n                                source: 'upload',\n                                authId: '',\n                                keys: [key]\n                            };\n                            $scope.groupedKeys.push(groupObj);\n                        }\n                    });\n                });\n\n                ManagerHelperService.loadManager($scope, SSHKeysManager).then(\n                    function() {\n                        $scope.loading = false;\n                    });\n            }\n        };\n    }]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n* GNU Affero General Public License version 3 (see the file LICENSE).\n*\n* Switches listing directive.\n*\n* Renders the switches listing.\n*/\n\n\nangular.module('MAAS').directive('maasSwitchesTable', [\n  'SwitchesManager', 'GeneralManager', 'ManagerHelperService',\n  function (SwitchesManager, GeneralManager, ManagerHelperService) {\n    return {\n      restrict: \"E\",\n      scope: {\n        search: \"=\",\n        ngDisabled: \"&\",\n        switchHasError: \"&\",\n        hideCheckboxes: \"=?\",\n        onListingChange: \"&\",\n        onCheckAll: \"&\",\n        onCheck: \"&\"\n      },\n      templateUrl: (\n        'static/partials/switches-table.html?v=' + (\n          MAAS_config.files_version)),\n      link: function(scope, element, attrs) {\n        // Statuses that should show spinner.\n        var SPINNER_STATUSES = [\n          1,   // commissioning\n          9,   // deploying\n          12,  // releasing\n          14,  // disk erasing\n          17,  // entering rescue mode\n          19,  // exiting rescue mode\n          21   // testing\n        ];\n\n        // Scope variables.\n        scope.table = {\n          column: 'fqdn',\n          predicate: 'fqdn',\n          reverse: false,\n          allViewableChecked: false,\n          switches: SwitchesManager.getItems(),\n          filteredSwitches: [],\n          osinfo: GeneralManager.getData(\"osinfo\")\n        };\n\n        // Ensures that the checkbox for select all is the correct value.\n        scope.updateAllChecked = function() {\n          // Not checked when the filtered switches are empty.\n          if(scope.table.filteredSwitches.length === 0) {\n              scope.table.allViewableChecked = false;\n              return;\n          }\n\n          // Loop through all filtered switches and see if all are checked.\n          var i;\n          for(i = 0; i < scope.table.filteredSwitches.length; i++) {\n              if(!scope.table.filteredSwitches[i].$selected) {\n                  scope.table.allViewableChecked = false;\n                  return;\n              }\n          }\n          scope.table.allViewableChecked = true;\n        };\n\n        // Selects and deselects visible switches.\n        scope.toggleCheckAll = function() {\n          if(scope.table.allViewableChecked) {\n            angular.forEach(\n              scope.table.filteredSwitches, function(switch_) {\n                SwitchesManager.unselectItem(switch_.system_id);\n              });\n          } else {\n            angular.forEach(\n              scope.table.filteredSwitches, function(switch_) {\n                SwitchesManager.selectItem(switch_.system_id);\n              });\n          }\n          scope.updateAllChecked();\n          scope.onCheckAll();\n        };\n\n        // Selects and unselects switch.\n        scope.toggleChecked = function(switch_) {\n          if(SwitchesManager.isSelected(switch_.system_id)) {\n            SwitchesManager.unselectItem(switch_.system_id);\n          } else {\n            SwitchesManager.selectItem(switch_.system_id);\n          }\n          scope.updateAllChecked();\n          scope.onCheck({$switch_: switch_});\n        };\n\n        // Sorts the table by predicate.\n        scope.sortTable = function(predicate) {\n            scope.table.predicate = predicate;\n            scope.table.reverse = !scope.table.reverse;\n        };\n\n        // Sets the viewable column or sorts.\n        scope.selectColumnOrSort = function(predicate) {\n            if(scope.table.column !== predicate) {\n                scope.table.column = predicate;\n            } else {\n                scope.sortTable(predicate);\n            }\n        };\n\n        // Return true if spinner should be shown.\n        scope.showSpinner = function(switch_) {\n          return SPINNER_STATUSES.indexOf(switch_.status_code) > -1;\n        };\n\n        // Returns the release title from osinfo.\n        scope.getReleaseTitle = function(os_release) {\n          if(angular.isArray(scope.table.osinfo.releases)) {\n            for(i = 0; i < scope.table.osinfo.releases.length; i++) {\n              var release = scope.table.osinfo.releases[i];\n              if(release[0] === os_release) {\n                return release[1];\n              }\n            }\n          }\n          return os_release;\n        };\n\n        // Returns the status text to show.\n        scope.getStatusText = function(switch_) {\n          var showRelease = ['Deploying', 'Deployed'];\n          if(showRelease.indexOf(switch_.status) === -1) {\n            return switch_.status;\n          } else {\n            var releaseTitle = scope.getReleaseTitle(\n              switch_.osystem + '/' + switch_.distro_series);\n            if(switch_.osystem === \"ubuntu\") {\n              releaseTitle = releaseTitle.split('\"')[0].trim();\n            }\n            if(switch_.status === \"Deployed\") {\n              return releaseTitle;\n            }\n            if(switch_.status === \"Deploying\") {\n              return switch_.status + ' ' + releaseTitle;\n            }\n          }\n        };\n\n        // When the list of filtered switches change update the all checkbox.\n        scope.$watchCollection(\"table.filteredSwitches\", function() {\n          scope.updateAllChecked();\n          scope.onListingChange({$switches: scope.table.filteredSwitches});\n        });\n      }\n    };\n}]);\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Toggle control.\n */\n\nangular.module('MAAS').directive('toggleCtrl',[\n    '$document',\n    function($document) {\n        return {\n            restrict: 'A',\n            link: function($scope, $element, $attr){\n\n                $scope.isToggled = false;\n                $scope.toggleMenu = function() {\n                  $scope.isToggled = !$scope.isToggled;\n                };\n\n                var clickHandler = function(event) {\n                    if ($element.find(event.target).length > 0) {\n                        return;\n                    }\n                    $scope.$apply(function() {\n                        $scope.isToggled = false;\n                    });\n                };\n\n                $document.on('click', clickHandler);\n                $scope.$on('$destroy', function() {\n                    $document.off('click', clickHandler);\n                });\n            }\n        };\n}]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Type directive.\n */\n\nangular.module('MAAS').directive('ngType', function() {\n    return {\n        restrict: \"A\",\n        scope: {\n            ngType: \"=\"\n        },\n        link: function(scope, element, attrs) {\n            scope.$watch('ngType', function() {\n                valid_types = [\n                    'button',\n                    'checkbox',\n                    'color',\n                    'date ',\n                    'datetime ',\n                    'datetime-local ',\n                    'email ',\n                    'file',\n                    'hidden',\n                    'image',\n                    'month ',\n                    'number ',\n                    'password',\n                    'radio',\n                    'range ',\n                    'reset',\n                    'search',\n                    'submit',\n                    'tel',\n                    'text',\n                    'time ',\n                    'url',\n                    'week'\n                ];\n                if(valid_types.indexOf(scope.ngType) !== -1) {\n                    element[0].type = scope.ngType;\n                }\n                else {\n                    throw new Error(\"Invalid input type: \" + scope.ngType);\n                }\n\n            });\n        }\n    };\n});","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Version reloader.\n *\n * Watches the version reported by the GeneralManager if it changes then\n * the entire page is reloaded by-passing the local browser cache.\n */\n\n\nangular.module('MAAS').directive('maasVersionReloader', [\n    '$window', 'GeneralManager', 'ManagerHelperService', 'LogService',\n    function($window, GeneralManager, ManagerHelperService, LogService) {\n        return {\n            restrict: \"A\",\n            controller: function($scope) {\n                $scope.version = GeneralManager.getData(\"version\");\n\n                // Reload the page by-passing the browser cache.\n                $scope.reloadPage = function() {\n                    // Force cache reload by passing true.\n                    $window.location.reload(true);\n                };\n\n                ManagerHelperService.loadManager($scope, GeneralManager).then(\n                    function() {\n                        GeneralManager.enableAutoReload(true);\n                        LogService.info(\n                            'Version reloader: Monitoring MAAS \"' +\n                            $scope.site + '\"; version', $scope.version.text,\n                            \"via\", $window.location.href);\n                        $scope.$watch(\"version.text\",\n                            function(newValue, oldValue) {\n                                if(newValue !== oldValue) {\n                                    LogService.info(\n                                        \"MAAS version changed from '\" +\n                                        oldValue + \"' to '\" + newValue +\n                                        \"'; forcing reload.\");\n                                    $scope.reloadPage();\n                                }\n                            });\n                    });\n            }\n        };\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Window Width.\n *\n * Watches the window width and calculates what the inner width of the window.\n * Applying the attribute window-wdith on the parent element and calling\n * data-ng-if=\"width > 768\" you can use this to hide / show elements for mobile\n * development.\n *\n */\n\n\nangular.module('MAAS').directive('windowWidth', [\n    '$window',\n    function ($window) {\n        return {\n            restrict: 'A',\n            link: function($scope, element, attrs){\n                $scope.windowWidth = $window.innerWidth;\n                function onResize(){\n                    // uncomment for only fire when $window.innerWidth change\n                    if ($scope.windowWidth !== $window.innerWidth) {\n                        $scope.windowWidth = $window.innerWidth;\n                        $scope.$apply(function () {\n                            $scope.message = \"Timeout called!\";\n                        });\n                    }\n                }\n\n                function cleanUp() {\n                    angular.element($window).off('resize', onResize);\n                }\n\n                angular.element($window).on('resize', onResize);\n                $scope.$on('$destroy', cleanUp);\n            }\n        };\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS BootResource Manager\n *\n * Manager for the boot resources. This manager is unique from all the other\n * managers because it uses polling instead of having the region push the\n * information.\n *\n * Why is it polling?\n * The boot resource information is split between the region controller and\n * all rack controllers. The region controller does not cache any information\n * about a rack controllers images it contacts the rack as its source of truth.\n * This means that the client needs to use polling so the region controller\n * can ask each rack controller what is the status of your images.\n */\n\nangular.module('MAAS').factory(\n    'BootResourcesManager',\n    ['$q', '$timeout', 'RegionConnection', 'ErrorService',\n    function($q, $timeout, RegionConnection, ErrorService) {\n\n        // Constructor\n        function BootResourcesManager() {\n            // Set true once been loaded the first time.\n            this._loaded = false;\n\n            // Holds the data recieved from polling.\n            this._data = {};\n\n            // Set to true when polling has been enabled.\n            this._polling = false;\n\n            // The next promise for the polling interval.\n            this._nextPromise = null;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data.\n            this._pollTimeout = 10000;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data when an error occurs.\n            this._pollErrorTimeout = 500;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data when the retrieved data is empty.\n            this._pollEmptyTimeout = 3000;\n        }\n\n        // Return the data.\n        BootResourcesManager.prototype.getData = function() {\n            return this._data;\n        };\n\n        // Return true when data has been loaded.\n        BootResourcesManager.prototype.isLoaded = function() {\n            return this._loaded;\n        };\n\n        // Returns true when currently polling.\n        BootResourcesManager.prototype.isPolling = function() {\n            return this._polling;\n        };\n\n        // Starts the polling for data.\n        BootResourcesManager.prototype.startPolling = function() {\n            if(!this._polling) {\n                this._polling = true;\n                return this._poll();\n            } else {\n                return this._nextPromise;\n            }\n        };\n\n        // Stops the polling for data.\n        BootResourcesManager.prototype.stopPolling = function() {\n            this._polling = false;\n            if(angular.isObject(this._nextPromise)) {\n                $timeout.cancel(this._nextPromise);\n                this._nextPromise = null;\n            }\n        };\n\n        // Load the data from the region.\n        BootResourcesManager.prototype._loadData = function(raiseError) {\n            raiseError = raiseError || false;\n            var self = this;\n            return RegionConnection.callMethod(\"bootresource.poll\").then(\n                function(newData) {\n                    angular.copy(angular.fromJson(newData), self._data);\n                    self._loaded = true;\n                    return self._data;\n                }, function(error) {\n                    if(raiseError) {\n                        ErrorService.raiseError(error);\n                    }\n                });\n        };\n\n        // Registers the next polling attempt.\n        BootResourcesManager.prototype._pollAgain = function(timeout) {\n            var self = this;\n            this._nextPromise = $timeout(function() {\n                self._poll();\n            }, timeout);\n            return this._nextPromise;\n        };\n\n        // Polls for the data from the region.\n        BootResourcesManager.prototype._poll = function() {\n            var self = this;\n\n            // Can only poll if connected.\n            if(!RegionConnection.isConnected()) {\n                return this._pollAgain(this._pollErrorTimeout);\n            }\n\n            return this._loadData(false).then(function(newData) {\n                var pollTimeout = self._pollTimeout;\n                if(!angular.isObject(newData) ||\n                    newData.connection_error ||\n                    !angular.isArray(newData.resources) ||\n                    newData.resources.length === 0) {\n                    pollTimeout = self._pollEmptyTimeout;\n                }\n                self._pollAgain(pollTimeout);\n                return newData;\n            }, function(error) {\n                // Don't raise the error, just log it and try again.\n                console.log(error);\n                self._pollAgain(self._pollErrorTimeout);\n            });\n        };\n\n        // Loads the resources. This implemented so the ManagerHelperService\n        // can work on this manager just like all the rest.\n        BootResourcesManager.prototype.loadItems = function() {\n            var defer = $q.defer();\n            this._loadData(true).then(function() {\n                defer.resolve();\n            });\n            return defer.promise;\n        };\n\n        // Does nothing. This implemented so the ManagerHelperService\n        // can work on this manager just like all the rest.\n        BootResourcesManager.prototype.enableAutoReload = function() { };\n\n        // Stop the running image import process.\n        BootResourcesManager.prototype.stopImport = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"bootresource.stop_import\", params).then(\n                    function(newData) {\n                        angular.copy(angular.fromJson(newData), self._data);\n                        self._loaded = true;\n                        return self._data;\n                    });\n        };\n\n        // Save the ubuntu options and start the import process.\n        BootResourcesManager.prototype.saveUbuntu = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"bootresource.save_ubuntu\", params).then(\n                    function(newData) {\n                        angular.copy(angular.fromJson(newData), self._data);\n                        self._loaded = true;\n                        return self._data;\n                    });\n        };\n\n        // Save the Ubuntu Core images and start the import process.\n        BootResourcesManager.prototype.saveUbuntuCore = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"bootresource.save_ubuntu_core\", params).then(\n                    function(newData) {\n                        angular.copy(angular.fromJson(newData), self._data);\n                        self._loaded = true;\n                        return self._data;\n                    });\n        };\n\n        // Save the other images and start the import process.\n        BootResourcesManager.prototype.saveOther = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"bootresource.save_other\", params).then(\n                    function(newData) {\n                        angular.copy(angular.fromJson(newData), self._data);\n                        self._loaded = true;\n                        return self._data;\n                    });\n        };\n\n        // Fetch the releases and arches from the provided source.\n        BootResourcesManager.prototype.fetch = function(source) {\n            return RegionConnection.callMethod(\"bootresource.fetch\", source);\n        };\n\n        // Delete an image.\n        BootResourcesManager.prototype.deleteImage = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"bootresource.delete_image\", params).then(\n                    function(newData) {\n                        angular.copy(angular.fromJson(newData), self._data);\n                        self._loaded = true;\n                        return self._data;\n                    });\n        };\n\n        return new BootResourcesManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Configs Manager\n *\n * Manages all of the config values in the browser. This manager is used for\n * the first-user journey and the settings page.\n */\n\n angular.module('MAAS').factory(\n     'ConfigsManager',\n     ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n             $q, $rootScope, RegionConnection, Manager) {\n\n         function ConfigsManager() {\n             Manager.call(this);\n\n             this._pk = \"name\";\n             this._handler = \"config\";\n\n             // Listen for notify events for the config object.\n             var self = this;\n             RegionConnection.registerNotifier(\"config\",\n                 function(action, data) {\n                     self.onNotify(action, data);\n                 });\n         }\n\n         ConfigsManager.prototype = new Manager();\n\n         return new ConfigsManager();\n     }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Controllers Manager\n *\n * Manages all of the controllers in the browser. This manager is used for the\n * controller listing and view pages. The manager is a subclass of\n * NodesManager.\n */\n\nangular.module('MAAS').factory(\n    'ControllersManager',\n    ['$q', '$rootScope', 'RegionConnection', 'NodesManager', 'ServicesManager',\n            function($q, $rootScope, RegionConnection, NodesManager,\n            ServicesManager) {\n\n        function ControllersManager() {\n            NodesManager.call(this);\n\n            this._pk = \"system_id\";\n            this._handler = \"controller\";\n\n            // Listen for notify events for the controller object.\n            var self = this;\n            RegionConnection.registerNotifier(\"controller\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n        ControllersManager.prototype = new NodesManager();\n\n        ControllersManager.prototype.getServices = function(controller) {\n            var services = [];\n            angular.forEach(controller.service_ids, function(service_id) {\n                var service = ServicesManager.getItemFromList(service_id);\n                if(angular.isObject(service)) {\n                    services.push(service);\n                }\n            });\n            return services;\n        };\n\n        // Check the boot image import status.\n        ControllersManager.prototype.checkImageStates = function(controllers) {\n            return RegionConnection.callMethod(\n                this._handler + \".check_images\", controllers);\n        };\n\n        return new ControllersManager();\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Devices Manager\n *\n * Manages all of the devices in the browser. This manager is used for the\n * device listing and the device view page. The manager uses the\n * RegionConnection to load the devices, update the devices, and listen for\n * notification events about devices.\n */\n\nangular.module('MAAS').factory(\n    'DevicesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'NodesManager', function(\n            $q, $rootScope, RegionConnection, NodesManager) {\n\n        function DevicesManager() {\n            NodesManager.call(this);\n\n            this._pk = \"system_id\";\n            this._handler = \"device\";\n            this._metadataAttributes = {\n                \"owner\": null,\n                \"subnets\": null,\n                \"tags\": null,\n                \"zone\": function(device) {\n                    return device.zone.name;\n                }\n            };\n\n            // Listen for notify events for the device object.\n            var self = this;\n            RegionConnection.registerNotifier(\"device\", function(action, data) {\n                self.onNotify(action, data);\n            });\n        }\n\n        DevicesManager.prototype = new NodesManager();\n\n        // Create a device.\n        DevicesManager.prototype.create = function(node) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the device to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"device.create\", node);\n        };\n\n        // Create an interface on device.\n        DevicesManager.prototype.createInterface = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"device.create_interface\", params).then(function(device) {\n                    self._replaceItem(device);\n                    return device;\n                });\n        };\n\n        // Perform the action on the device.\n        DevicesManager.prototype.performAction = function(\n            device, action, extra) {\n\n            if(!angular.isObject(extra)) {\n                extra = {};\n            }\n            return RegionConnection.callMethod(\"device.action\", {\n                \"system_id\": device.system_id,\n                \"action\": action,\n                \"extra\": extra\n                });\n        };\n\n        return new DevicesManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS DHCPSnippet Manager\n *\n * Manages all of the DHCPSnippets in the browser. The manager uses the\n * RegionConnection to load the DHCPSnippets, update the DHCPSnippets, and\n * listen for notification events about DHCPSnippets.\n */\n\nangular.module('MAAS').factory(\n    'DHCPSnippetsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n    function($q, $rootScope, RegionConnection, Manager) {\n\n        function DHCPSnippetsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"dhcpsnippet\";\n\n            // Listen for notify events for the DHCPSnippet object.\n            var self = this;\n            RegionConnection.registerNotifier(\"dhcpsnippet\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        DHCPSnippetsManager.prototype = new Manager();\n\n        // Create the snippet.\n        DHCPSnippetsManager.prototype.create = function(snippet) {\n            return RegionConnection.callMethod(\n                this._handler + \".create\", snippet, true);\n        };\n\n        return new DHCPSnippetsManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Discovery Manager\n *\n * A Discovery is a MAC, IP binding with an optional hostname that MAAS\n * believes it has discovered. It is associated with a particular fabric and\n * VLAN, and is aware of which rack or region interface most recently\n * discovered it.\n *\n * This class manages all of the discoveries in the browser. It uses the\n * RegionConnection to load the discoveries and listen for notification events\n * about discoveries.\n */\n\nangular.module('MAAS').factory(\n    'DiscoveriesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'PollingManager',\n    function($q, $rootScope, RegionConnection, PollingManager) {\n\n        function DiscoveriesManager() {\n            PollingManager.call(this);\n\n            this._pk = \"first_seen\";\n            this._batchKey = \"first_seen\";\n            this._handler = \"discovery\";\n\n            // Poll every 10 seconds when its empty as its okay for\n            // this to be empty.\n            this._pollEmptyTimeout = 5000;\n        }\n\n        DiscoveriesManager.prototype = new PollingManager();\n\n        return new DiscoveriesManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Domain Manager\n *\n * Manages all of the domains in the browser. The manager uses the\n * RegionConnection to load the domains, update the domains, and listen for\n * notification events about domains.\n */\n\nangular.module('MAAS').factory(\n    'DomainsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, RegionConnection, Manager) {\n\n        function DomainsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"domain\";\n\n            // Listen for notify events for the domain object.\n            var self = this;\n            RegionConnection.registerNotifier(\"domain\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        DomainsManager.prototype = new Manager();\n\n        // Create a domain.\n        DomainsManager.prototype.create = function(domain) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the domain to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"domain.create\", domain);\n        };\n\n        // Delete the domain.\n        DomainsManager.prototype.deleteDomain = function(domain) {\n            return RegionConnection.callMethod(\"domain.delete\", domain);\n        };\n\n        // Create a DNS record.\n        DomainsManager.prototype.createDNSRecord = function(record) {\n            if(record.rrtype === 'A' || record.rrtype === 'AAAA') {\n                record.ip_addresses = record.rrdata.split(/[ ,]+/);\n                return RegionConnection.callMethod(\n                    \"domain.create_address_record\", record);\n            } else {\n                return RegionConnection.callMethod(\n                    \"domain.create_dnsdata\", record);\n            }\n        };\n\n        // Update a DNS record.\n        DomainsManager.prototype.updateDNSRecord = function(record) {\n            if(record.rrtype === 'A' || record.rrtype === 'AAAA') {\n                record.ip_addresses = record.rrdata.split(/[ ,]+/);\n                return RegionConnection.callMethod(\n                    \"domain.update_address_record\", record);\n            } else {\n                return RegionConnection.callMethod(\n                    \"domain.update_dnsdata\", record);\n            }\n        };\n\n        // Delete a DNS record.\n        DomainsManager.prototype.deleteDNSRecord = function(record) {\n            if(record.rrtype === 'A' || record.rrtype === 'AAAA') {\n                record.ip_addresses = record.rrdata.split(/[ ,]+/);\n                return RegionConnection.callMethod(\n                    \"domain.delete_address_record\", record);\n            } else {\n                return RegionConnection.callMethod(\n                    \"domain.delete_dnsdata\", record);\n            }\n        };\n\n        DomainsManager.prototype.getDefaultDomain = function() {\n            if(this._items.length === 0) {\n                return null;\n            } else {\n                var i;\n                for(i=0;i<this._items.length;i++) {\n                    if(this._items[i].id === 0) {\n                        return this._items[i];\n                    }\n                }\n            }\n            return this._items[0];\n        };\n\n        DomainsManager.prototype.getDomainByName = function(name) {\n            if(this._items.length > 0) {\n                var i;\n                for(i=0;i<this._items.length;i++) {\n                    if(this._items[i].name === name) {\n                        return this._items[i];\n                    }\n                }\n            }\n            return null;\n        };\n\n        return new DomainsManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Event Manager Factory\n *\n * Manages all of the events for a node in the browser. The manager uses the\n * RegionConnection to load the events and listen for event notifications.\n */\n\nangular.module('MAAS').factory(\n    'EventsManagerFactory',\n    ['RegionConnection', 'Manager', 'ErrorService',\n    function(RegionConnection, Manager, ErrorService) {\n\n        function EventsManager(nodeId, factory) {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"event\";\n            this._nodeId = nodeId;\n            this._factory = factory;\n            this._maxDays = 1;\n        }\n\n        EventsManager.prototype = new Manager();\n\n        // Return the initial batch parameters with the id of the node\n        // and the maximum number of days to load.\n        EventsManager.prototype._initBatchLoadParameters = function() {\n            return {\n                \"node_id\": this._nodeId,\n                \"max_days\": this._maxDays\n            };\n        };\n\n        // Destroys its self. Removes self from the EventsManagerFactory.\n        EventsManager.prototype.destroy = function(){\n            this._factory.destroyManager(this);\n\n            // If this manager has ever loaded then the region is sending\n            // events about this node. Tell the RegionConnection not to\n            // stop sending notification for events from this node.\n            if(this.isLoaded()) {\n                RegionConnection.callMethod(\"event.clear\", {\n                    node_id: this._nodeId\n                });\n            }\n        };\n\n        // Get the maximum number of days the manager will load.\n        EventsManager.prototype.getMaximumDays = function() {\n            return this._maxDays;\n        };\n\n        // Changes the maximum number of days to load and loads the items.\n        EventsManager.prototype.loadMaximumDays = function(days) {\n            var self = this;\n            var setMaximumDays = function() {\n                self._maxDays = days;\n                self.loadItems();\n            };\n\n            if(this.isLoading()) {\n                // Call loadItems to get an extra defer to know when\n                // the loading is done.\n                this.loadItems().then(function() {\n                    setMaximumDays();\n                });\n            } else {\n                setMaximumDays();\n            }\n        };\n\n        // Factory that holds all created EventsManagers.\n        function EventsManagerFactory() {\n            // Holds a list of all EventsManager that have been created.\n            this._managers = [];\n\n            // Listen for notify events for the event object.\n            var self = this;\n            RegionConnection.registerNotifier(\"event\", function(action, data) {\n                self.onNotify(action, data);\n            });\n        }\n\n        // Gets the EventManager for the nodes with node_id.\n        EventsManagerFactory.prototype._getManager = function(nodeId) {\n            var i;\n            for(i = 0; i < this._managers.length; i++) {\n                if(this._managers[i]._nodeId === nodeId) {\n                    return this._managers[i];\n                }\n            }\n            return null;\n        };\n\n        // Gets the EventManager for the nodes node_id. Creates a new manager\n        // if one does not exist.\n        EventsManagerFactory.prototype.getManager = function(nodeId) {\n            var manager = this._getManager(nodeId);\n            if(!angular.isObject(manager)) {\n                // Not created so create it.\n                manager = new EventsManager(nodeId, this);\n                this._managers.push(manager);\n                return manager;\n            }\n            return manager;\n        };\n\n        // Destroy the EventManager.\n        EventsManagerFactory.prototype.destroyManager = function(manager) {\n            var idx = this._managers.indexOf(manager);\n            if(idx >= 0) {\n                this._managers.splice(idx, 1);\n            }\n        };\n\n        // Called when the RegionConnection gets a notification for an event.\n        EventsManagerFactory.prototype.onNotify = function(action, data) {\n            if(action === \"delete\") {\n                // Send all delete actions to all managers. Only one will\n                // remove the event with the given id.\n                angular.forEach(this._managers, function(manager) {\n                    manager.onNotify(action, data);\n                });\n            } else if (action === \"create\" || action === \"update\") {\n                // Get the manager based on the node_id in data, and send\n                // it the notification.\n                var manager = this._getManager(data.node_id);\n                if(angular.isObject(manager)) {\n                    manager.onNotify(action, data);\n                }\n            }\n        };\n\n        return new EventsManagerFactory();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Fabric Manager\n *\n * Manages all of the fabrics in the browser. The manager uses the\n * RegionConnection to load the fabrics, update the fabrics, and listen for\n * notification events about fabrics.\n */\n\nangular.module('MAAS').factory(\n    'FabricsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', 'VLANsManager',\n    function(\n    $q, $rootScope, RegionConnection, Manager, VLANsManager) {\n\n        function FabricsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"fabric\";\n\n            // Listen for notify events for the fabric object.\n            var self = this;\n            RegionConnection.registerNotifier(\"fabric\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        FabricsManager.prototype = new Manager();\n\n        // Given a Fabric object, returns its display name.\n        FabricsManager.prototype.getName = function(fabric) {\n            if(!angular.isObject(fabric)) {\n                return;\n            }\n            if(angular.isString(fabric.name)) {\n                return fabric.name;\n            } else {\n                return this._handler + \"-\" + fabric[this._pk];\n            }\n        };\n\n        // Delete the Fabric.\n        FabricsManager.prototype.deleteFabric = function(fabric) {\n            return RegionConnection.callMethod(\n                \"fabric.delete\", { \"id\": fabric.id }, true);\n        };\n\n        // Create a Fabric.\n        FabricsManager.prototype.create = function(fabric) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the domain to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"fabric.create\", fabric);\n        };\n\n\n        return new FabricsManager();\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS General Manager\n *\n * Manager for general information from the region. The general handler on the\n * region side does not push information to the client. This manager uses\n * polling to grab this data periodically from the region.\n *\n * This manage provides different pieces of data and is structure differently\n * than extending the Manager service. It still provides the Manager service\n * interface allowing the ManagerHelperService to load this manager.\n */\n\nangular.module('MAAS').factory(\n    'GeneralManager',\n    ['$q', '$timeout', 'RegionConnection', 'ErrorService',\n    function($q, $timeout, RegionConnection, ErrorService) {\n\n        // Constructor\n        function GeneralManager() {\n            // Holds the available endpoints and its data.\n            this._data = {\n                machine_actions: {\n                    method: \"general.machine_actions\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                device_actions: {\n                    method: \"general.device_actions\",\n                    data: [],\n                    request: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                region_controller_actions: {\n                    method: \"general.region_controller_actions\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                rack_controller_actions: {\n                    method: \"general.rack_controller_actions\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                region_and_rack_controller_actions: {\n                    method: \"general.region_and_rack_controller_actions\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                architectures: {\n                    method: \"general.architectures\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                known_architectures: {\n                    method: \"general.known_architectures\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                pockets_to_disable: {\n                    method: \"general.pockets_to_disable\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                components_to_disable: {\n                    method: \"general.components_to_disable\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                hwe_kernels: {\n                    method: \"general.hwe_kernels\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                min_hwe_kernels: {\n                    method: \"general.min_hwe_kernels\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null\n                },\n                default_min_hwe_kernel: {\n                    method: \"general.default_min_hwe_kernel\",\n                    data: { text: '' },\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null,\n                    replaceData: function(oldData, newData) {\n                        oldData.text = newData;\n                    }\n                },\n                osinfo: {\n                    method: \"general.osinfo\",\n                    data: {},\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null,\n                    isEmpty: function(data) {\n                        var osystems = data.osystems;\n                        return (angular.isUndefined(osystems) ||\n                            osystems.length === 0);\n                    },\n                    replaceData: function(oldData, newData) {\n                        angular.copy(newData, oldData);\n                    }\n                },\n                bond_options: {\n                    method: \"general.bond_options\",\n                    data: {},\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null,\n                    replaceData: function(oldData, newData) {\n                        angular.copy(newData, oldData);\n                    }\n                },\n                version: {\n                    method: \"general.version\",\n                    data: { text: null },\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null,\n                    replaceData: function(oldData, newData) {\n                        oldData.text = newData;\n                    }\n                },\n                power_types: {\n                    method: \"general.power_types\",\n                    data: [],\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null,\n                    replaceData: function(oldData, newData) {\n                        // Add new power types.\n                        var i, j, newPowerType, oldPowerType;\n                        for(i = 0; i < newData.length; i++) {\n                            newPowerType = newData[i];\n                            var newItem = true;\n                            for(j = 0; j < oldData.length; j++) {\n                                oldPowerType = oldData[j];\n                                if(newPowerType.name === oldPowerType.name) {\n                                    newItem = false;\n                                    break;\n                                }\n                            }\n\n                            // Item was previously not in the list so it is\n                            // inserted into the array.\n                            if(newItem) {\n                                oldData.push(newPowerType);\n                            }\n                        }\n\n                        // Remove any power types that are not included in\n                        // the newData.\n                        for(i = oldData.length - 1; i >= 0; i--) {\n                            oldPowerType = oldData[i];\n                            var found = false;\n                            for(j = 0; j < newData.length; j++) {\n                                newPowerType = newData[j];\n                                if(newPowerType.name === oldPowerType.name) {\n                                    found = true;\n                                    break;\n                                }\n                            }\n\n                            // Item was previously not in the list so it is\n                            // inserted into the array.\n                            if(!found) {\n                                oldData.splice(i, 1);\n                            }\n                        }\n                    }\n                },\n                release_options: {\n                    method: \"general.release_options\",\n                    data: {},\n                    requested: false,\n                    loaded: false,\n                    polling: [],\n                    nextPromise: null,\n                    replaceData: function(oldData, newData) {\n                        angular.copy(newData, oldData);\n                    }\n                }\n            };\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data.\n            this._pollTimeout = 10000;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data when an error occurs.\n            this._pollErrorTimeout = 3000;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data when the retrieved data is empty.\n            this._pollEmptyTimeout = 3000;\n\n            // Set to true when the items list should reload upon re-connection\n            // to the region.\n            this._autoReload = false;\n\n            // Use the same notify type as a default manager.\n            this._type = 'notify';\n\n            // The scopes that have loaded this manager.\n            this._scopes = [];\n        }\n\n        GeneralManager.prototype._getInternalData = function(name) {\n            var data = this._data[name];\n            if(angular.isUndefined(data)) {\n                throw new Error(\"Unknown data: \" + name);\n            }\n            return data;\n        };\n\n        // Return loaded data.\n        GeneralManager.prototype.getData = function(name) {\n            var d = this._getInternalData(name);\n            d.requested = true;\n            return d.data;\n        };\n\n        // Return true when all data has been loaded.\n        GeneralManager.prototype.isLoaded = function() {\n            var loaded = true;\n            angular.forEach(this._data, function(data) {\n                if(!data.loaded) {\n                    loaded = false;\n                }\n            });\n            return loaded;\n        };\n\n        // Return true when data has been loaded.\n        GeneralManager.prototype.isDataLoaded = function(name) {\n            return this._getInternalData(name).loaded;\n        };\n\n        // Returns true when the manager is currently polling.\n        GeneralManager.prototype.isPolling = function() {\n            var polling = false;\n            angular.forEach(this._data, function(data) {\n                if(data.polling.length > 0) {\n                    polling = true;\n                }\n            });\n            return polling;\n        };\n\n        // Returns true when the manager is currently polling for that data.\n        GeneralManager.prototype.isDataPolling = function(name) {\n            return this._getInternalData(name).polling;\n        };\n\n        // Starts the manager polling for data.\n        GeneralManager.prototype.startPolling = function(scope, name) {\n            var data = this._getInternalData(name);\n            var idx = data.polling.indexOf(scope);\n            if(idx === -1) {\n                data.polling.push(scope);\n                if(data.polling.length === 1) {\n                    // Polling needs to be started. This is the first scope\n                    // that is requesting for polling to be performed.\n                    this._poll(data);\n                }\n            }\n        };\n\n        // Stops the manager polling for data.\n        GeneralManager.prototype.stopPolling = function(scope, name) {\n            var data = this._getInternalData(name);\n            var idx = data.polling.indexOf(scope);\n            if(idx >= 0) {\n                data.polling.splice(idx, 1);\n            }\n            if(data.polling.length === 0 &&\n                angular.isObject(data.nextPromise)) {\n                $timeout.cancel(data.nextPromise);\n                data.nextPromise = null;\n            }\n        };\n\n        // Load the data from the region.\n        GeneralManager.prototype._loadData = function(data, raiseError) {\n            var replaceData = data.replaceData;\n            raiseError = raiseError || false;\n\n            // Set default replaceData function if data doesn't provide its\n            // own function.\n            if(angular.isUndefined(replaceData)) {\n                replaceData = function(oldData, newData) {\n                    oldData.length = 0;\n                    oldData.push.apply(oldData, newData);\n                };\n            }\n\n            return RegionConnection.callMethod(data.method).then(\n                function(newData) {\n                    replaceData(data.data, newData);\n                    data.loaded = true;\n                    return data.data;\n                }, function(error) {\n                    if(raiseError) {\n                        ErrorService.raiseError(error);\n                    }\n                    return error;\n                });\n        };\n\n        GeneralManager.prototype._pollAgain = function(data, timeout) {\n            var self = this;\n            data.nextPromise = $timeout(function() {\n                self._poll(data);\n            }, timeout);\n        };\n\n        // Polls for the data from the region.\n        GeneralManager.prototype._poll = function(data) {\n            var self = this;\n            var isEmpty = data.isEmpty;\n\n            // Set default isEmpty function if data doesn't provide its\n            // own function.\n            if(angular.isUndefined(isEmpty)) {\n                isEmpty = function(data) {\n                    return data.length === 0;\n                };\n            }\n\n            // Can only poll if connected.\n            if(!RegionConnection.isConnected()) {\n                this._pollAgain(data, this._pollErrorTimeout);\n                return;\n            }\n\n            return this._loadData(data, false).then(function(newData) {\n                var pollTimeout = self._pollTimeout;\n                if(isEmpty(data.data)) {\n                    pollTimeout = self._pollEmptyTimeout;\n                }\n                self._pollAgain(data, pollTimeout);\n                return newData;\n            }, function(error) {\n                // Don't raise the error, just log it and try again.\n                console.log(error);\n                self._pollAgain(data, self._pollErrorTimeout);\n            });\n        };\n\n        // Loads all the items. This implemented so the ManagerHelperService\n        // can work on this manager just like all the rest. Optionally pass a\n        // list of specific items to load. Useful when reloading data.\n        GeneralManager.prototype.loadItems = function(items) {\n            var self = this;\n            var defer = $q.defer();\n            var waitingCount = 0;\n            if(angular.isArray(items)) {\n                waitingCount = items.length;\n            }else{\n                angular.forEach(this._data, function(data) {\n                    if(data.requested) {\n                        waitingCount++;\n                    }\n                });\n            }\n            var done = function() {\n                waitingCount -= 1;\n                if(waitingCount === 0) {\n                    defer.resolve();\n                }\n            };\n\n            angular.forEach(this._data, function(data, name) {\n                if((angular.isArray(items) && items.indexOf(name) !== -1) ||\n                        (!angular.isArray(items) && data.requested)) {\n                    self._loadData(data, true).then(function() {\n                        done();\n                    });\n                }\n            });\n\n            return defer.promise;\n        };\n\n        // Enables auto reloading of the item list on connection to region.\n        GeneralManager.prototype.enableAutoReload = function() {\n            if(!this._autoReload) {\n                this._autoReload = true;\n                var self = this;\n                this._reloadFunc = function() {\n                    self.loadItems();\n                };\n                RegionConnection.registerHandler(\"open\", this._reloadFunc);\n            }\n        };\n\n        // Disable auto reloading of the item list on connection to region.\n        GeneralManager.prototype.disableAutoReload = function() {\n            if(this._autoReload) {\n                RegionConnection.unregisterHandler(\"open\", this._reloadFunc);\n                this._reloadFunc = null;\n                this._autoReload = false;\n            }\n        };\n\n        return new GeneralManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS IPRange Manager\n *\n * Manages all of the IPRanges in the browser. The manager uses the\n * RegionConnection to load the IPRanges, update the IPRanges, and listen for\n * notification events about IPRanges.\n */\n\nangular.module('MAAS').factory(\n    'IPRangesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n    function($q, $rootScope, RegionConnection, Manager) {\n\n        function IPRangesManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"iprange\";\n\n            // Listen for notify events for the iprange object.\n            var self = this;\n            RegionConnection.registerNotifier(\"iprange\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        IPRangesManager.prototype = new Manager();\n\n        return new IPRangesManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Machines Manager\n *\n * Manages all of the machines in the browser. This manager is used for the\n * machine listing and view pages. The manager is a subclass of NodesManager.\n */\n\nangular.module('MAAS').factory(\n    'MachinesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'NodesManager', function(\n            $q, $rootScope, RegionConnection, NodesManager) {\n\n        function MachinesManager() {\n            NodesManager.call(this);\n\n            this._pk = \"system_id\";\n            this._handler = \"machine\";\n\n            this._metadataAttributes = {\n                \"architecture\": null,\n                \"status\": null,\n                \"owner\": null,\n                \"tags\": null,\n                \"pod\": function(machine) {\n                    return (machine.pod === undefined) ? '' :machine.pod.name;\n                },\n                \"pool\": function(machine) {\n                    return machine.pool.name;\n                },\n                \"zone\": function(machine) {\n                    return machine.zone.name;\n                },\n                \"subnets\": null,\n                \"fabrics\": null,\n                \"spaces\": null,\n                \"storage_tags\": null,\n                \"release\": function(machine) {\n                    if(machine.status_code === 6 || machine.status_code === 9) {\n                        return machine.osystem + \"/\" + machine.distro_series;\n                    } else {\n                        return '';\n                    }\n                }\n            };\n\n            // Listen for notify events for the machine object.\n            var self = this;\n            RegionConnection.registerNotifier(\"machine\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n\n        }\n        MachinesManager.prototype = new NodesManager();\n\n        MachinesManager.prototype.mountSpecialFilesystem =\n            function(obj) {\n                var method = this._handler + \".mount_special\";\n                var params = {\n                    system_id: obj.system_id,\n                    fstype: obj.fstype,\n                    mount_point: obj.mount_point,\n                    mount_options: obj.mount_options\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        MachinesManager.prototype.unmountSpecialFilesystem =\n            function(machine, mount_point) {\n                var method = this._handler + \".unmount_special\";\n                var params = {\n                    system_id: machine.system_id,\n                    mount_point: mount_point\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        return new MachinesManager();\n    }]);\n","/* Copyright 2017-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS NodeResultsManager Manager\n *\n * Manages all of the NodeResults in the browser. The manager uses the\n * RegionConnection to load the NodeResults, and listen for\n * notification events about NodeResults.\n */\n\nangular.module('MAAS').factory(\n    'NodeResultsManagerFactory', ['RegionConnection', 'Manager',\n    function(RegionConnection, Manager) {\n\n        function NodeResultsManager(node, factory) {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"noderesult\";\n            this._node = node;\n            this._factory = factory;\n\n            // Store as an array to preserve order.\n            this.commissioning_results = [\n                {\n                    title: null,\n                    hardware_type: 0,\n                    results: {}\n                },\n                {\n                    title: \"CPU\",\n                    hardware_type: 1,\n                    results: {}\n                },\n                {\n                    title: \"Memory\",\n                    hardware_type: 2,\n                    results: {}\n                },\n                {\n                    title: \"Storage\",\n                    hardware_type: 3,\n                    results: {}\n                }\n            ];\n            this.testing_results = [\n                {\n                    title: \"CPU\",\n                    hardware_type: 1,\n                    results: {}\n                },\n                {\n                    title: \"Memory\",\n                    hardware_type: 2,\n                    results: {}\n                },\n                {\n                    title: \"Storage\",\n                    hardware_type: 3,\n                    results: {}\n                },\n                {\n                    title: \"Other Results\",\n                    hardware_type: 0,\n                    results: {}\n                }\n            ];\n            this.installation_results = [];\n\n            // Listen for notify events for the ScriptResult object.\n            // This is noderesult instead of scriptresult because the\n            // class name is NodeResultHandler.\n            var self = this;\n            RegionConnection.registerNotifier(\"noderesult\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        NodeResultsManager.prototype = new Manager();\n\n        NodeResultsManager.prototype._getStorageSubtext = function(disk) {\n            var deviceinfo = '';\n            if(disk.model !== '') {\n                deviceinfo += \"Model: \" + disk.model;\n            }\n            if(disk.serial !== '') {\n                if(deviceinfo !== '') {\n                    deviceinfo += ', ';\n                }\n                deviceinfo += \"Serial: \" + disk.serial;\n            }\n            if(deviceinfo !== '') {\n                return '/dev/' + disk.name + ' (' + deviceinfo + ')';\n            }else{\n                return '/dev/' + disk.name;\n            }\n        };\n\n        NodeResultsManager.prototype._updateObject = function(\n            existing, updated) {\n            angular.forEach(updated, function(value, key) {\n                if(existing[key] !== value && key !== 'showing_results' &&\n                   key !== 'showing_history' && key !== 'showing_menu' &&\n                   key !== '$selected') {\n                    existing[key] = value;\n                }\n            });\n        };\n\n        NodeResultsManager.prototype._addOrReplace = function(results, result) {\n            var i;\n            for(i = 0; i < results.length; i++) {\n                if(results[i].name === result.name) {\n                    // Object already exists, update fields.\n                    result.$selected = results[i].$selected;\n                    result.showing_results = results[i].showing_results;\n                    result.showing_history = results[i].showing_history;\n                    result.showing_menu = results[i].showing_menu;\n                    angular.copy(result, results[i]);\n                    return;\n                }\n            }\n            // No result with the same name exists, add it to the sorted list.\n            for(i = 0; i < results.length; i++) {\n                if(results[i].name > result.name) {\n                    results.splice(i, 0, result);\n                    return;\n                }\n            }\n            results.push(result);\n        };\n\n        NodeResultsManager.prototype._processItem = function(result) {\n            var results;\n            result.showing_results = false;\n            result.showing_history = false;\n            result.showing_menu = false;\n            result.result_section = \"scripts\";\n\n            if(result.result_type === 0) {\n                results = this.commissioning_results;\n            } else if(result.result_type === 1) {\n                // Installation results are not split into hardware types or\n                // have subtext labels.\n                this._addOrReplace(this.installation_results, result);\n                return;\n            } else {\n                // Store all remaining result types as test results in case\n                // another result type is ever added.\n                results = this.testing_results;\n                result.result_section = \"tests\";\n            }\n            var i;\n            // Fallback to storing results in other results incase a new type\n            // is added\n            var hardware_type_results = results[3];\n            for(i = 0; i < results.length; i++) {\n                if(results[i].hardware_type === result.hardware_type) {\n                    hardware_type_results = results[i].results;\n                    break;\n                }\n            }\n\n            if(result.hardware_type === 3 &&\n               result.physical_blockdevice !== null) {\n                // Storage results are split into individual components.\n                var disk, subtext;\n                // If the storage result is associated with a specific\n                // component generate subtext for that component.\n                for(i = 0; i < this._node.disks.length; i++) {\n                    disk = this._node.disks[i];\n                    if(disk.id === result.physical_blockdevice) {\n                        subtext = this._getStorageSubtext(disk);\n                        if(!angular.isArray(\n                            hardware_type_results[subtext])) {\n                                hardware_type_results[subtext] = [];\n                        }\n                        this._addOrReplace(\n                            hardware_type_results[subtext], result);\n                        break;\n                    }\n                }\n            } else {\n                // Other hardware types are not split into individual\n                // components.\n                if(!angular.isArray(hardware_type_results[null])) {\n                    hardware_type_results[null] = [];\n                }\n                this._addOrReplace(hardware_type_results[null], result);\n            }\n        };\n\n        NodeResultsManager.prototype._removeItem = function(result) {\n            var idx = this._getIndexOfItem(this._items, result.id);\n            if(idx >= 0) {\n                this._updateMetadata(this._items[idx], \"delete\");\n            }\n            this._removeItemByIdFromArray(this._items, result.id);\n            this._removeItemByIdFromArray(this._selectedItems, result.id);\n\n            var self = this;\n            angular.forEach(this.commissioning_results, function(hw_type) {\n                angular.forEach(hw_type.results, function(results, subtext) {\n                    self._removeItemByIdFromArray(results, result.id);\n                    if(results.length === 0)\n                    {\n                        delete hw_type.results[subtext];\n                    }\n                });\n            });\n            angular.forEach(this.testing_results, function(hw_type) {\n                angular.forEach(hw_type.results, function(results, subtext) {\n                    self._removeItemByIdFromArray(results, result.id);\n                    if(results.length === 0)\n                    {\n                        delete hw_type.results[subtext];\n                    }\n                });\n            });\n            this._removeItemByIdFromArray(this.installation_results, result.id);\n        };\n\n        // Return the list of ScriptResults for the given node when retrieving\n        // the initial list.\n        NodeResultsManager.prototype._initBatchLoadParameters = function() {\n            var ret = {\n                \"system_id\": this._node.system_id\n            };\n            // Limit the results returned to what can be viewed.\n            if(this._area === \"summary\") {\n                ret.has_surfaced = true;\n                ret.result_type = 2;\n            }else if(this._area === \"testing\") {\n                ret.result_type = 2;\n            }else if(this._area === \"commissioning\") {\n                ret.result_type = 0;\n            }else if(this._area === \"logs\") {\n                ret.result_type = 1;\n            }\n            return ret;\n        };\n\n        // Destroys itself. Removes self from the NodeResultsManagerFactory.\n        NodeResultsManager.prototype.destroy = function() {\n            this._factory.destroyManager(this);\n\n            // If this manager has ever loaded then the region is sending\n            // results from this node. Tell the RegionConnection to stop.\n            if(this.isLoaded()) {\n                var method = this._handler + \".clear\";\n                RegionConnection.callMethod(method, {\n                    system_id: this._node.system_id\n                });\n            }\n        };\n\n        // Get result data.\n        NodeResultsManager.prototype.get_result_data = function(\n            script_id, data_type) {\n            var method = this._handler + \".get_result_data\";\n            var params = {\n                id: script_id,\n                data_type: data_type\n            };\n            return RegionConnection.callMethod(method, params);\n        };\n\n        // Get historic data.\n        NodeResultsManager.prototype.get_history = function(script_id) {\n            var method = this._handler + \".get_history\";\n            var params = {\n                id: script_id,\n            };\n            return RegionConnection.callMethod(method, params);\n        };\n\n        // Factory that holds all created NodeResultsManagers.\n        function NodeResultsManagerFactory() {\n            // Holds a list of all NodeResultsManagers that have been created.\n            this._managers = [];\n        }\n\n        // Gets the NodeResultsManager for the nodes with node_system_id.\n        NodeResultsManagerFactory.prototype._getManager = function(node) {\n            var i;\n            for(i = 0; i < this._managers.length; i++) {\n                if(this._managers[i]._node.system_id === node.system_id) {\n                    return this._managers[i];\n                }\n            }\n            return null;\n        };\n\n        // Gets the NodeResultsManager for the nodes system_id. Creates a new\n        // manager if one does not exist.\n        NodeResultsManagerFactory.prototype.getManager = function(\n            node, area) {\n            var manager = this._getManager(node);\n            if(!angular.isObject(manager)) {\n                // Not created so create it.\n                manager = new NodeResultsManager(node, this);\n                this._managers.push(manager);\n            }\n            manager._area = area;\n            if(area === \"commissioning\") {\n                manager.results = manager.commissioning_results;\n            }else if(area === \"logs\") {\n                manager.results = manager.installation_results;\n            }else{\n                manager.results = manager.testing_results;\n            }\n            return manager;\n        };\n\n        // Destroy the NodeResultsManager.\n        NodeResultsManagerFactory.prototype.destroyManager = function(manager) {\n            var idx = this._managers.indexOf(manager);\n            if(idx >= 0) {\n                this._managers.splice(idx, 1);\n            }\n        };\n\n        return new NodeResultsManagerFactory();\n    }]);\n","/* Copyright 2015-2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Nodes Manager\n *\n * Manages all of the nodes in the browser. This manager is used for the\n * machine and controller listing and view pages (as machines and controllers\n * are both Nodes).  The manager uses the RegionConnection to load the nodes,\n * update the nodes, and listen for notification events about nodes.\n */\n\nangular.module('MAAS').service(\n    'NodesManager',\n    ['$q', '$rootScope', '$timeout', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, $timeout, RegionConnection, Manager) {\n\n        function NodesManager() {\n            Manager.call(this);\n        }\n\n        NodesManager.prototype = new Manager();\n\n        // Create a node.\n        NodesManager.prototype.create = function(node) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the node to the list. Adding it here will cause angular\n            // to complain because the same object exist in the list.\n            return RegionConnection.callMethod(\n                this._handler + \".create\", node);\n        };\n\n        // Perform the action on the node.\n        NodesManager.prototype.performAction = function(\n            node, action, extra) {\n            if(!angular.isObject(extra)) {\n                extra = {};\n            }\n            return RegionConnection.callMethod(this._handler + \".action\", {\n                \"system_id\": node.system_id,\n                \"action\": action,\n                \"extra\": extra\n                });\n        };\n\n        // Check the power state for the node.\n        NodesManager.prototype.checkPowerState = function(node) {\n            return RegionConnection.callMethod(this._handler + \".check_power\", {\n                \"system_id\": node.system_id\n                }).then(function(state) {\n                    node.power_state = state;\n                    return state;\n                }, function(error) {\n                    node.power_state = \"error\";\n\n                    // Already been logged server side, but log it client\n                    // side so if they really care they can see why.\n                    console.log(error);\n\n                    // Return the state as error to the remaining callbacks.\n                    return \"error\";\n                });\n        };\n\n        // Create the physical interface on the node.\n        NodesManager.prototype.createPhysicalInterface = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_physical\", params);\n            };\n\n        // Create the VLAN interface on the node.\n        NodesManager.prototype.createVLANInterface = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_vlan\", params);\n            };\n\n        // Create the bond interface on the node.\n        NodesManager.prototype.createBondInterface = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_bond\", params);\n            };\n\n        // Create the bridge interface on the node.\n        NodesManager.prototype.createBridgeInterface = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_bridge\", params);\n            };\n\n        // Update the interface for the node.\n        NodesManager.prototype.updateInterface = function(\n            node, interface_id, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                params.interface_id = interface_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".update_interface\", params);\n            };\n\n        // Update an interface from a maas-obj-form.\n        NodesManager.prototype.updateInterfaceForm = function(\n            params) {\n                return RegionConnection.callMethod(\n                    this._handler + \".update_interface\", params);\n            };\n\n        // Delete the interface for the node.\n        NodesManager.prototype.deleteInterface = function(\n            node, interface_id) {\n                var params = {\n                    system_id: node.system_id,\n                    interface_id: interface_id\n                };\n                return RegionConnection.callMethod(\n                    this._handler + \".delete_interface\", params);\n            };\n\n        // Create or update the link to the subnet for the interface.\n        NodesManager.prototype.linkSubnet = function(\n            node, interface_id, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                params.interface_id = interface_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".link_subnet\", params);\n            };\n\n        // Remove the link to the subnet for the interface.\n        NodesManager.prototype.unlinkSubnet = function(\n            node, interface_id, link_id) {\n                var params = {\n                    system_id: node.system_id,\n                    interface_id: interface_id,\n                    link_id: link_id\n                };\n                return RegionConnection.callMethod(\n                    this._handler + \".unlink_subnet\", params);\n            };\n\n        // Send the update information to the region.\n        NodesManager.prototype.updateFilesystem = function(\n            node, block_id, partition_id, fstype, mount_point, mount_options,\n            tags) {\n                var self = this;\n                var method = this._handler + \".update_filesystem\";\n                var params = {\n                    system_id: node.system_id,\n                    block_id: block_id,\n                    partition_id: partition_id,\n                    fstype: fstype,\n                    mount_point: mount_point,\n                    mount_options: mount_options,\n                    tags: tags\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Delete the disk.\n        NodesManager.prototype.deleteDisk = function(\n            node, block_id) {\n                var self = this;\n                var method = this._handler + \".delete_disk\";\n                var params = {\n                    system_id: node.system_id,\n                    block_id: block_id\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Delete the partition.\n        NodesManager.prototype.deletePartition = function(\n            node, partition_id) {\n                var self = this;\n                var method = this._handler + \".delete_partition\";\n                var params = {\n                    system_id: node.system_id,\n                    partition_id: partition_id\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Delete the disk or partition.\n        NodesManager.prototype.deleteVolumeGroup = function(\n            node, volume_group_id) {\n                var self = this;\n                var method = this._handler + \".delete_volume_group\";\n                var params = {\n                    system_id: node.system_id,\n                    volume_group_id: volume_group_id\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Delete a cache set.\n        NodesManager.prototype.deleteCacheSet = function(\n            node, cache_set_id) {\n                var self = this;\n                var method = this._handler + \".delete_cache_set\";\n                var params = {\n                    system_id: node.system_id,\n                    cache_set_id: cache_set_id\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Delete a filesystem.\n        NodesManager.prototype.deleteFilesystem = function(\n            node, blockdevice_id, partition_id, filesystem_id) {\n                var self = this;\n                var method = this._handler + \".delete_filesystem\";\n                var params = {\n                    system_id: node.system_id,\n                    blockdevice_id: blockdevice_id,\n                    partition_id: partition_id,\n                    filesystem_id: filesystem_id\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Create a new partition.\n        NodesManager.prototype.createPartition = function(partition) {\n            if(angular.isObject(partition['params'])) {\n                params = partition['params'];\n            } else {\n                params = {};\n            }\n            var self = this;\n            var method = this._handler + \".create_partition\";\n            params.system_id = partition['system_id'];\n            params.block_id = partition['block_id'];\n            params.partition_size = partition['partition_size'];\n\n            return RegionConnection.callMethod(method, params);\n        };\n\n        // Create a new cache set.\n        NodesManager.prototype.createCacheSet = function(\n            node, block_id, partition_id) {\n                var self = this;\n                var method = this._handler + \".create_cache_set\";\n                var params = {\n                    system_id: node.system_id,\n                    block_id: block_id,\n                    partition_id: partition_id\n                };\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Create a new bcache device.\n        NodesManager.prototype.createBcache = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_bcache\", params);\n            };\n\n        // Create a new RAID device.\n        NodesManager.prototype.createRAID = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_raid\", params);\n            };\n\n        // Create a new volume group.\n        NodesManager.prototype.createVolumeGroup = function(\n            node, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".create_volume_group\", params);\n            };\n\n        // Create a new logical volume.\n        NodesManager.prototype.createLogicalVolume = function(\n            node, volume_group_id, name, size, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                var self = this;\n                var method = this._handler + \".create_logical_volume\";\n                params.system_id = node.system_id;\n                params.volume_group_id = volume_group_id;\n                params.name = name;\n                params.size = size;\n                return RegionConnection.callMethod(method, params);\n            };\n\n        // Update a disk.\n        NodesManager.prototype.updateDisk = function(\n            node, block_id, params) {\n                if(!angular.isObject(params)) {\n                    params = {};\n                }\n                params.system_id = node.system_id;\n                params.block_id = block_id;\n                return RegionConnection.callMethod(\n                    this._handler + \".update_disk\", params);\n            };\n\n        // Set disk as the boot disk.\n        NodesManager.prototype.setBootDisk = function(\n            node, block_id) {\n                var params = {\n                    system_id: node.system_id,\n                    block_id: block_id\n                };\n                return RegionConnection.callMethod(\n                    this._handler + \".set_boot_disk\", params);\n            };\n\n        NodesManager.prototype.getSummaryXML = function(node) {\n            return RegionConnection.callMethod(\n                this._handler + \".get_summary_xml\",\n                {\"system_id\": node.system_id});\n        };\n\n        NodesManager.prototype.getSummaryYAML = function(node) {\n            return RegionConnection.callMethod(\n                this._handler + \".get_summary_yaml\",\n                {\"system_id\": node.system_id});\n        };\n\n        return NodesManager;\n    }]);\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Notifications Manager.\n *\n * Manages notifications in the browser. Uses RegionConnection to load\n * notifications, await new, updated, and deleted notifications, and to\n * dismiss them.\n */\n\nangular.module('MAAS').factory(\n    'NotificationsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n     function($q, $rootScope, RegionConnection, Manager) {\n\n        function NotificationsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"notification\";\n\n            // Listen for notify events for the notification object.\n            RegionConnection.registerNotifier(\n                \"notification\", angular.bind(this, this.onNotify));\n        }\n\n        NotificationsManager.prototype = new Manager();\n        NotificationsManager.prototype.dismiss = function(notification) {\n            return RegionConnection.callMethod(\n                \"notification.dismiss\", {id: notification.id});\n        };\n\n        return new NotificationsManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS PackageRepositories Manager\n *\n * Manages all of the PackageRepositories in the browser. The manager uses the\n * RegionConnection to load the PackageRepositories, update them, and listen\n * for notification events about them.\n */\n\nangular.module('MAAS').factory(\n    'PackageRepositoriesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n    function($q, $rootScope, RegionConnection, Manager) {\n\n        function PackageRepositoriesManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"packagerepository\";\n\n            // Listen for notify events for the PackageRepository object.\n            var self = this;\n            RegionConnection.registerNotifier(\"packagerepository\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        PackageRepositoriesManager.prototype = new Manager();\n\n        // Create the repository.\n        PackageRepositoriesManager.prototype.create = function(repository) {\n            return RegionConnection.callMethod(\n                this._handler + \".create\", repository, true);\n        };\n\n        return new PackageRepositoriesManager();\n    }]);\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Pods Manager\n *\n * Manages all of the pods in the browser. The manager uses the\n * RegionConnection to load the pods, update the pods, and listen for\n * notification events about pods.\n */\n\nangular.module('MAAS').service(\n    'PodsManager',\n    ['$q', '$rootScope', '$timeout', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, $timeout, RegionConnection, Manager) {\n\n        function PodsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"pod\";\n\n            // Listen for notify events for the pod object.\n            var self = this;\n            RegionConnection.registerNotifier(\"pod\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        PodsManager.prototype = new Manager();\n\n        // Refresh the pod information\n        PodsManager.prototype.refresh = function(pod) {\n            var self = this;\n            return RegionConnection.callMethod(\"pod.refresh\", pod).then(\n                function(pod) {\n                    self._replaceItem(pod);\n                    return pod;\n                });\n        };\n\n        // Compose a machine in the pod.\n        PodsManager.prototype.compose = function(params) {\n            var self = this;\n            return RegionConnection.callMethod(\"pod.compose\", params).then(\n                function(pod) {\n                    self._replaceItem(pod);\n                    return pod;\n                });\n        };\n\n        return new PodsManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Region Connection\n *\n * Provides the websocket connection between the client and the MAAS regiond\n * service.\n */\n\nangular.module('MAAS').factory(\n    'RegionConnection',\n    ['$q', '$rootScope', '$timeout', '$window', '$cookies', function(\n        $q, $rootScope, $timeout, $window, $cookies) {\n\n        // Message types\n        var MSG_TYPE = {\n            REQUEST: 0,\n            RESPONSE: 1,\n            NOTIFY: 2\n        };\n\n        // Response types\n        var RESPONSE_TYPE = {\n            SUCCESS: 0,\n            ERROR: 1\n        };\n\n        // Constructor\n        function RegionConnection() {\n            this.callbacks = {};\n            this.requests = {};\n            this.requestId = 0;\n            this.url = null;\n            this.websocket = null;\n            this.connected = false;\n            this.autoReconnect = true;\n            this.retryTimeout = 5000;\n            this.error = null;\n\n            // Defer used for defaultConnect. If defaultConnect is called\n            // quickly only the first one will start the connection. The\n            // remaining will recieve this defer.\n            this.defaultConnectDefer = null;\n\n            // List of functions to call when a WebSocket event occurs. Each\n            // function will get the WebSocket event passed to it.\n            this.handlers = {\n                open: [],\n                error: [],\n                close: []\n            };\n\n            // Object containing a fields with list of functions. When\n            // a NOTIFY message is received it will match the name to a field\n            // in this object. If the field exists in the object the list\n            // of functions will be called with the action and obj_id.\n            this.notifiers = {};\n        }\n\n        // Return a new request id.\n        RegionConnection.prototype.newRequestId = function() {\n            this.requestId += 1;\n            return this.requestId;\n        };\n\n        // Register event handler.\n        RegionConnection.prototype.registerHandler = function (name, func) {\n            if(!angular.isDefined(this.handlers[name])) {\n                throw new Error(\"Invalid handler: \" + name);\n            }\n            if(!angular.isFunction(func)) {\n                throw new Error(\"Requires a function to register a handler.\");\n            }\n            this.handlers[name].push(func);\n        };\n\n        // Unregister event handler.\n        RegionConnection.prototype.unregisterHandler = function (name, func) {\n            if(!angular.isDefined(this.handlers[name])) {\n                throw new Error(\"Invalid handler: \" + name);\n            }\n            var idx = this.handlers[name].indexOf(func);\n            if(idx >= 0) {\n                this.handlers[name].splice(idx, 1);\n            }\n        };\n\n        // Register notification handler.\n        RegionConnection.prototype.registerNotifier = function(name, func) {\n            if(!angular.isFunction(func)) {\n                throw new Error(\"Requires a function to register a notifier.\");\n            }\n            if(angular.isUndefined(this.notifiers[name])) {\n                this.notifiers[name] = [];\n            }\n            this.notifiers[name].push(func);\n        };\n\n        // Unregister notification handler.\n        RegionConnection.prototype.unregisterNotifier = function(name, func) {\n            if(angular.isUndefined(this.notifiers[name])) {\n                return;\n            }\n            var idx = this.notifiers[name].indexOf(func);\n            if(idx >= 0) {\n                this.notifiers[name].splice(idx, 1);\n            }\n        };\n\n        // Return True if currently connected to region.\n        RegionConnection.prototype.isConnected = function() {\n            return this.connected;\n        };\n\n        // Builds the websocket connection.\n        RegionConnection.prototype.buildSocket = function(url) {\n            return new WebSocket(url);\n        };\n\n        // Opens the websocket connection.\n        RegionConnection.prototype.connect = function() {\n            this.url = this._buildUrl();\n            this.autoReconnect = true;\n            this.websocket = this.buildSocket(this.url);\n\n            var self = this;\n            this.websocket.onopen = function(evt) {\n                self.connected = true;\n                angular.forEach(self.handlers.open, function(func) {\n                    func(evt);\n                });\n            };\n            this.websocket.onerror = function(evt) {\n                angular.forEach(self.handlers.error, function(func) {\n                    func(evt);\n                });\n            };\n            this.websocket.onclose = function(evt) {\n                self.connected = false;\n                self.error = \"Unable to connect to: \" + self.url.split(\"?\")[0];\n                angular.forEach(self.handlers.close, function(func) {\n                    func(evt);\n                });\n                if(self.autoReconnect) {\n                    $timeout(function() {\n                        self.connect();\n                    }, self.retryTimeout);\n                }\n            };\n            this.websocket.onmessage = function(evt) {\n                self.onMessage(angular.fromJson(evt.data));\n            };\n        };\n\n        // Closes the websocket connection.\n        RegionConnection.prototype.close = function() {\n            this.autoReconnect = false;\n            this.websocket.close();\n            this.websocket = null;\n        };\n\n        // Return the protocol used for the websocket connection.\n        RegionConnection.prototype._getProtocol = function() {\n            return $window.location.protocol;\n        };\n\n        // Return connection url to websocket from current location and\n        // html options.\n        RegionConnection.prototype._buildUrl = function() {\n            var host = $window.location.hostname;\n            var port = $window.location.port;\n            var path = $window.location.pathname;\n            var proto = 'ws';\n            if (this._getProtocol() === 'https:') {\n                proto = 'wss';\n            }\n\n            // Path and port can be overridden by href and data-websocket-port\n            // in the base element respectively.\n            var base = angular.element(\"base\");\n            if(angular.isDefined(base)) {\n                var newPath = base.attr(\"href\");\n                if(angular.isDefined(newPath)) {\n                    path = newPath;\n                }\n                var newPort = base.data(\"websocket-port\");\n                if(angular.isDefined(newPort)) {\n                    port = newPort;\n                }\n            }\n\n            // Append final '/' if missing from end of path.\n            if(path[path.length - 1] !== '/') {\n                path += '/';\n            }\n\n            // Build the URL. Include the :port only if it has a value.\n            url = proto + \"://\" + host;\n            if(angular.isString(port) && port.length > 0){\n                url += \":\" + port;\n            }\n            url += path + \"ws\";\n\n            // Include the csrftoken in the URL if it's defined.\n            var csrftoken;\n            if(angular.isFunction($cookies.get)) {\n                csrftoken = $cookies.get('csrftoken');\n            } else {\n                csrftoken = $cookies.csrftoken;\n            }\n            if(angular.isDefined(csrftoken)) {\n                url += '?csrftoken=' + encodeURIComponent(csrftoken);\n            }\n\n            return url;\n        };\n\n        // Opens the default websocket connection.\n        RegionConnection.prototype.defaultConnect = function() {\n            // Already been called but the connection has not been completed.\n            if(angular.isObject(this.defaultConnectDefer)) {\n                return this.defaultConnectDefer.promise;\n            }\n\n            // Already connected.\n            var defer;\n            if(this.isConnected()) {\n                // Create a new defer as the defaultConnectDefer would\n                // have already been resolved.\n                defer = $q.defer();\n\n                // Cannot resolve the defer inline as it hasn't been given\n                // back to the caller. It will be called in the next loop.\n                $timeout(defer.resolve);\n                return defer.promise;\n            }\n\n            // Start the connection.\n            var self = this, opened, errored;\n            defer = this.defaultConnectDefer = $q.defer();\n            opened = function(evt) {\n                this.defaultConnectDefer = null;\n                self.unregisterHandler(\"open\", opened);\n                self.unregisterHandler(\"error\", errored);\n                $rootScope.$apply(defer.resolve(evt));\n            };\n            errored = function(evt) {\n                this.defaultConnectDefer = null;\n                self.unregisterHandler(\"open\", opened);\n                self.unregisterHandler(\"error\", errored);\n                $rootScope.$apply(defer.reject(evt));\n            };\n            this.registerHandler(\"open\", opened);\n            this.registerHandler(\"error\", errored);\n            this.connect();\n            return defer.promise;\n        };\n\n        // Called when a message is received.\n        RegionConnection.prototype.onMessage = function(msg) {\n            // Response\n            if(msg.type === MSG_TYPE.RESPONSE) {\n                this.onResponse(msg);\n            // Notify\n            } else if(msg.type === MSG_TYPE.NOTIFY) {\n                this.onNotify(msg);\n            }\n        };\n\n        // Called when a response message is recieved.\n        RegionConnection.prototype.onResponse = function(msg) {\n            // Grab the registered defer from the callbacks list.\n            var defer = this.callbacks[msg.request_id];\n            var remembered_request = this.requests[msg.request_id];\n            if(angular.isDefined(defer)) {\n                if(msg.rtype === RESPONSE_TYPE.SUCCESS) {\n                    // Resolve the defer inside of the digest cycle, so any\n                    // update to an object or collection will trigger a\n                    // watcher.\n                    $rootScope.$apply(defer.resolve(msg.result));\n                } else if(msg.rtype === RESPONSE_TYPE.ERROR) {\n                    // Reject the defer since an error occurred.\n                    if(angular.isObject(remembered_request)) {\n                        $rootScope.$apply(defer.reject({\n                            \"error\": msg.error,\n                            \"request\": remembered_request\n                        }));\n                    } else {\n                        $rootScope.$apply(defer.reject(msg.error));\n                    }\n                }\n                // Remove the defer from the callback list.\n                delete this.callbacks[msg.request_id];\n                delete this.requests[msg.request_id];\n            }\n        };\n\n        // Called when a notify response is recieved.\n        RegionConnection.prototype.onNotify = function(msg) {\n            var handlers = this.notifiers[msg.name];\n            if(angular.isArray(handlers)) {\n                angular.forEach(handlers, function(handler) {\n                    handler(msg.action, msg.data);\n                });\n            }\n        };\n\n        // Call method on the region.\n        RegionConnection.prototype.callMethod = function(\n                method, params, remember) {\n            var defer = $q.defer();\n            var request_id = this.newRequestId();\n            var request = {\n                type: MSG_TYPE.REQUEST,\n                request_id: request_id,\n                method: method,\n                params: params\n            };\n            this.callbacks[request_id] = defer;\n            // If requested, remember what the details of the request were,\n            // so that the controller can refresh its memory.\n            if (remember) {\n                this.requests[request_id] = request;\n            }\n            this.websocket.send(angular.toJson(request));\n            return defer.promise;\n        };\n\n        return new RegionConnection();\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Resource Pool Manager\n *\n * Manages all of the resource pools in the browser.\n */\n\nangular.module('MAAS').factory(\n    'ResourcePoolsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n        $q, $rootScope, RegionConnection, Manager) {\n\n        function ResourcePoolsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"resourcepool\";\n\n            // Listen for notify events for the resource pool object.\n            var self = this;\n            RegionConnection.registerNotifier(\n                \"resourcepool\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        ResourcePoolsManager.prototype = new Manager();\n\n        // Return the default pool.\n        ResourcePoolsManager.prototype.getDefaultPool = function() {\n            var i;\n            for(i=0;i<this._items.length;i++) {\n                if(this._items[i].id === 0) {\n                    return this._items[i];\n                }\n            }\n        };\n\n        return new ResourcePoolsManager();\n    }]);\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS ScriptsManager Manager\n *\n * Manages all of the Scripts in the browser. The manager uses the\n * RegionConnection to load the Scripts, and listen for notification\n * events about Scripts.\n */\n\nangular.module('MAAS').factory(\n    'ScriptsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n    function($q, $rootScope, RegionConnection, Manager) {\n\n        function ScriptsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"script\";\n\n            // Listen for notify events for the Script object.\n            var self = this;\n            RegionConnection.registerNotifier(\"script\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        ScriptsManager.prototype = new Manager();\n\n        return new ScriptsManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Service Manager\n *\n * Manages all of the services for a node in the browser. The manager uses the\n * RegionConnection to load the services and listen for service notifications.\n */\n\nangular.module('MAAS').factory(\n    'ServicesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, RegionConnection, Manager) {\n\n        function ServicesManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"service\";\n\n            // Listen for notify events for the service object.\n            var self = this;\n            RegionConnection.registerNotifier(\"service\",\n                function(action, data) {\n                    self.onNotify(action, data);\n            });\n        }\n\n        ServicesManager.prototype = new Manager();\n\n        return new ServicesManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Space Manager\n *\n * Manages all of the spaces in the browser. The manager uses the\n * RegionConnection to load the spaces, update the spaces, and listen for\n * notification events about spaces.\n */\n\nangular.module('MAAS').factory(\n    'SpacesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', 'SubnetsManager',\n    function($q, $rootScope, RegionConnection, Manager, SubnetsManager) {\n\n        function SpacesManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"space\";\n\n            // Listen for notify events for the space object.\n            var self = this;\n            RegionConnection.registerNotifier(\"space\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        SpacesManager.prototype = new Manager();\n\n        // Create a space.\n        SpacesManager.prototype.create = function(space) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the domain to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"space.create\", space);\n        };\n\n\n        // Delete the space.\n        SpacesManager.prototype.deleteSpace = function(space) {\n            return RegionConnection.callMethod(\"space.delete\", space);\n        };\n\n        return new SpacesManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS SSHKey Manager\n *\n * Manages all of the SSHKeys in the browser. The manager uses the\n * RegionConnection to load the SSHKeys, update the SSHKeys, and\n * listen for notification events about SSHKeys.\n */\n\nangular.module('MAAS').factory(\n    'SSHKeysManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n    function($q, $rootScope, RegionConnection, Manager) {\n\n        function SSHKeysManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"sshkey\";\n\n            // Listen for notify events for the sshkey object.\n            var self = this;\n            RegionConnection.registerNotifier(\"sshkey\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        SSHKeysManager.prototype = new Manager();\n\n        // Imports SSH keys from a launchpad and github.\n        SSHKeysManager.prototype.importKeys = function(params) {\n            // We don't add the results to the list because a NOTIFY event will\n            // add the ssh key to the list. Adding it here will cause angular\n            // to complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"sshkey.import_keys\", params);\n        };\n\n        return new SSHKeysManager();\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS StaticRoute Manager\n *\n * Manages all of the StaticRoutes in the browser. The manager uses the\n * RegionConnection to load the StaticRoutes, update the StaticRoutes, and\n * listen for notification events about StaticRoutes.\n */\n\nangular.module('MAAS').factory(\n    'StaticRoutesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager',\n    function($q, $rootScope, RegionConnection, Manager) {\n\n        function StaticRoutesManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"staticroute\";\n\n            // Listen for notify events for the staticroute object.\n            var self = this;\n            RegionConnection.registerNotifier(\"staticroute\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        StaticRoutesManager.prototype = new Manager();\n\n        return new StaticRoutesManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Subnet Manager\n *\n * Manages all of the subnets in the browser. The manager uses the\n * RegionConnection to load the subnets, update the subnets, and listen for\n * notification events about subnets.\n */\n\nangular.module('MAAS').factory(\n    'SubnetsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, RegionConnection, Manager) {\n\n        function SubnetsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"subnet\";\n\n            // Listen for notify events for the subnet object.\n            var self = this;\n            RegionConnection.registerNotifier(\"subnet\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        SubnetsManager.prototype = new Manager();\n\n        // Return the name of the subnet. Will include the name of the subnet\n        // in '(', ')' if it exists and not the same as the cidr.\n        SubnetsManager.prototype.getName = function(subnet) {\n            if(!angular.isObject(subnet)) {\n                return \"\";\n            }\n\n            var name = subnet.cidr;\n            if(angular.isString(subnet.name) &&\n                subnet.name !== \"\" &&\n                subnet.name !== subnet.cidr) {\n                name += \" (\" + subnet.name + \")\";\n            }\n            return name;\n        };\n\n        SubnetsManager.prototype.getLargestRange = function(subnet) {\n            var largest_range = {num_addresses: 0, start: \"\", end: \"\"};\n            angular.forEach(subnet.statistics.ranges, function(iprange) {\n                if(angular.equals(iprange.purpose, [\"unused\"]) &&\n                        iprange.num_addresses > largest_range.num_addresses) {\n                    largest_range = iprange;\n                }\n            });\n            return largest_range;\n        };\n\n        SubnetsManager.prototype.hasDynamicRange = function(subnet) {\n            var i;\n            for(i = 0; i < subnet.statistics.ranges.length ; i++) {\n                var iprange = subnet.statistics.ranges[i];\n                if(iprange.purpose.indexOf(\"dynamic\") !== -1) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        // Create a subnet.\n        SubnetsManager.prototype.create = function(subnet) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the domain to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"subnet.create\", subnet);\n        };\n\n        // Delete the subnet.\n        SubnetsManager.prototype.deleteSubnet = function(subnet) {\n            return RegionConnection.callMethod(\"subnet.delete\", {\n                \"id\": subnet.id\n            });\n        };\n\n        // Perform a neighbour discovery scan on the subnet.\n        SubnetsManager.prototype.scanSubnet = function(subnet) {\n            return RegionConnection.callMethod(\"subnet.scan\", {\n                \"id\": subnet.id\n            });\n        };\n\n        return new SubnetsManager();\n    }]);\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Switches Manager\n *\n * Manages all of the switches in the browser. This manager is used for the\n * switches listing and the switches view page. The manager uses the\n * RegionConnection to load the switches, update the switches, and listen for\n * notification events about switches.\n */\n\nangular.module('MAAS').factory(\n    'SwitchesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'NodesManager', function(\n            $q, $rootScope, RegionConnection, NodesManager) {\n\n        function SwitchesManager() {\n            NodesManager.call(this);\n\n            this._pk = \"system_id\";\n            this._handler = \"switch\";\n            this._metadataAttributes = {\n                \"owner\": null,\n                \"subnets\": null,\n                \"tags\": null,\n                \"zone\": function(device) {\n                    return device.zone.name;\n                }\n            };\n\n            // Listen for notify events for the switch object.\n            var self = this;\n            RegionConnection.registerNotifier(\"switch\", function(action, data) {\n                self.onNotify(action, data);\n            });\n        }\n\n        SwitchesManager.prototype = new NodesManager();\n\n        // Create a switch.\n        SwitchesManager.prototype.create = function(node) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the device to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"switch.create\", node);\n        };\n\n        // Perform the action on the switch.\n        SwitchesManager.prototype.performAction = function(\n            device, action, extra) {\n\n            if(!angular.isObject(extra)) {\n                extra = {};\n            }\n            return RegionConnection.callMethod(\"switch.action\", {\n                \"system_id\": device.system_id,\n                \"action\": action,\n                \"extra\": extra\n                });\n        };\n\n        return new SwitchesManager();\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Tag Manager\n *\n * Manages all of the tags in the browser. The manager uses the\n * RegionConnection to load the tags, update the tags, and listen for\n * notification events about tags.\n */\n\nangular.module('MAAS').factory(\n    'TagsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, RegionConnection, Manager) {\n\n        function TagsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"tag\";\n\n            // Listen for notify events for the tag object.\n            var self = this;\n            RegionConnection.registerNotifier(\"tag\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        TagsManager.prototype = new Manager();\n\n        // Helper for autocomplete that will return a string of tags that\n        // contain the query text.\n        TagsManager.prototype.autocomplete = function(query) {\n            var matching = [];\n            angular.forEach(this._items, function(item) {\n                if(item.name.indexOf(query) > -1) {\n                    matching.push(item.name);\n                }\n            });\n            return matching;\n        };\n\n        return new TagsManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS User Manager\n *\n * Manages all of the users in the browser. The manager uses the\n * RegionConnection to load the users, update the users, and listen for\n * notification events about users.\n */\n\nangular.module('MAAS').factory(\n    'UsersManager',\n    ['RegionConnection', 'Manager', 'ErrorService',\n    function(RegionConnection, Manager, ErrorService) {\n\n        function UsersManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"user\";\n\n            // Holds the authenticated user for the connection.\n            this._authUser = null;\n\n            // Listen for notify events for the user object.\n            var self = this;\n            RegionConnection.registerNotifier(\"user\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        UsersManager.prototype = new Manager();\n\n        // Get the authenticated user for the connection.\n        UsersManager.prototype.getAuthUser = function() {\n            return this._authUser;\n        };\n\n        // Return true if the authenticated user is super user.\n        UsersManager.prototype.isSuperUser = function() {\n            var authUser = this.getAuthUser();\n            if(!angular.isObject(authUser)) {\n                return false;\n            }\n            return authUser.is_superuser;\n        };\n\n        // Return true if the authenticated user has uploaded at\n        // least one SSH key.\n        UsersManager.prototype.getSSHKeyCount = function() {\n            authuser = this._authUser;\n            if(!angular.isObject(authuser)) {\n                return 0;\n            }\n            return authuser.sshkeys_count;\n        };\n\n        // Load the authenticated user.\n        UsersManager.prototype._loadAuthUser = function() {\n            var self = this;\n            return RegionConnection.callMethod(\"user.auth_user\", {}).then(\n                function(user) {\n                    if(angular.isObject(self._authUser)) {\n                        // Copy the user into the authUser. This keeps the\n                        // reference the same, not requiring another call to\n                        // getAuthUser.\n                        angular.copy(user, self._authUser);\n                    } else {\n                        self._authUser = user;\n                    }\n                    return self._authUser;\n                }, function(error) {\n                    ErrorService.raiseError(error);\n                });\n        };\n\n        UsersManager.prototype._replaceItem = function(item) {\n            Manager.prototype._replaceItem.call(this, item);\n\n            // Update the authenticated user if updated item has the\n            // same primary key.\n            if(angular.isObject(this._authUser) &&\n                this._authUser[this._pk] === item[this._pk]) {\n                // Copy the item into the authUser. This keeps the reference\n                // the same, not requiring another call to getAuthUser.\n                angular.copy(item, this._authUser);\n            }\n        };\n\n        UsersManager.prototype.loadItems = function() {\n            // Load the auth user when all the items are loaded as well.\n            this._loadAuthUser();\n            return Manager.prototype.loadItems.call(this);\n        };\n\n        UsersManager.prototype.reloadItems = function() {\n            // Load the auth user when all the items are reloaded as well.\n            this._loadAuthUser();\n            return Manager.prototype.reloadItems.call(this);\n        };\n\n        // Mark the user as completed the intro.\n        UsersManager.prototype.markIntroComplete = function() {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"user.mark_intro_complete\", {}).then(\n                    function(user) {\n                        if(angular.isObject(self._authUser)) {\n                            // Copy the user into the authUser. This keeps the\n                            // reference the same, not requiring another call\n                            // to getAuthUser.\n                            angular.copy(user, self._authUser);\n                        } else {\n                            self._authUser = user;\n                        }\n                        return self._authUser;\n                    }, function(error) {\n                        ErrorService.raiseError(error);\n                    });\n        };\n\n        // Create a new authorisation token for the current user.\n        UsersManager.prototype.createAuthorisationToken = function() {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"user.create_authorisation_token\", {}).catch(function(error) {\n                    ErrorService.raiseError(error);\n                });\n        };\n\n        // Delete the authorisation token for the current user.\n        UsersManager.prototype.deleteAuthorisationToken = function(key) {\n            var self = this;\n            return RegionConnection.callMethod(\n                \"user.delete_authorisation_token\", {\n                    key: key\n                }).catch(function(error) {\n                    ErrorService.raiseError(error);\n                });\n        };\n\n        return new UsersManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS VLAN Manager\n *\n * Manages all of the VLANs in the browser. The manager uses the\n * RegionConnection to load the VLANs, update the VLANs, and listen for\n * notification events about VLANs.\n */\n\nangular.module('MAAS').factory(\n    'VLANsManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', 'SubnetsManager',\n    function($q, $rootScope, RegionConnection, Manager, SubnetsManager) {\n\n        function VLANsManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"vlan\";\n\n            // Listen for notify events for the vlan object.\n            var self = this;\n            RegionConnection.registerNotifier(\"vlan\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        VLANsManager.prototype = new Manager();\n\n        VLANsManager.prototype.getName = function(vlan) {\n            var name = vlan.vid;\n            if(vlan.vid === 0) {\n                name = \"untagged\";\n            } else if(angular.isString(vlan.name) && vlan.name !== \"\") {\n                name += \" (\" + vlan.name + \")\";\n            }\n            return name;\n        };\n\n        // Delete the VLAN.\n        VLANsManager.prototype.deleteVLAN = function(vlan) {\n            return RegionConnection.callMethod(\n                \"vlan.delete\", { \"id\": vlan.id }, true);\n        };\n\n        // This is needed for testing: in the normal course of things,\n        // rack_sids is generated entirely by the websocket handler.\n        VLANsManager.prototype.addRackController = function(vlan, rack) {\n            vlan.rack_sids.push(rack.system_id);\n        };\n\n        // Configure DHCP on the VLAN\n        VLANsManager.prototype.configureDHCP = function(\n           vlan, controllers, extra, relay_vlan) {\n           var params = {\n               \"id\": vlan.id,\n               \"controllers\": controllers,\n               \"extra\": extra\n           };\n           if(relay_vlan === null || angular.isNumber(relay_vlan)) {\n              params.relay_vlan = relay_vlan;\n           }\n           return RegionConnection.callMethod(\n                \"vlan.configure_dhcp\", params, true);\n        };\n\n        // Disable DHCP on the VLAN\n        VLANsManager.prototype.disableDHCP = function(vlan) {\n            return RegionConnection.callMethod(\n                \"vlan.configure_dhcp\", {\n                    \"id\": vlan.id,\n                    \"controllers\": [],\n                    \"relay_vlan\": null\n                }, true);\n        };\n\n        // Create a VLAN.\n        VLANsManager.prototype.create = function(vlan) {\n            // We don't add the item to the list because a NOTIFY event will\n            // add the domain to the list. Adding it here will cause angular to\n            // complain because the same object exist in the list.\n            return RegionConnection.callMethod(\"vlan.create\", vlan);\n        };\n\n        return new VLANsManager();\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Zone Manager\n *\n * Manages all of the zones in the browser. The manager uses the\n * RegionConnection to load the zones, update the zones, and listen for\n * notification events about zones.\n */\n\nangular.module('MAAS').factory(\n    'ZonesManager',\n    ['$q', '$rootScope', 'RegionConnection', 'Manager', function(\n            $q, $rootScope, RegionConnection, Manager) {\n\n        function ZonesManager() {\n            Manager.call(this);\n\n            this._pk = \"id\";\n            this._handler = \"zone\";\n\n            // Listen for notify events for the zone object.\n            var self = this;\n            RegionConnection.registerNotifier(\"zone\",\n                function(action, data) {\n                    self.onNotify(action, data);\n                });\n        }\n\n        ZonesManager.prototype = new Manager();\n\n        // Return the default zone.\n        ZonesManager.prototype.getDefaultZone = function() {\n            if(this._items.length === 0) {\n                return null;\n            } else {\n                var i;\n                for(i=0;i<this._items.length;i++) {\n                    if(this._items[i].id === 0) {\n                        return this._items[i];\n                    }\n                }\n            }\n            return this._items[0];\n        };\n\n        return new ZonesManager();\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Filter VLANs by Fabric.\n */\n\nangular.module('MAAS').filter('filterByFabric', function() {\n    return function(vlans, fabric) {\n        var filtered = [];\n        var id;\n        if(angular.isObject(fabric)) {\n            id = fabric.id;\n        } else if(angular.isNumber(fabric)) {\n            id = fabric;\n        } else {\n            return filtered;\n        }\n        angular.forEach(vlans, function(vlan) {\n            if(vlan.fabric === id) {\n                filtered.push(vlan);\n            }\n        });\n        return filtered;\n    };\n});\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Filter Subnets by Space.\n */\n\nangular.module('MAAS').filter('filterBySpace', function() {\n    return function(objects, space) {\n        var filtered = [];\n        var id;\n        if(angular.isObject(space)) {\n            id = space.id;\n        } else if(angular.isNumber(space)) {\n            id = space;\n        } else {\n            return filtered;\n        }\n        angular.forEach(objects, function(object) {\n            if(object.space === id) {\n                filtered.push(object);\n            }\n        });\n        return filtered;\n    };\n});\n\nangular.module('MAAS').filter('filterByNullSpace', function() {\n    return function(objects) {\n        var filtered = [];\n        angular.forEach(objects, function(object) {\n            if(object.space === null) {\n                filtered.push(object);\n            }\n        });\n        return filtered;\n    };\n});","/* Copyright 2016-2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Filter objects with subnet foreign key references by a particular subnet.\n */\n\nangular.module('MAAS').filter('filterBySubnet', function() {\n    return function(foreign_objects, subnet, key) {\n        var filtered = [];\n        var id;\n        if(angular.isObject(subnet)) {\n            id = subnet.id;\n        } else if(angular.isNumber(subnet)) {\n            id = subnet;\n        } else {\n            return filtered;\n        }\n        if(angular.isUndefined(key)) {\n            key = 'subnet';\n        }\n        angular.forEach(foreign_objects, function(obj) {\n            if(obj[key] === id) {\n                filtered.push(obj);\n            }\n        });\n        return filtered;\n    };\n});\n\n// Filters by subnet, unless the subnet is not defined. If the subnet is not\n// defined, filters by VLAN.\nangular.module('MAAS').filter('filterBySubnetOrVlan', function() {\n    return function(foreign_objects, subnet, vlan) {\n        var filtered = [];\n        var id;\n        var key = null;\n        if(angular.isDefined(subnet) && subnet !== null) {\n            key = 'subnet';\n            if(angular.isObject(subnet)) {\n                id = subnet.id;\n            } else if(angular.isNumber(subnet)) {\n                id = subnet;\n            }\n        } else if(angular.isDefined(vlan) && vlan !== null) {\n            key = 'vlan';\n            if(angular.isObject(vlan)) {\n                id = vlan.id;\n            } else if(angular.isNumber(vlan)) {\n                id = vlan;\n            }\n        } else {\n            return filtered;\n        }\n        angular.forEach(foreign_objects, function(obj) {\n            if(obj[key] === id) {\n                filtered.push(obj);\n            }\n        });\n        return filtered;\n    };\n});\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Filter Subnets by VLAN.\n */\n\nangular.module('MAAS').filter('filterByVLAN', function() {\n    return function(subnets, vlan) {\n        var filtered = [];\n        var id;\n        if(angular.isObject(vlan)) {\n            id = vlan.id;\n        } else if(angular.isNumber(vlan)) {\n            id = vlan;\n        } else {\n            return filtered;\n        }\n        angular.forEach(subnets, function(subnet) {\n            if(subnet.vlan === id) {\n                filtered.push(subnet);\n            }\n        });\n        return filtered;\n    };\n});\n\nangular.module('MAAS').filter('filterControllersByVLAN', function() {\n    return function(controllers, vlan) {\n        var filtered = [];\n        if(!angular.isObject(vlan)) {\n            return filtered;\n        }\n        angular.forEach(controllers, function(controller) {\n            // XXX mpontillo disable VLAN check until VLAN is populated\n            // on the rack controller's interfaces.\n            // if(controller.vlan_ids.indexOf(vlan.id) != -1) {\n\n            // XXX mpontillo 2016-02-22 this is a hack to prevent too many\n            // nodes from being sent through the filter; we have a bug which\n            // sends nodes in which are not controllers.\n            if(controller.node_type === 2 || controller.node_type === 4) {\n                filtered.push(controller);\n            }\n        });\n        return filtered;\n    };\n});\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Nodes Filter\n */\n\nangular.module('MAAS').filter('nodesFilter', ['$filter', 'SearchService',\n    function($filter, SearchService) {\n\n        // Default filter built-in angular. Used on all extra filters that do\n        // not specify a specific type.\n        var standardFilter = $filter('filter');\n\n        // Helpers that convert the pseudo field on node to an actual\n        // value from the node.\n        var mappings = {\n            cpu: function(node) {\n                return node.cpu_count;\n            },\n            cores: function(node) {\n                return node.cpu_count;\n            },\n            ram: function(node) {\n                return node.memory;\n            },\n            mac: function(node) {\n                macs = [];\n                macs.push(node.pxe_mac);\n                macs.push.apply(macs, node.extra_macs);\n                return macs;\n            },\n            zone: function(node) {\n                return node.zone.name;\n            },\n            pool: function(node) {\n                return node.pool.name;\n            },\n            pod: function(node) {\n                return (node.pod === undefined) ? undefined : node.pod.name;\n            },\n            'pod-id': function(node) {\n                return (node.pod === undefined) ? undefined : node.pod.id;\n            },\n            power: function(node) {\n                return node.power_state;\n            },\n            release: function(node) {\n                if(node.status_code === 6 || node.status_code === 9) {\n                    return node.osystem + \"/\" + node.distro_series;\n                } else {\n                    return '';\n                }\n            }\n        };\n\n        // Return true when value is an integer.\n        function isInteger(value) {\n            // +1 done to silence js-lint.\n            return value % +1 === 0;\n        }\n\n        // Return true when lowercase value contains the already\n        // lowercased lowerTerm.\n        function _matches(value, lowerTerm, exact) {\n            if(angular.isNumber(value)) {\n                if(exact) {\n                    if(isInteger(value)) {\n                        return value === parseInt(lowerTerm, 10);\n                    } else {\n                        return value === parseFloat(lowerTerm);\n                    }\n                } else {\n                    if(isInteger(value)) {\n                        return value >= parseInt(lowerTerm, 10);\n                    } else {\n                        return value >= parseFloat(lowerTerm);\n                    }\n                }\n            } else if(angular.isString(value)) {\n                if(exact) {\n                    return value.toLowerCase() === lowerTerm;\n                } else {\n                    return value.toLowerCase().indexOf(lowerTerm) >= 0;\n                }\n            } else {\n                return value === lowerTerm;\n            }\n        }\n\n        // Return true if value matches lowerTerm, unless negate is true then\n        // return false if matches.\n        function matches(value, lowerTerm, exact, negate) {\n            var match = _matches(value, lowerTerm, exact);\n            if(negate) {\n                return !match;\n            }\n            return match;\n        }\n\n        return function(nodes, search) {\n            if(angular.isUndefined(nodes) ||\n                angular.isUndefined(search) ||\n                nodes.length === 0) {\n                return nodes;\n            }\n\n            var filtered = nodes;\n            var filters = SearchService.getCurrentFilters(search);\n            angular.forEach(filters, function(terms, attr) {\n                if(attr === '_') {\n                    // Use the standard filter on terms that do not specify\n                    // an attribute.\n                    angular.forEach(terms, function(term) {\n                        filtered = standardFilter(filtered, term);\n                    });\n                } else if(attr === 'in') {\n                    // \"in:\" is used to filter the nodes by those that are\n                    // currently selected.\n                    angular.forEach(terms, function(term) {\n                        var matched = [];\n                        angular.forEach(filtered, function(node) {\n                            if(node.$selected &&\n                                term.toLowerCase() === \"selected\") {\n                                matched.push(node);\n                            } else if(!node.$selected &&\n                                term.toLowerCase() === \"!selected\") {\n                                matched.push(node);\n                            }\n                        });\n                        filtered = matched;\n                    });\n                } else {\n                    // Mapping function for the attribute.\n                    var mapFunc = mappings[attr];\n\n                    // Loop through each item and only select the matching.\n                    var matched = [];\n                    angular.forEach(filtered, function(node) {\n                        var value;\n                        if(angular.isFunction(mapFunc)) {\n                            value = mapFunc(node);\n                        } else if(node.hasOwnProperty(attr)) {\n                            value = node[attr];\n                        }\n\n                        // Unable to get value for this node. So skip it.\n                        if(angular.isUndefined(value)) {\n                            return;\n                        }\n\n                        var i, j;\n                        for(i = 0; i < terms.length; i++) {\n                            var term = terms[i].toLowerCase();\n                            var exact = false, negate = false;\n\n                            // '!' at the beginning means the term is negated.\n                            while(term.indexOf('!') === 0) {\n                                negate = !negate;\n                                term = term.substring(1);\n                            }\n\n                            // '=' at the beginning means to match exactly.\n                            if(term.indexOf('=') === 0) {\n                                exact = true;\n                                term = term.substring(1);\n                            }\n\n                            // Allow '!' after the '=' as well.\n                            while(term.indexOf('!') === 0) {\n                                negate = !negate;\n                                term = term.substring(1);\n                            }\n\n                            if(angular.isArray(value)) {\n                                // If value is an array check if the\n                                // term matches any value in the\n                                // array. If negated, check whether no\n                                // value in the array matches.\n                                if(negate) {\n                                    // Push to matched only if no value in\n                                    // the array matches term.\n                                    var no_match = true;\n                                    for(j = 0; j < value.length; j++) {\n                                        if(matches(\n                                            value[j], term, exact, false)) {\n                                            no_match = false;\n                                            break; // Skip remaining tests.\n                                        }\n                                    }\n                                    if(no_match) {\n                                        matched.push(node);\n                                        return;\n                                    }\n                                } else {\n                                    for(j = 0; j < value.length; j++) {\n                                        if(matches(\n                                            value[j], term, exact, false)) {\n                                            matched.push(node);\n                                            return;\n                                        }\n                                    }\n                                }\n                            } else {\n                                // Standard value check that it matches the\n                                // term.\n                                if(matches(value, term, exact, negate)) {\n                                    matched.push(node);\n                                    return;\n                                }\n                            }\n                        }\n                    });\n                    filtered = matched;\n                }\n            });\n            return filtered;\n        };\n    }]);\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Filter Subnets by VLAN.\n */\n\nangular.module('MAAS').filter('orderByDate', function() {\n    return function(items, field, field2) {\n        var sorted = items.slice();\n        sorted.sort(function(a, b) {\n            aDate = new Date(a[field]);\n            bDate = new Date(b[field]);\n\n            // Sort by ID as well if equal.\n            if(angular.isString(field2) &&\n                aDate.getTime() === bDate.getTime()) {\n                return (\n                    a[field2] > b[field2] ? -1 : a[field2] < b[field2] ? 1 : 0);\n            } else {\n              return aDate > bDate ? -1 : aDate < bDate ? 1 : 0;\n            }\n        });\n        return sorted;\n    };\n});\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Filter to remove the default VLAN as an option.\n */\n\nangular.module('MAAS').filter('removeDefaultVLAN', function() {\n    return function(vlans) {\n        var filtered = [];\n        angular.forEach(vlans, function(vlan) {\n            if(vlan.vid !== 0) {\n                filtered.push(vlan);\n            }\n        });\n        return filtered;\n    };\n});\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Module\n *\n * Initializes the MAAS module with its required dependencies and sets up\n * the interpolater to use '{$' and '$}' instead of '{{' and '}}' as this\n * conflicts with Django templates.\n */\n\nangular.module('MAAS',\n    ['ngRoute', 'ngCookies', 'ngSanitize', 'ngTagsInput', 'vs-repeat']).config(\n    function($interpolateProvider, $routeProvider, $httpProvider) {\n        $interpolateProvider.startSymbol('{$');\n        $interpolateProvider.endSymbol('$}');\n\n        // Set the $httpProvider to send the csrftoken in the header of any\n        // http request.\n        $httpProvider.defaults.xsrfCookieName = 'csrftoken';\n        $httpProvider.defaults.xsrfHeaderName = 'X-CSRFToken';\n\n        // Helper that wrappers the templateUrl to append the files version\n        // to the path. Used to override client cache.\n        function versionedPath(path) {\n            return path + \"?v=\" + MAAS_config.files_version;\n        }\n\n        // Setup routes only for the index page, all remaining pages should\n        // not use routes. Once all pages are converted to using Angular this\n        // will go away. Causing the page to never have to reload.\n        var href = angular.element(\"base\").attr('href');\n        var path = document.location.pathname;\n        if(path[path.length - 1] !== '/') {\n            path += '/';\n        }\n        if(path === href) {\n            var routes = $routeProvider.\n                when('/intro', {\n                    templateUrl: versionedPath(\n                        'static/partials/intro.html'),\n                    controller: 'IntroController'\n                }).\n                when('/intro/user', {\n                    templateUrl: versionedPath(\n                        'static/partials/intro-user.html'),\n                    controller: 'IntroUserController'\n                }).\n                when('/machines', {\n                    templateUrl: versionedPath(\n                        'static/partials/nodes-list.html'),\n                    controller: 'NodesListController'\n                }).\n                when('/machine/:system_id/:result_type/:id', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-result.html'),\n                    controller: 'NodeResultController'\n                }).\n                when('/machine/:system_id/events', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-events.html'),\n                    controller: 'NodeEventsController'\n                }).\n                when('/machine/:system_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-details.html'),\n                    controller: 'NodeDetailsController'\n                }).\n                when('/devices', {\n                    templateUrl: versionedPath(\n                        'static/partials/nodes-list.html'),\n                    controller: 'NodesListController'\n                }).\n                when('/device/:system_id/:result_type/:id', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-result.html'),\n                    controller: 'NodeResultController'\n                }).\n                when('/device/:system_id/events', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-events.html'),\n                    controller: 'NodeEventsController'\n                }).\n                when('/device/:system_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-details.html'),\n                    controller: 'NodeDetailsController'\n                }).\n                when('/controllers', {\n                    templateUrl: versionedPath(\n                        'static/partials/nodes-list.html'),\n                    controller: 'NodesListController'\n                }).\n                when('/controller/:system_id/:result_type/:id', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-result.html'),\n                    controller: 'NodeResultController'\n                }).\n                when('/controller/:system_id/events', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-events.html'),\n                    controller: 'NodeEventsController'\n                }).\n                when('/controller/:system_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/node-details.html'),\n                    controller: 'NodeDetailsController'\n                }).\n                when('/nodes', {\n                    redirectTo: '/machines'\n                }).\n                when('/node/machine/:system_id', {\n                    redirectTo: '/machine/:system_id'\n                }).\n                when('/node/machine/:system_id/:result_type/:id', {\n                    redirectTo: '/machine/:system_id/:result_type/:id'\n                }).\n                when('/node/machine/:system_id/events', {\n                    redirectTo: '/machine/:system_id/events'\n                }).\n                when('/node/device/:system_id', {\n                    redirectTo: '/device/:system_id'\n                }).\n                when('/node/device/:system_id/:result_type/:id', {\n                    redirectTo: '/device/:system_id/:result_type/:id'\n                }).\n                when('/node/device/:system_id/events', {\n                    redirectTo: '/device/:system_id/events'\n                }).\n                when('/node/controller/:system_id', {\n                    redirectTo: '/controller/:system_id'\n                }).\n                when('/node/controller/:system_id/:result_type/:id', {\n                    redirectTo: '/controller/:system_id/:result_type/:id'\n                }).\n                when('/node/controller/:system_id/events', {\n                    redirectTo: '/controller/:system_id/events'\n                }).\n                when('/pods', {\n                    templateUrl: versionedPath(\n                        'static/partials/pods-list.html'),\n                    controller: 'PodsListController'\n                }).\n                when('/pod/:id', {\n                    templateUrl: versionedPath(\n                        'static/partials/pod-details.html'),\n                    controller: 'PodDetailsController'\n                }).\n                when('/images', {\n                    templateUrl: versionedPath(\n                        'static/partials/images.html'),\n                    controller: 'ImagesController'\n                }).\n                when('/domains', {\n                    templateUrl: versionedPath(\n                        'static/partials/domains-list.html'),\n                    controller: 'DomainsListController'\n                }).\n                when('/domain/:domain_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/domain-details.html'),\n                    controller: 'DomainDetailsController'\n                }).\n                when('/space/:space_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/space-details.html'),\n                    controller: 'SpaceDetailsController'\n                }).\n                when('/fabric/:fabric_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/fabric-details.html'),\n                    controller: 'FabricDetailsController'\n                }).\n                when('/subnets', {\n                    redirectTo: '/networks?by=fabric'\n                }).\n                when('/networks', {\n                    templateUrl: versionedPath(\n                        'static/partials/networks-list.html'),\n                    controller: 'NetworksListController',\n                    reloadOnSearch: false\n                }).\n                when('/subnet/:subnet_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/subnet-details.html'),\n                    controller: 'SubnetDetailsController'\n                }).\n                when('/vlan/:vlan_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/vlan-details.html'),\n                    controller: 'VLANDetailsController',\n                    controllerAs: 'vlanDetails'\n                }).\n                when('/settings/:section', {\n                    templateUrl: versionedPath(\n                        'static/partials/settings.html'),\n                    controller: 'SettingsController'\n                }).\n                when('/zone/:zone_id', {\n                    templateUrl: versionedPath(\n                        'static/partials/zone-details.html'),\n                    controller: 'ZoneDetailsController'\n                }).\n                when('/zones', {\n                    templateUrl: versionedPath(\n                        'static/partials/zones-list.html'),\n                    controller: 'ZonesListController',\n                    reloadOnSearch: false\n                }).\n                when('/pools', {\n                    templateUrl: versionedPath(\n                        'static/partials/nodes-list.html'),\n                    controller: 'NodesListController'\n                });\n            if(MAAS_config.superuser) {\n                // Only superuser's can access the dashboard at the moment.\n                routes = routes.when('/dashboard', {\n                    templateUrl: versionedPath(\n                        'static/partials/dashboard.html'),\n                    controller: 'DashboardController'\n                });\n            }\n            routes = routes.otherwise({\n                redirectTo: '/machines'\n            });\n        }\n    });\n\n// Force users to #/intro when it has not been completed.\nangular.module('MAAS').run(['$rootScope', '$location',\n    function ($rootScope, $location) {\n        $rootScope.$on('$routeChangeStart', function(event, next, current) {\n            if(!MAAS_config.completed_intro) {\n                if(next.controller !== 'IntroController') {\n                    $location.path('/intro');\n                }\n            } else if (!MAAS_config.user_completed_intro) {\n                if(next.controller !== 'IntroUserController') {\n                    $location.path('/intro/user');\n                }\n            }\n        });\n    }]);\n\n// Send pageview to Google Anayltics when the route has changed.\nangular.module('MAAS').run(['$rootScope',\n    function ($rootScope) {\n        window.ga = window.ga || function() {\n            (window.ga.q = window.ga.q || []).push(arguments);\n        };\n        window.ga.l = +new Date();\n        window.ga('create', 'UA-1018242-63', 'auto', {\n          userId: MAAS_config.analytics_user_id\n        });\n        window.ga('set', 'dimension1', MAAS_config.version);\n        window.ga('set', 'dimension2', MAAS_config.uuid);\n        $rootScope.$on('$routeChangeSuccess', function() {\n            var path = window.location.pathname + window.location.hash;\n            window.ga('send', 'pageview', path);\n        });\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Browser Service\n *\n * Detects the browser used by the client. This is very simple case, because\n * at the moment we really only care about if the browser is Firefox. This\n * could be improved for other browsers, but this should only be used as a\n * last resort to prevent something bad happening on a misbehaving browser.\n */\n\nangular.module('MAAS').service('BrowserService', ['$window',\n    function($window) {\n\n        // The first items in the array will be matched first. So if the user\n        // agent for the browser contains both you need to make the more\n        // specific one first. E.g. Chrome contains both \"Chrome\" and \"Safari\"\n        // in its user-agent string. Since \"Safari\" does not chrome comes first\n        // so it matches that browser more specifically.\n        var BROWSERS = [\n            {\n                name: \"chrome\",\n                regex: /chrome/i\n            },\n            {\n                name: \"safari\",\n                regex: /safari/i\n            },\n            {\n                name: \"firefox\",\n                regex: /firefox/i\n            },\n            {\n                name: \"ie\",\n                regex: /MSIE/\n            }\n        ];\n\n        this.browser = \"other\";\n\n        // Set the browser if a regex matches. The first to match wins.\n        var self = this;\n        angular.forEach(BROWSERS, function(matcher) {\n            if(matcher.regex.test($window.navigator.userAgent) &&\n                self.browser === \"other\") {\n                self.browser = matcher.name;\n            }\n        });\n    }]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Converter Service\n *\n * Used by controllers to convert user inputs.\n */\n\nangular.module('MAAS').service('ConverterService', function() {\n\n        // Case is important: 1kB is 1000 bytes, whereas 1KB is 1024 bytes.\n        // See https://en.wikipedia.org/wiki/Byte#Unit_symbol\n        var UNITS = ['bytes', 'kB', 'MB', 'GB', 'TB'];\n\n        var KILOBYTE = 1000.0;\n        var MEGABYTE = 1000.0 * 1000.0;\n        var GIGABYTE = 1000.0 * 1000.0 * 1000.0;\n        var TERABYTE = 1000.0 * 1000.0 * 1000.0 * 1000.0;\n\n        // Convert the bytes to a unit.\n        this.bytesToUnits = function(bytes) {\n            // Support string being passed.\n            if(angular.isString(bytes)) {\n                bytes = parseInt(bytes, 10);\n            }\n\n            var i, unit, converted = bytes;\n            for(i = 0; i < UNITS.length; i++) {\n                unit = UNITS[i];\n                if(Math.abs(converted) < 1000.0 || unit === 'TB') {\n                    var string = converted.toFixed(1) + \" \" + unit;\n                    if(unit === 'bytes') {\n                        string = converted + \" \" + unit;\n                    }\n                    return {\n                        original: bytes,\n                        converted: converted,\n                        units: unit,\n                        string: string\n                    };\n                }\n                converted /= 1000.0;\n            }\n        };\n\n        // Convert the data based on the unit to bytes.\n        this.unitsToBytes = function(data, unit) {\n            // Support string being passed.\n            if(angular.isString(data)) {\n                data = parseFloat(data);\n            }\n            if(unit === 'bytes') {\n                return Math.floor(data);\n            } else if(unit === 'kB') {\n                return Math.floor(data * KILOBYTE);\n            } else if(unit === 'MB') {\n                return Math.floor(data * MEGABYTE);\n            } else if(unit === 'GB') {\n                return Math.floor(data * GIGABYTE);\n            } else if(unit === 'TB') {\n                return Math.floor(data * TERABYTE);\n            }\n        };\n\n        // Convert the data based on unit down to the lowest tolerance to still\n        // be the same value in that unit.\n        this.roundUnits = function(data, unit) {\n            // Support string being passed.\n            if(angular.isString(data)) {\n                data = parseFloat(data);\n            }\n            if(unit === 'bytes') {\n                return Math.floor(data);\n            } else if(unit === 'kB') {\n                return Math.floor(data * KILOBYTE) - (0.05 * KILOBYTE);\n            } else if(unit === 'MB') {\n                return Math.floor(data * MEGABYTE) - (0.05 * MEGABYTE);\n            } else if(unit === 'GB') {\n                return Math.floor(data * GIGABYTE) - (0.05 * GIGABYTE);\n            } else if(unit === 'TB') {\n                return Math.floor(data * TERABYTE) - (0.05 * TERABYTE);\n            }\n        };\n\n        // Round the bytes down to size based on the block size.\n        this.roundByBlockSize = function(bytes, block_size) {\n            return block_size * Math.floor(bytes / block_size);\n        };\n\n        // Convert string ipv4 address into octets array.\n        this.ipv4ToOctets = function(ipAddress) {\n            var parts = ipAddress.split('.');\n            var octets = [];\n            angular.forEach(parts, function(part) {\n                octets.push(parseInt(part, 10));\n            });\n            return octets;\n        };\n\n        // Convert string ipv4 address into integer.\n        this.ipv4ToInteger = function(ipAddress) {\n            var octets = this.ipv4ToOctets(ipAddress);\n            return (\n                (octets[0] * Math.pow(256,3)) +\n                (octets[1] * Math.pow(256,2)) +\n                (octets[2] * 256) + octets[3]);\n        };\n\n        // Convert ipv6 address to a full ipv6 address, removing the\n        // '::' shortcut and padding each group with zeros.\n        this.ipv6Expand = function(ipAddress) {\n            var i, expandedAddress = ipAddress;\n            if(expandedAddress.indexOf(\"::\") !== -1) {\n                // '::' is present so replace it with the required\n                // number of '0000:' based on its location in the string.\n                var split = ipAddress.split(\"::\");\n                var groups = 0;\n                for(i = 0; i < split.length; i++) {\n                    groups += split[i].split(\":\").length;\n                }\n                expandedAddress = split[0] + \":\";\n                for(i = 0; i < 8 - groups; i++) {\n                    expandedAddress += \"0000:\";\n                }\n                expandedAddress += split[1];\n            }\n            // Pad the output of each part with zeros.\n            var output = [], parts = expandedAddress.split(\":\");\n            angular.forEach(parts, function(part) {\n                output.push(\"0000\".substr(part.length) + part);\n            });\n            return output.join(\":\");\n        };\n\n        // Convert string ipv6 into groups array.\n        this.ipv6ToGroups = function(ipAddress) {\n            var groups = [];\n            var parts = this.ipv6Expand(ipAddress).split(\":\");\n            angular.forEach(parts, function(part) {\n                groups.push(parseInt(part, 16));\n            });\n            return groups;\n        };\n    });\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Error Service\n */\n\nangular.module('MAAS').service('ErrorService', function() {\n\n        // Holds the client error.\n        this._error = null;\n\n        // Raise this error in the UI.\n        this.raiseError = function(error) {\n            // Possible that this method is called more than once.\n            // Only take the first error.\n            if(!angular.isString(this._error)) {\n                this._error = error;\n            }\n        };\n    });\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS JSON Service\n *\n * Used by controllers to parse JSON.\n */\n\nangular.module('MAAS').service('JSONService', function() {\n\n    // Return the JSON for the string or null if it cannot be parsed.\n    this.tryParse = function(jsonString) {\n        try {\n            var obj = JSON.parse(jsonString);\n            // JSON.parse(false) or JSON.parse(1234) will throw errors, but\n            // JSON.parse(null) returns 'null', and typeof null === \"object\".\n            if (obj && typeof obj === \"object\" && obj !== null) {\n                return obj;\n            }\n        }\n        catch (e) { }\n        return null;\n    };\n});\n","/* Copyright 2017 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * Log Service\n *\n * Allows logging to be enabled or disabled, and allows a particular log level\n * to be set, which will allow logs of a specified importance (or more) to be\n * seen.\n *\n * Also appends a time index (in seconds, accurate to milliseconds) to the\n * beginning of the log string.\n */\n\nangular.module('MAAS').service('LogService', [\n    '$window', function($window) {\n        var self = this;\n\n        // Global enable/disable for MAAS logging. If set to `false`, this\n        // value takes precedence over the logLevel.\n        self.logging = true;\n\n        // Specifies the log level.\n        // Level 1: error() logging\n        // Level 2: error() and warn() logging\n        // Level 3: all of the above, plus info()\n        // Level 4: all of the above, plus log()\n        // Level 5: all of the above, plus debug()\n        self.logLevel = 5;\n\n        // Returns a monotonic time (in milliseconds) since page load.\n        self.now = function() {\n            return $window.performance ? $window.performance.now() : 0;\n        };\n\n        // Standard logging functions.\n        self._debug = console.debug;\n        self._log = console.log;\n        self._info = console.info;\n        self._warn = console.warn;\n        self._error = console.error;\n\n        // Formats the specified time (in milliseconds) in seconds.\n        this.formatMilliseconds = function(milliseconds) {\n            return parseFloat(milliseconds / 1000.0).toFixed(3);\n        };\n\n        // Internal function to log using the specified destination, with the\n        // specified list of arguments.\n        this.__log = function(destination, args) {\n            if(self.logging === true) {\n                // Add time index to the beginning of the log.\n                Array.prototype.unshift.call(args,\n                    \"[\" + self.formatMilliseconds(self.now()) + \"]\");\n                destination.apply(self, args);\n            }\n        };\n\n        // Wrapper to check the log level and then call self._debug().\n        this.debug = function() {\n            if(self.logLevel >= 5) {\n                self.__log(self._debug, arguments);\n            }\n        };\n\n        // Wrapper to check the log level and then call self._log().\n        this.log = function() {\n            if(self.logLevel >= 4) {\n                self.__log(self._log, arguments);\n            }\n        };\n\n        // Wrapper to check the log level and then call self._info().\n        this.info = function() {\n            if(self.logLevel >= 3) {\n                self.__log(self._info, arguments);\n            }\n        };\n\n        // Wrapper to check the log level and then call self._warn().\n        this.warn = function() {\n            if(self.logLevel >= 2) {\n                self.__log(self._warn, arguments);\n            }\n        };\n\n        // Wrapper to check the log level and then call self._err().\n        this.error = function() {\n            if(self.logLevel >= 1) {\n                self.__log(self._error, arguments);\n            }\n        };\n    }\n]);\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Base Manager\n *\n * Manages a collection of items from the websocket in the browser. The manager\n * uses the RegionConnection to load the items, update the items, and listen\n * for notification events about the items.\n */\n\nangular.module('MAAS').service(\n    'Manager',\n    ['$q', '$rootScope', '$timeout', 'RegionConnection', function(\n            $q, $rootScope, $timeout, RegionConnection) {\n\n        // Actions that are used to update the statuses metadata.\n        var METADATA_ACTIONS = {\n            CREATE: \"create\",\n            UPDATE: \"update\",\n            DELETE: \"delete\"\n        };\n\n        // Constructor\n        function Manager() {\n            // Primary key on the items in the list. Used to match items.\n            this._pk = \"id\";\n\n            // Key used when loading batches. Typically the same as _pk\n            // but not always.\n            this._batchKey = \"id\";\n\n            // The field from which to get a human-readable name.\n            this._name_field = \"name\";\n\n            // Handler on the region to call to list, create, update, delete,\n            // and listen for notifications. Must be set by overriding manager.\n            this._handler = null;\n\n            // Holds all items in the system. This list must always be the same\n            // object.\n            this._items = [];\n\n            // The way this manager recieves its updated information. 'notify'\n            // means this manager recieved notify messages from the websocket.\n            // See PollingManager for the other possible type. This is only\n            // used by the `ManagerHelperService` to identify how updating\n            // the data should be handled.\n            this._type = 'notify';\n\n            // Holds list of scopes that currently have this manager loaded.\n            this._scopes = [];\n\n            // True when all of the items have been loaded. This is done on\n            // intial connection to the region.\n            this._loaded = false;\n\n            // True when the items list is currently being loaded or reloaded.\n            // Actions will not be processed while this is false.\n            this._isLoading = false;\n\n            // Holds list of defers that need to be called once the loading of\n            // items has finished. This is used when a caller calls loadItems\n            // when its already loading.\n            this._extraLoadDefers = [];\n\n            // Holds list of defers that need to be called once the reloading\n            // of items has finished. This is used when a caller calls\n            // reloadItems when its already reloading.\n            this._extraReloadDefers = [];\n\n            // Holds all of the notify actions that need to be processed. This\n            // is used to hold the actions while the items are being loaded.\n            // Once all of the items are loaded the queue will be processed.\n            this._actionQueue = [];\n\n            // Holds list of all of the currently selected items. This is held\n            // in a seperate list to remove the need to loop through the full\n            // listing to grab the selected items.\n            this._selectedItems = [];\n\n            // Set to true when the items list should reload upon re-connection\n            // to the region.\n            this._autoReload = false;\n\n            // Holds the item that is currenly being viewed. This object will\n            // be updated if any notify events are recieved for it. This allows\n            // the ability of not having to keep pulling the item out of the\n            // items list.\n            this._activeItem = null;\n\n            // Holds metadata information that is used to helper filtering.\n            this._metadata = {};\n\n            // List of attributes to track on the loaded items. Each attribute\n            // in this list will be placed in _metadata to track its currect\n            // values and the number of items with that value.\n            this._metadataAttributes = [];\n        }\n\n        // Return index of the item in the given array.\n        Manager.prototype._getIndexOfItem = function(array, pk_value) {\n            var i;\n            for(i = 0, len = array.length; i < len; i++) {\n                if(array[i][this._pk] === pk_value) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n\n        // Replace the item in the array at the same index.\n        Manager.prototype._replaceItemInArray = function(array, item) {\n            var idx = this._getIndexOfItem(array, item[this._pk]);\n            if(idx >= 0) {\n                // Keep the current selection on the item.\n                item.$selected = array[idx].$selected;\n                angular.copy(item, array[idx]);\n            }\n        };\n\n        // Remove the item from the array.\n        Manager.prototype._removeItemByIdFromArray = function(\n            array, pk_value) {\n            var idx = this._getIndexOfItem(array, pk_value);\n            if(idx >= 0) {\n                array.splice(idx, 1);\n            }\n        };\n\n        // Return the parameters that should be used for the batch load\n        // request. Should be used by subclass that want to add extra\n        // parameters to the batch request. By default it returns an empty\n        // object.\n        Manager.prototype._initBatchLoadParameters = function() {\n            return {};\n        };\n\n        // Batch load items from the region in groups of 50.\n        Manager.prototype._batchLoadItems = function(array, extra_func) {\n            var self = this;\n            var defer = $q.defer();\n            var method = this._handler + \".list\";\n            function callLoad() {\n                var params = self._initBatchLoadParameters();\n                params.limit = 50;\n\n                // Get the last batchKey in the list so the region knows to\n                // start at that offset.\n                if(array.length > 0) {\n                    params.start = array[array.length-1][self._batchKey];\n                }\n                RegionConnection.callMethod(\n                    method, params).then(function(items) {\n                        // Pass each item to extra_func function if given.\n                        if(angular.isFunction(extra_func)) {\n                            angular.forEach(items, function(item) {\n                                extra_func(item);\n                            });\n                        }\n\n                        array.push.apply(array, items);\n                        if(items.length === 50) {\n                            // Could be more items, request the next 50.\n                            callLoad(array);\n                        } else {\n                            defer.resolve(array);\n                        }\n                    }, defer.reject);\n            }\n            callLoad();\n            return defer.promise;\n        };\n\n        // Resolves array of defers with item.\n        Manager.prototype._resolveDefers = function(defersArray, item) {\n            angular.forEach(defersArray, function(defer) {\n                defer.resolve(item);\n            });\n        };\n\n        // Rejects array of defers with error.\n        Manager.prototype._rejectDefers = function(defersArray, error) {\n            angular.forEach(defersArray, function(defer) {\n                defer.reject(error);\n            });\n        };\n\n        // Return list of items.\n        Manager.prototype.getItems = function() {\n            return this._items;\n        };\n\n        // Clears the currect state of the manager.\n        Manager.prototype.clear = function() {\n            this._loaded = false;\n            this._items.length = 0;\n            this._actionQueue.length = 0;\n            this._selectedItems.length = 0;\n            this._activeItem = null;\n            this._metadata = {};\n            this._metadataAttributes.length = 0;\n        };\n\n        // Load all the items.\n        Manager.prototype.loadItems = function() {\n            // If the items have already been loaded then, we need to\n            // reload the items list not load the initial list.\n            if(this._loaded) {\n                return this.reloadItems();\n            }\n\n            // If its already loading then the caller just needs to be informed\n            // of when it has finished loading.\n            if(this._isLoading) {\n                var defer = $q.defer();\n                this._extraLoadDefers.push(defer);\n                return defer.promise;\n            }\n\n            var self = this;\n            this._isLoading = true;\n            return this._batchLoadItems(this._items, function(item) {\n                item.$selected = false;\n                self._updateMetadata(item, METADATA_ACTIONS.CREATE);\n                self._processItem(item);\n            }).then(function() {\n                self._loaded = true;\n                self._isLoading = false;\n                self.processActions();\n                self._resolveDefers(self._extraLoadDefers, self._items);\n                self._extraLoadDefers = [];\n                return self._items;\n            }, function(error) {\n                self._rejectDefers(self._extraLoadDefers, error);\n                self._extraLoadDefers = [];\n                return $q.reject(error);\n            });\n        };\n\n        // Reload the items list.\n        Manager.prototype.reloadItems = function() {\n            // If the items have not been loaded then, we need to\n            // load the initial list.\n            if(!this._loaded) {\n                return this.loadItems();\n            }\n\n            // If its already reloading then the caller just needs to be\n            // informed of when it has refinished loading.\n            if(this._isLoading) {\n                var defer = $q.defer();\n                this._extraReloadDefers.push(defer);\n                return defer.promise;\n            }\n\n            // Updates the items list with the reloaded items.\n            var self = this;\n            function updateItems(items) {\n                // Iterate in reverse so we can remove items inline, without\n                // having to adjust the index.\n                var i = self._items.length;\n                while(i--) {\n                    var item = self._items[i];\n                    var updatedIdx = self._getIndexOfItem(\n                        items, item[self._pk]);\n                    if(updatedIdx === -1) {\n                        self._updateMetadata(item, METADATA_ACTIONS.DELETE);\n                        self._items.splice(i, 1);\n                        self._removeItemByIdFromArray(\n                            self._selectedItems, item[self._pk]);\n                    } else {\n                        var updatedItem = items[updatedIdx];\n                        self._updateMetadata(\n                            updatedItem, METADATA_ACTIONS.UPDATE);\n                        updatedItem.$selected = item.$selected;\n                        angular.copy(items[updatedIdx], item);\n                        items.splice(updatedIdx, 1);\n                    }\n                }\n\n                // The remain items in items array are the new items.\n                angular.forEach(items, function(item) {\n                    self._items.push(item);\n                    self._processItem(item);\n                });\n            }\n\n            // The reload action loads all of the items into this list\n            // instead of the items list. This list will then be used to\n            // update the items list.\n            var currentItems = [];\n\n            // Start the reload process and once complete call updateItems.\n            self._isLoading = true;\n            return this._batchLoadItems(currentItems).then(function(items) {\n                updateItems(items);\n                self._isLoading = false;\n                self.processActions();\n\n                // Set the activeItem again so the region knows that its\n                // the active item.\n                if(angular.isObject(self._activeItem)) {\n                    self.setActiveItem(self._activeItem[self._pk]);\n                }\n\n                self._resolveDefers(self._extraReloadDefers, self._items);\n                self._extraReloadDefers = [];\n                return self._items;\n            }, function(error) {\n                self._rejectDefers(self._extraReloadDefers, error);\n                self._extraReloadDefers = [];\n                return $q.reject(error);\n            });\n        };\n\n        // Enables auto reloading of the item list on connection to region.\n        Manager.prototype.enableAutoReload = function() {\n            if(!this._autoReload) {\n                this._autoReload = true;\n                var self = this;\n                this._reloadFunc = function() {\n                    self.reloadItems();\n                };\n                RegionConnection.registerHandler(\"open\", this._reloadFunc);\n            }\n        };\n\n        // Disable auto reloading of the item list on connection to region.\n        Manager.prototype.disableAutoReload = function() {\n            if(this._autoReload) {\n                RegionConnection.unregisterHandler(\"open\", this._reloadFunc);\n                this._reloadFunc = null;\n                this._autoReload = false;\n            }\n        };\n\n        // True when the initial item list has finished loading.\n        Manager.prototype.isLoaded = function() {\n            return this._loaded;\n        };\n\n        // True when the item list is currently being loaded or reloaded.\n        Manager.prototype.isLoading = function() {\n            return this._isLoading;\n        };\n\n        // Allow for extra processing of items as they are added or updated.\n        Manager.prototype._processItem = function(item) {\n        };\n\n        // Replace item in the items and selectedItems list.\n        Manager.prototype._replaceItem = function(item) {\n            this._updateMetadata(item, METADATA_ACTIONS.UPDATE);\n            this._replaceItemInArray(this._items, item);\n        };\n\n        // Remove item in the items and selectedItems list.\n        Manager.prototype._removeItem = function(pk_value) {\n            var idx = this._getIndexOfItem(this._items, pk_value);\n            if(idx >= 0) {\n                this._updateMetadata(this._items[idx], METADATA_ACTIONS.DELETE);\n            }\n            this._removeItemByIdFromArray(this._items, pk_value);\n            this._removeItemByIdFromArray(this._selectedItems, pk_value);\n        };\n\n        // Get the item from the list. Does not make a get request to the\n        // region to load more data.\n        Manager.prototype.getItemFromList = function(pk_value) {\n            var idx = this._getIndexOfItem(this._items, pk_value);\n            if(idx >= 0) {\n                return this._items[idx];\n            } else {\n                return null;\n            }\n        };\n\n        // Get the item from the region.\n        Manager.prototype.getItem = function(pk_value) {\n            var self = this;\n            var method = this._handler + \".get\";\n            var params = {};\n            params[this._pk] = pk_value;\n            return RegionConnection.callMethod(\n                method, params).then(function(item) {\n                    self._replaceItem(item);\n                    return item;\n                });\n        };\n\n        // Send the create information to the region.\n        Manager.prototype.createItem = function(item) {\n            var self = this;\n            var method = this._handler + \".create\";\n            item = angular.copy(item);\n            delete item.$selected;\n            return RegionConnection.callMethod(\n                method, item).then(function(item) {\n                    self._replaceItem(item);\n                    return item;\n                });\n        };\n\n        // Send the update information to the region.\n        Manager.prototype.updateItem = function(item) {\n            var self = this;\n            var method = this._handler + \".update\";\n            item = angular.copy(item);\n            delete item.$selected;\n            return RegionConnection.callMethod(\n                method, item).then(function(item) {\n                    self._replaceItem(item);\n                    return item;\n                });\n        };\n\n        // Send the delete call for item to the region.\n        Manager.prototype.deleteItem = function(item) {\n            var self = this;\n            var method = this._handler + \".delete\";\n            var params = {};\n            params[this._pk] = item[this._pk];\n            return RegionConnection.callMethod(\n                method, params).then(function() {\n                    self._removeItem(item[self._pk]);\n                });\n        };\n\n        // Return the active item.\n        Manager.prototype.getActiveItem = function() {\n            return this._activeItem;\n        };\n\n        // Set the active item.\n        Manager.prototype.setActiveItem = function(pk_value) {\n            if(!this._loaded) {\n                throw new Error(\n                    \"Cannot set active item unless the manager is loaded.\");\n            }\n            var idx = this._getIndexOfItem(this._items, pk_value);\n            if(idx === -1) {\n                this._activeItem = null;\n                // Item with pk_value does not exists. Reject the returned\n                // deferred.\n                var defer = $q.defer();\n                $timeout(function() {\n                    defer.reject(\"No item with pk: \" + pk_value);\n                });\n                return defer.promise;\n            } else {\n                this._activeItem = this._items[idx];\n                // Data that is loaded from the list call is limited and\n                // doesn't contain all of the needed data for an activeItem.\n                // Call set_active on the handler for the region to know\n                // this item needs all information when updated.\n                var self = this;\n                var method = this._handler + \".set_active\";\n                var params = {};\n                params[this._pk] = pk_value;\n                return RegionConnection.callMethod(\n                    method, params).then(function(item) {\n                        self._replaceItem(item);\n                        return self._activeItem;\n                    });\n            }\n        };\n\n        // Clears the active item.\n        Manager.prototype.clearActiveItem = function() {\n            this._activeItem = null;\n        };\n\n        // True when the item list is stable and not being loaded or reloaded.\n        Manager.prototype.canProcessActions = function() {\n            return !this._isLoading;\n        };\n\n        // Handle notify from RegionConnection about an item.\n        Manager.prototype.onNotify = function(action, data) {\n            // Place the notification in the action queue.\n            this._actionQueue.push({\n                action: action,\n                data: data\n            });\n            // Processing incoming actions is enabled. Otherwise they\n            // will be queued until processActions is called.\n            if(this.canProcessActions()) {\n               $rootScope.$apply(this.processActions());\n            }\n        };\n\n        // Process all actions to keep the item information up-to-date.\n        Manager.prototype.processActions = function() {\n            while(this._actionQueue.length > 0) {\n                var action = this._actionQueue.shift();\n                if(action.action === \"create\") {\n                    // Check that the received data doesn't already exists\n                    // in the _items list. If it does then this is actually\n                    // an update action not a create action.\n                    var idx = this._getIndexOfItem(\n                        this._items, action.data[this._pk]);\n                    if(idx >= 0) {\n                        // Actually this is an update action not a create\n                        // action. So replace the item instead of adding it.\n                        this._replaceItem(action.data);\n                    } else {\n                        action.data.$selected = false;\n                        this._updateMetadata(\n                            action.data, METADATA_ACTIONS.CREATE);\n                        this._items.push(action.data);\n                    }\n                    this._processItem(action.data);\n                } else if(action.action === \"update\") {\n                    this._replaceItem(action.data);\n                    this._processItem(action.data);\n                } else if(action.action === \"delete\") {\n                    this._removeItem(action.data);\n                }\n            }\n        };\n\n        // Return list of selected items.\n        Manager.prototype.getSelectedItems = function() {\n            return this._selectedItems;\n        };\n\n        // Mark the given item as selected.\n        Manager.prototype.selectItem = function(pk_value) {\n            var idx = this._getIndexOfItem(this._items, pk_value);\n            if(idx === -1) {\n                console.log(\n                    \"WARN: selection of \" + this._handler + \"(\" + pk_value +\n                    \") failed because its missing in the items list.\");\n                return;\n            }\n\n            var item = this._items[idx];\n            item.$selected = true;\n\n            idx = this._selectedItems.indexOf(item);\n            if(idx === -1) {\n                this._selectedItems.push(item);\n            }\n        };\n\n        // Mark the given item as unselected.\n        Manager.prototype.unselectItem = function(pk_value) {\n            var idx = this._getIndexOfItem(this._items, pk_value);\n            if(idx === -1) {\n                console.log(\n                    \"WARN: de-selection of \" + this._handler + \"(\" +\n                    pk_value + \") failed because its missing in the \" +\n                    \"nodes list.\");\n                return;\n            }\n\n            var item = this._items[idx];\n            item.$selected = false;\n\n            idx = this._selectedItems.indexOf(item);\n            if(idx >= 0) {\n                this._selectedItems.splice(idx, 1);\n            }\n        };\n\n        // Determine if a item is selected.\n        Manager.prototype.isSelected = function(pk_value) {\n            var idx = this._getIndexOfItem(this._items, pk_value);\n            if(idx === -1) {\n                console.log(\n                    \"WARN: unable to determine if \" + this._handler + \"(\" +\n                    pk_value + \") is selected because its missing in the \" +\n                    \"nodes list.\");\n                return false;\n            }\n\n            return this._items[idx].$selected === true;\n        };\n\n        // Return the metadata object value from `metadatas` matching `name`.\n        Manager.prototype._getMetadataValue = function(metadatas, name) {\n            var i;\n            for(i = 0; i < metadatas.length; i++) {\n                if(metadatas[i].name === name) {\n                    return metadatas[i];\n                }\n            }\n            return null;\n        };\n\n        // Add new value to metadatas if it doesnt exists or increment the\n        // count if it already does.\n        Manager.prototype._addMetadataValue = function(metadatas, value) {\n            var metadata = this._getMetadataValue(metadatas, value);\n            if(metadata) {\n                metadata.count += 1;\n            } else {\n                metadata = {\n                    name: value,\n                    count: 1\n                };\n                metadatas.push(metadata);\n            }\n        };\n\n        // Remove value from metadatas.\n        Manager.prototype._removeMetadataValue = function(metadatas, value) {\n            var metadata = this._getMetadataValue(metadatas, value);\n            if(metadata) {\n                metadata.count -= 1;\n                if(metadata.count <= 0) {\n                    metadatas.splice(metadatas.indexOf(metadata), 1);\n                }\n            }\n        };\n\n        // Update the metadata entry in `metadatas` for the array value and\n        // based on the action.\n        Manager.prototype._updateMetadataArrayEntry = function(\n                metadatas, newValue, action, oldValue) {\n            var self = this;\n\n            if(action === METADATA_ACTIONS.CREATE) {\n                angular.forEach(newValue, function(value) {\n                    // On create ignore empty values.\n                    if(value === '') {\n                        return;\n                    }\n                    self._addMetadataValue(metadatas, value);\n                });\n            } else if(action === METADATA_ACTIONS.DELETE) {\n                angular.forEach(newValue, function(value) {\n                    self._removeMetadataValue(metadatas, value);\n                });\n            } else if(action === METADATA_ACTIONS.UPDATE &&\n                angular.isDefined(oldValue)) {\n                // Any values in added are new on the item, and any values left\n                // in oldArray have been removed.\n                var added = [];\n                var oldArray = angular.copy(oldValue);\n                angular.forEach(newValue, function(value) {\n                    var idx = oldArray.indexOf(value);\n                    if(idx === -1) {\n                        // Value not in oldArray so it has been added.\n                        added.push(value);\n                    } else {\n                        // Value already in oldArray so its already tracked.\n                        oldArray.splice(idx, 1);\n                    }\n                });\n\n                // Add the new values.\n                angular.forEach(added, function(value) {\n                    self._addMetadataValue(metadatas, value);\n                });\n\n                // Remove the old values.\n                angular.forEach(oldArray, function(value) {\n                    self._removeMetadataValue(metadatas, value);\n                });\n            }\n        };\n\n        // Update the metadata entry in `metadatas` for the newValue and based\n        // on the action. Method does not work with array values, use\n        // _updateMetadataArrayEntry for values that are arrays.\n        Manager.prototype._updateMetadataValueEntry = function(\n                metadatas, newValue, action, oldValue) {\n            if(action === METADATA_ACTIONS.CREATE) {\n                // On create ignore empty values.\n                if(newValue === '') {\n                    return;\n                }\n                this._addMetadataValue(metadatas, newValue);\n            } else if(action === METADATA_ACTIONS.DELETE) {\n                this._removeMetadataValue(metadatas, newValue);\n            } else if(action === METADATA_ACTIONS.UPDATE &&\n                angular.isDefined(oldValue)) {\n                if(oldValue !== newValue) {\n                    if(oldValue !== \"\") {\n                        // Decrement the old value\n                        this._removeMetadataValue(metadatas, oldValue);\n                    }\n\n                    // Increment the new value with the \"create\"\n                    // operation.\n                    this._updateMetadataEntry(\n                        metadatas, newValue, METADATA_ACTIONS.CREATE, oldValue);\n                }\n            }\n        };\n\n        // Update the metadata entry in `metadatas` with the newValue and based\n        // on the action. Update action will use the oldValue to remove it from\n        // the metadata.\n        Manager.prototype._updateMetadataEntry = function(\n                metadatas, newValue, action, oldValue) {\n            if(angular.isArray(newValue)) {\n                this._updateMetadataArrayEntry(\n                    metadatas, newValue, action, oldValue);\n            } else {\n                this._updateMetadataValueEntry(\n                    metadatas, newValue, action, oldValue);\n            }\n        };\n\n        // Return the metadata object.\n        Manager.prototype.getMetadata = function() {\n            return this._metadata;\n        };\n\n        // Update the metadata objects based on the given item and action.\n        Manager.prototype._updateMetadata = function(item, action) {\n            var self = this;\n            var oldItem, idx;\n            if(action === METADATA_ACTIONS.UPDATE) {\n                // Update actions require the oldItem if it exist in the\n                // current item listing.\n                idx = this._getIndexOfItem(this._items, item[this._pk]);\n                if(idx >= 0) {\n                    oldItem = this._items[idx];\n                }\n            }\n            angular.forEach(this._metadataAttributes, function(func, attr) {\n                if(angular.isUndefined(self._metadata[attr])) {\n                    self._metadata[attr] = [];\n                }\n                var newValue, oldValue;\n                if(angular.isFunction(func)) {\n                    newValue = func(item);\n                    if(angular.isObject(oldItem)) {\n                        oldValue = func(oldItem);\n                    }\n                } else {\n                    newValue = item[attr];\n                    if(angular.isObject(oldItem)) {\n                        oldValue = oldItem[attr];\n                    }\n                }\n                self._updateMetadataEntry(\n                    self._metadata[attr], newValue, action, oldValue);\n            });\n        };\n\n        // Default implementation of getName(): returns the default name for\n        // this object, if it exists.\n        Manager.prototype.getName = function(obj) {\n            if(!angular.isObject(obj)) {\n                return;\n            }\n            if(angular.isString(obj[this._name_field])) {\n                return obj[this._name_field];\n            }\n        };\n\n        return Manager;\n    }]);\n","/* Copyright 2015-2018 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Manager Helper Service\n *\n * Used by controllers to load managers. It helps the initialization of\n * managers and makes sure that all items in the manager are loaded\n * before resolving the defer.\n */\n\nangular.module('MAAS').service('ManagerHelperService', [\n    '$q', '$timeout', 'ErrorService', 'RegionConnection',\n    function($q, $timeout, ErrorService, RegionConnection) {\n\n        // Loads the manager.\n        this.loadManager = function(scope, manager) {\n            var defer = $q.defer();\n            var self = this;\n\n            // If the manager already has this scope loaded then nothing needs\n            // to be done.\n            if(manager._scopes.indexOf(scope) > -1) {\n                $timeout(function() {\n                    defer.resolve(manager);\n                });\n                return defer.promise;\n            }\n\n            // Do this entire operation with in the context of the region\n            // connection is connected.\n            RegionConnection.defaultConnect().then(function() {\n                if(manager._type === 'notify') {\n                    if(manager.isLoaded()) {\n                        $timeout(function() {\n                            manager._scopes.push(scope);\n                            defer.resolve(manager);\n                        });\n                    } else {\n                        manager.loadItems().then(function() {\n                            manager._scopes.push(scope);\n                            defer.resolve(manager);\n                        }, function(error) {\n                            ErrorService.raiseError(error);\n                        });\n                    }\n                    // Always enable auto reload. This will make sure the items\n                    // are reloaded if the connection goes down.\n                    manager.enableAutoReload();\n\n                    // Remove the scope for the loaded scopes for the manager.\n                    scope.$on(\"$destroy\", function() {\n                        self.unloadManager(scope, manager);\n                    });\n                } else if(manager._type === 'poll') {\n                    if(manager.isPolling()) {\n                        $timeout(function() {\n                            manager._scopes.push(scope);\n                            defer.resolve(manager);\n                        });\n                    } else {\n                        manager.startPolling().then(function() {\n                            manager._scopes.push(scope);\n                            defer.resolve(manager);\n                        }, function(error) {\n                            ErrorService.raiseError(error);\n                        });\n                    }\n\n                    // Stop the polling when the scope is destroyed and its\n                    // not in use by any other scopes.\n                    scope.$on(\"$destroy\", function() {\n                        self.unloadManager(scope, manager);\n                    });\n                } else {\n                    throw new Error(\"Unknown manager type: \" + manager._type);\n                }\n            });\n            return defer.promise;\n        };\n\n        // Gets the list of managers.\n        this.loadManagers = function(scope, managers) {\n            var defer = $q.defer();\n            var loadedManagers = [];\n\n            // Resolves the defer if all managers are loaded.\n            var resolveAllLoaded = function() {\n                if(loadedManagers.length === managers.length) {\n                    defer.resolve(managers);\n                }\n            };\n\n            var self = this;\n            angular.forEach(managers, function(manager) {\n                self.loadManager(scope, manager).then(function(loadedManager) {\n                    loadedManagers.push(loadedManager);\n                    resolveAllLoaded();\n                });\n            });\n            return defer.promise;\n        };\n\n        this.unloadManager = function(scope, manager) {\n            var idx = manager._scopes.indexOf(scope);\n            if(idx > -1) {\n                manager._scopes.splice(idx, 1);\n            }\n            if(manager._type === 'poll' && manager._scopes.length === 0) {\n                manager.stopPolling();\n            }\n        }\n\n        this.unloadManagers = function(scope, managers) {\n            var self = this;\n            angular.forEach(managers, function(manager) {\n                self.unloadManager(scope, manager);\n            });\n        }\n\n        // Tries to parse the specified string as JSON. If parsing fails,\n        // returns the original string. (This is useful since some manager\n        // calls return an error that could be either plain text, or JSON.)\n        this.tryParsingJSON = function(string) {\n            var error;\n            try {\n                error = JSON.parse(string);\n            } catch(e) {\n                if (e instanceof SyntaxError) {\n                    return string;\n                } else {\n                    throw e;\n                }\n            }\n            return error;\n        };\n\n        // Returns a printable version of the specified dictionary (useful\n        // for displaying an error to the user).\n        this.getPrintableString = function(dict, showNames) {\n            var result = '';\n            angular.forEach(dict, function(value, key) {\n                var error = dict[key];\n                if(showNames === true) {\n                    result += key + \": \";\n                }\n                if(angular.isString(error) || angular.isNumber(error)) {\n                    result += error + \"  \";\n                } else if(angular.isObject(error)) {\n                    angular.forEach(error, function(error) {\n                        result += error + \"  \";\n                    });\n                }\n                result = result.trim() + \"\\n\";\n            });\n            return result.trim();\n        };\n\n        // Convert the Python dict error message to displayed message.\n        // We know it's probably a form ValidationError dictionary, so just use\n        // it as such, and recover if that doesn't parse as JSON.\n        this.parseValidationError = function(error, showNames) {\n            error = this.tryParsingJSON(error);\n            if(!angular.isObject(error)) {\n                return error;\n            } else {\n                return this.getPrintableString(error, showNames);\n            }\n        };\n    }]);\n","/* Copyright 2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Space Manager\n *\n * Manages all of the spaces in the browser. The manager uses the\n * RegionConnection to load the spaces, update the spaces, and listen for\n * notification events about spaces.\n */\n\nangular.module('MAAS').factory(\n    'PollingManager',\n    ['$q', '$timeout', 'RegionConnection', 'Manager',\n    function($q, $timeout, RegionConnection, Manager) {\n\n        function PollingManager() {\n            Manager.call(this);\n\n            // The way this manager recieves its updated information. 'poll'\n            // means this manager periodicly polls for new data from the\n            // websocket.\n            this._type = 'poll';\n\n            // Set to true when polling has been enabled.\n            this._polling = false;\n\n            // The next promise for the polling interval.\n            this._nextPromise = null;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data.\n            this._pollTimeout = 10000;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data when an error occurs.\n            this._pollErrorTimeout = 3000;\n\n            // Amount of time in milliseconds the manager should wait to poll\n            // for new data when the retrieved data is empty.\n            this._pollEmptyTimeout = 3000;\n        }\n\n        PollingManager.prototype = new Manager();\n\n        // Returns true when currently polling.\n        PollingManager.prototype.isPolling = function() {\n            return this._polling;\n        };\n\n        // Starts the polling.\n        PollingManager.prototype.startPolling = function() {\n            if(!this._polling) {\n                this._polling = true;\n                return this._poll();\n            } else {\n                return this._nextPromise;\n            }\n        };\n\n        // Stops the polling.\n        PollingManager.prototype.stopPolling = function() {\n            this._polling = false;\n            if(angular.isObject(this._nextPromise)) {\n                $timeout.cancel(this._nextPromise);\n                this._nextPromise = null;\n            }\n        };\n\n        // Registers the next polling attempt.\n        PollingManager.prototype._pollAgain = function(timeout) {\n            var self = this;\n            this._nextPromise = $timeout(function() {\n                self._poll();\n            }, timeout);\n            return this._nextPromise;\n        };\n\n        // Polls for the data from the region.\n        PollingManager.prototype._poll = function() {\n            var self = this;\n            return this.reloadItems().then(function(items) {\n                var pollTimeout = self._pollTimeout;\n                if(items.length === 0) {\n                    pollTimeout = self._pollEmptyTimeout;\n                }\n                self._pollAgain(pollTimeout);\n                return items;\n            }, function(error) {\n                self._pollAgain(self._pollErrorTimeout);\n                return $q.reject(error);\n            });\n        };\n\n        return PollingManager;\n    }]);\n","/* Copyright 2015 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Nodes Search Services\n */\n\nangular.module('MAAS').service('SearchService', function() {\n\n    // Holds an empty filter object.\n    var emptyFilter = { _: [] };\n\n    // Return a new empty filter;\n    this.getEmptyFilter = function() {\n        return angular.copy(emptyFilter);\n    };\n\n    // Splits the search string into different terms based on white space.\n    // This handles the ability for whitespace to be inside of '(', ')'.\n    //\n    // XXX blake_r 28-01-15: This could be improved with a regex, but was\n    // unable to come up with one that would allow me to validate the end\n    // ')' in the string.\n    this.getSplitSearch = function(search) {\n        var terms = search.split(' ');\n        var fixedTerms = [];\n        var spanningParentheses = false;\n        angular.forEach(terms, function(term, idx) {\n            if(spanningParentheses) {\n                // Previous term had an opening '(' but not a ')'. This\n                // term should join that previous term.\n                fixedTerms[fixedTerms.length - 1] += ' ' + term;\n\n                // If the term contains the ending ')' then its the last\n                // in the group.\n                if(term.indexOf(')') !== -1) {\n                    spanningParentheses = false;\n                }\n            } else {\n                // Term is not part of a previous '(' span.\n                fixedTerms.push(term);\n\n                var startIdx = term.indexOf('(');\n                if(startIdx !== -1) {\n                    if(term.indexOf(')', startIdx) === -1) {\n                        // Contains a starting '(' but not a ending ')'.\n                        spanningParentheses = true;\n                    }\n                }\n            }\n        });\n\n        if(spanningParentheses) {\n            // Missing ending parentheses so error with terms.\n            return null;\n        }\n        return fixedTerms;\n    };\n\n    // Return all of the currently active filters for the given search.\n    this.getCurrentFilters = function(search) {\n        var filters = this.getEmptyFilter();\n        if(search.length === 0) {\n            return filters;\n        }\n        var searchTerms = this.getSplitSearch(search);\n        if(!searchTerms) {\n            return null;\n        }\n        angular.forEach(searchTerms, function(terms) {\n            terms = terms.split(':');\n            if(terms.length === 1) {\n                // Search term is not specifing a specific field. Gets\n                // add to the '_' section of the filters.\n                if(filters._.indexOf(terms[0]) === -1) {\n                    filters._.push(terms[0]);\n                }\n            } else {\n                var field = terms.shift();\n                var values = terms.join(\":\");\n\n                // Remove the starting '(' and ending ')'.\n                values = values.replace('(', '');\n                values = values.replace(')', '');\n\n                // If empty values then do nothing.\n                if(values.length === 0) {\n                    return;\n                }\n\n                // Split the values based on comma.\n                values = values.split(',');\n\n                // Add the values to filters.\n                if(angular.isUndefined(filters[field])) {\n                    filters[field] = [];\n                }\n                angular.forEach(values, function(value) {\n                    if(filters[field].indexOf(value) === -1) {\n                        filters[field].push(value);\n                    }\n                });\n            }\n        });\n        return filters;\n    };\n\n    // Convert \"filters\" into a search string.\n    this.filtersToString = function(filters) {\n        var search = \"\";\n        angular.forEach(filters, function(terms, type) {\n            // Skip empty and skip \"_\" as it gets appended at the\n            // beginning of the search.\n            if(terms.length === 0 || type === \"_\") {\n                return;\n            }\n            search += type + \":(\" + terms.join(\",\") + \") \";\n        });\n        if(filters._.length > 0) {\n            search = filters._.join(\" \") + \" \" + search;\n        }\n        return search.trim();\n    };\n\n    // Return the index of the value in the type for the filter.\n    this._getFilterValueIndex = function(filters, type, value) {\n        var values = filters[type];\n        if(angular.isUndefined(values)) {\n            return -1;\n        }\n        var lowerValues = values.map(function(value) {\n            return value.toLowerCase();\n        });\n        return lowerValues.indexOf(value.toLowerCase());\n    };\n\n    // Return true if the type and value are in the filters.\n    this.isFilterActive = function(filters, type, value, exact) {\n        var values = filters[type];\n        if(angular.isUndefined(values)) {\n            return false;\n        }\n        if(angular.isUndefined(exact)) {\n            exact = false;\n        }\n        if(exact) {\n            value = \"=\" + value;\n        }\n        return this._getFilterValueIndex(filters, type, value) !== -1;\n    };\n\n    // Toggles a filter on or off based on type and value.\n    this.toggleFilter = function(filters, type, value, exact) {\n        if(angular.isUndefined(filters[type])) {\n            filters[type] = [];\n        }\n        if(exact) {\n            value = \"=\" + value;\n        }\n        var idx = this._getFilterValueIndex(filters, type, value);\n        if(idx === -1) {\n            filters[type].push(value);\n        } else {\n            filters[type].splice(idx, 1);\n        }\n        return filters;\n    };\n\n    // Holds all stored filters.\n    var storedFilters = {};\n\n    // Store a filter for later.\n    this.storeFilters = function(name, filters) {\n        storedFilters[name] = filters;\n    };\n\n    // Retrieve a stored fitler.\n    this.retrieveFilters = function(name) {\n        return storedFilters[name];\n    };\n});\n","/* Copyright 2015-2016 Canonical Ltd.  This software is licensed under the\n * GNU Affero General Public License version 3 (see the file LICENSE).\n *\n * MAAS Validation Service\n *\n * Used by controllers to validate user inputs.\n */\n\nangular.module('MAAS').service('ValidationService', [\n    'ConverterService', function(ConverterService) {\n\n        // Pattern that matches a domainname.\n        // XXX 2016-02-24 lamont: This also matches \"example.com.\",\n        // which is wrong.\n        var domainnamePattern =\n            /^([a-z\\d]|[a-z\\d][a-z\\d-.]*[a-z\\d])*$/i;\n\n        // Pattern that matches a hostname.\n        var hostnamePattern =\n            /^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])*$/;\n\n        // Pattern that matches a MAC.\n        var macPattern = /^([0-9A-Fa-f]{2}:){5}([0-9A-Fa-f]{2})$/;\n\n        // Pattern used to match IPv4.\n        var ipv4Pattern = new RegExp([\n            '^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.',\n            '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.',\n            '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.',\n            '(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$'\n            ].join(''));\n\n        // Returns true if the octets in one equal two with the cidr mask in\n        // bits applied to both.\n        function cidrMatcher(one, two, size, bits) {\n            var part = 0;\n            while(bits > 0) {\n                var shift = size - bits;\n                if(shift < 0) {\n                    shift = 0;\n                }\n\n                var oneShift = one[part] >> shift;\n                var twoShift = two[part] >> shift;\n                if(oneShift !== twoShift) {\n                    return false;\n                }\n                bits -= size;\n                part += 1;\n            }\n            return true;\n        }\n\n        // Return true if the domainname is valid, false otherwise.\n        this.validateDomainName = function(domainname) {\n            // Invalid if the domain is not a string, empty, or more than\n            // 253 characters.\n            if(!angular.isString(domainname) ||\n                domainname.length === 0 || domainname.length > 253) {\n                return false;\n            }\n            return domainnamePattern.test(domainname);\n        };\n\n        // Return true if the hostname is valid, false otherwise.\n        this.validateHostname = function(hostname) {\n            // Invalid if the hostname is not a string, empty, or more than\n            // 63 characters.\n            if(!angular.isString(hostname) ||\n                hostname.length === 0 || hostname.length > 63) {\n                return false;\n            }\n            return hostnamePattern.test(hostname);\n        };\n\n        // Return true if the MAC is valid, false otherwise.\n        this.validateMAC = function(macAddress) {\n            // Invalid if the macAddress is not a string.\n            if(!angular.isString(macAddress)) {\n                return false;\n            }\n            return macPattern.test(macAddress.trim());\n        };\n\n        // Return true if the IP is valid IPv4 address, false otherwise.\n        this.validateIPv4 = function(ipAddress) {\n            // Invalid if the ipAddress is not a string or empty.\n            if(!angular.isString(ipAddress) || ipAddress.length === 0) {\n                return false;\n            }\n            return ipv4Pattern.test(ipAddress);\n        };\n\n        // Return true if the IP is valid IPv6 address, false otherwise.\n        this.validateIPv6 = function(ipAddress) {\n            // Invalid if the ipAddress is not a string, empty, or missing\n            // at least one ':'.\n            if(!angular.isString(ipAddress) ||\n                ipAddress.length === 0 ||\n                ipAddress.indexOf(':') === -1) {\n                return false;\n            }\n            var expandedAddress = ConverterService.ipv6Expand(ipAddress);\n            var octets = ConverterService.ipv6ToGroups(expandedAddress);\n            if(octets.length !== 8) {\n                return false;\n            }\n\n            // Make sure all octets are in range.\n            var i;\n            for(i = 0; i < 8; i++) {\n                if(isNaN(octets[i]) || octets[i] < 0 || octets[i] > 0xffff) {\n                    // Out of range.\n                    return false;\n                }\n            }\n\n            // Don't allow unspecified, loopback, multicast, link-local\n            // unicast, or anything out of range.\n            if(octets[0] < 1 ||\n                octets[0] === 0xff00 ||\n                octets[0] === 0xfe80) {\n                return false;\n            }\n            return true;\n        };\n\n        // Return true if the IP is valid, false otherwise.\n        this.validateIP = function(ipAddress) {\n            return (\n                this.validateIPv4(ipAddress) || this.validateIPv6(ipAddress));\n        };\n\n        // Return true if the ipAddress is in the network.\n        this.validateIPInNetwork = function(ipAddress, network) {\n            var networkSplit = network.split('/');\n            var networkAddress = networkSplit[0];\n            var cidrBits = parseInt(networkSplit[1], 10);\n\n            if(this.validateIPv4(ipAddress) &&\n                this.validateIPv4(networkAddress)) {\n                return cidrMatcher(\n                    ConverterService.ipv4ToOctets(ipAddress),\n                    ConverterService.ipv4ToOctets(networkAddress),\n                    8, cidrBits);\n            } else if(this.validateIPv6(ipAddress) &&\n                this.validateIPv6(networkAddress)) {\n                return cidrMatcher(\n                    ConverterService.ipv6ToGroups(ipAddress),\n                    ConverterService.ipv6ToGroups(networkAddress),\n                    16, cidrBits);\n            }\n            return false;\n        };\n\n        // Return true if the ipAddress is in the network and between the\n        // lowAddress and highAddress inclusive.\n        this.validateIPInRange = function(\n            ipAddress, network, lowAddress, highAddress) {\n            // If the ip address is not even in the network then its\n            // not in the range.\n            if(!this.validateIPInNetwork(ipAddress, network)) {\n                return false;\n            }\n\n            var i, ipOctets, lowOctets, highOctets;\n            if(this.validateIPv4(ipAddress) &&\n                this.validateIPv4(lowAddress) &&\n                this.validateIPv4(highAddress)) {\n\n                // Check that each octet is of the ip address is more or equal\n                // to the low address and less or equal to the high address.\n                ipOctets = ConverterService.ipv4ToOctets(ipAddress);\n                lowOctets = ConverterService.ipv4ToOctets(lowAddress);\n                highOctets = ConverterService.ipv4ToOctets(highAddress);\n                for(i = 0; i < 4; i++) {\n                    if(ipOctets[i] > highOctets[i] ||\n                        ipOctets[i] < lowOctets[i]) {\n                        return false;\n                    }\n                }\n                return true;\n            } else if(this.validateIPv6(ipAddress) &&\n                this.validateIPv6(lowAddress) &&\n                this.validateIPv6(highAddress)) {\n\n                // Check that each octet is of the ip address is more or equal\n                // to the low address and less or equal to the high address.\n                ipOctets = ConverterService.ipv6ToGroups(ipAddress);\n                lowOctets = ConverterService.ipv6ToGroups(lowAddress);\n                highOctets = ConverterService.ipv6ToGroups(highAddress);\n                for(i = 0; i < 8; i++) {\n                    if(ipOctets[i] > highOctets[i] ||\n                        ipOctets[i] < lowOctets[i]) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n            return false;\n        };\n    }]);\n"],"sourceRoot":""}