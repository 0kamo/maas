!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=625)}({624:function(t,e,n){"use strict";var a,i,r,o,s,u,l,c,g,d,p,f,m;a=8,i=9,r=13,o=27,s=32,u=38,l=40,c=37,g=39,d=46,p=188,f=["text","email","url"],(m=angular.module("ngTagsInput",[])).directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(t,e,n,i,o){function u(t){return-1!==f.indexOf(t)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,e,n){t.events=o.simplePubSub(),i.load("tagsInput",t,e,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),t.tagList=new function(t,e,n,a){var i,r,s,u={};return i=function(e){return o.safeToString(e[t.displayProperty])},r=function(e,n){e[t.displayProperty]=n},s=function(e){var a=i(e);return a&&a.length>=t.minLength&&a.length<=t.maxLength&&t.allowedTagsPattern.test(a)&&!o.findInObjectArray(u.items,e,t.keyProperty||t.displayProperty)&&n({$tag:e})},u.items=[],u.addText=function(t){var e={};return r(e,t),u.add(e)},u.add=function(n){var a=i(n);return t.replaceSpacesWithDashes&&(a=o.replaceSpacesWithDashes(a)),r(n,a),s(n)?(u.items.push(n),e.trigger("tag-added",{$tag:n})):a&&e.trigger("invalid-tag",{$tag:n}),n},u.remove=function(t){var n=u.items[t];if(a({$tag:n}))return u.items.splice(t,1),u.clearSelection(),e.trigger("tag-removed",{$tag:n}),n},u.select=function(t){t<0?t=u.items.length-1:t>=u.items.length&&(t=0),u.index=t,u.selected=u.items[t]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.clearSelection(),u}(t.options,t.events,o.handleUndefinedResult(t.onTagAdding,!0),o.handleUndefinedResult(t.onTagRemoving,!0)),this.registerAutocomplete=function(){return n.find("input"),{addTag:function(e){return t.tagList.add(e)},focusInput:function(){},getTags:function(){return t.tags},getCurrentTagText:function(){return t.newTag.text},getOptions:function(){return t.options},on:function(e,n){return t.events.on(e,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return t.options},removeTag:function(e){t.disabled||t.tagList.remove(e)}}}}],link:function(i,u,l,f){var m,h=[r,p,s,a,d,c,g],v=i.tagList,T=i.events,y=i.options,x=u.find("input"),$=["minTags","maxTags","allowLeftoverText"];m=function(){f.$setValidity("maxTags",i.tags.length<=y.maxTags),f.$setValidity("minTags",i.tags.length>=y.minTags),f.$setValidity("leftoverText",!(!i.hasFocus&&!y.allowLeftoverText&&i.newTag.text))},f.$isEmpty=function(t){return!t||!t.length},i.newTag={text:"",invalid:null,setText:function(t){this.text=t,T.trigger("input-change",t)}},i.track=function(t){return t[y.keyProperty||y.displayProperty]},i.$watch("tags",function(t){i.tags=o.makeObjectArray(t,y.displayProperty),v.items=i.tags}),i.$watch("tags.length",function(){m()}),l.$observe("disabled",function(t){i.disabled=t}),i.eventHandlers={input:{change:function(t){T.trigger("input-change",t)},keydown:function(t){T.trigger("input-keydown",t)},focus:function(){i.hasFocus||(i.hasFocus=!0,T.trigger("input-focus"))},blur:function(){t(function(){var t=e.prop("activeElement"),n=t===x[0],a=u[0].contains(t);!n&&a||(i.hasFocus=!1,T.trigger("input-blur"))})},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):n.clipboardData.getData("Text")},T.trigger("input-paste",t)}},host:{click:function(){i.disabled}}},T.on("tag-added",i.onTagAdded).on("invalid-tag",i.onInvalidTag).on("tag-removed",i.onTagRemoved).on("tag-added",function(){i.newTag.setText("")}).on("tag-added tag-removed",function(){f.$setViewValue(i.tags)}).on("invalid-tag",function(){i.newTag.invalid=!0}).on("option-change",function(t){-1!==$.indexOf(t.name)&&m()}).on("input-change",function(){v.clearSelection(),i.newTag.invalid=null}).on("input-focus",function(){u.triggerHandler("focus"),f.$setValidity("leftoverText",!0)}).on("input-blur",function(){y.addOnBlur&&!y.addFromAutocompleteOnly&&v.addText(i.newTag.text),u.triggerHandler("blur"),m()}).on("input-keydown",function(t){var e,n,o,u,l=t.keyCode,f={};if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)&&-1!==h.indexOf(l)){if(f[r]=y.addOnEnter,f[p]=y.addOnComma,f[s]=y.addOnSpace,e=!y.addFromAutocompleteOnly&&f[l],n=(l===a||l===d)&&v.selected,u=l===a&&0===i.newTag.text.length&&y.enableEditingLastTag,o=(l===a||l===c||l===g)&&0===i.newTag.text.length&&!y.enableEditingLastTag,e)v.addText(i.newTag.text);else if(u){var m;v.selectPrior(),(m=v.removeSelected())&&i.newTag.setText(m[y.displayProperty])}else n?v.removeSelected():o&&(l===c||l===a?v.selectPrior():l===g&&v.selectNext());(e||o||n||u)&&t.preventDefault()}}).on("input-paste",function(t){if(y.addOnPaste){var e=t.getTextData().split(y.pasteSplitPattern);e.length>1&&(e.forEach(function(t){v.addText(t)}),t.preventDefault())}})}}}]),m.directive("tiTagItem",["tiUtil",function(t){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(e,n,a,i){var r=i.registerTagItem(),o=r.getOptions();e.$$template=o.template,e.$$removeTagSymbol=o.removeTagSymbol,e.$getDisplayText=function(){return t.safeToString(e.data[o.displayProperty])},e.$removeTag=function(){r.removeTag(e.$index)},e.$watch("$parent.$index",function(t){e.$index=t})}}}]),m.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,e,n,a,s,c){return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,n){t.events=c.simplePubSub(),s.load("autoComplete",t,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new function(t,e,n){var i,r,o,s={};return o=function(){return e.tagsInput.keyProperty||e.tagsInput.displayProperty},i=function(t,n){return t.filter(function(t){return!c.findInObjectArray(n,t,o(),function(t,n){return e.tagsInput.replaceSpacesWithDashes&&(t=c.replaceSpacesWithDashes(t),n=c.replaceSpacesWithDashes(n)),c.defaultComparer(t,n)})})},s.reset=function(){r=null,s.items=[],s.visible=!1,s.index=-1,s.selected=null,s.query=null},s.show=function(){e.selectFirstMatch?s.select(0):s.selected=null,s.visible=!0},s.load=c.debounce(function(n,u){s.query=n;var l=a.when(t({$query:n}));r=l,l.then(function(t){l===r&&(t=c.makeObjectArray(t.data||t,o()),t=i(t,u),s.items=t.slice(0,e.maxResultsToShow),s.items.length>0?s.show():s.reset())})},e.debounceDelay),s.selectNext=function(){s.select(++s.index)},s.selectPrior=function(){s.select(--s.index)},s.select=function(t){t<0?t=s.items.length-1:t>=s.items.length&&(t=0),s.index=t,s.selected=s.items[t],n.trigger("suggestion-selected",t)},s.reset(),s}(t.source,t.options,t.events),t.getCurrentTag=function(){return t.$parent.$parent.newTag.text},t.addTag=function(e){t.$parent.$parent.tagList.items.push({text:e}),t.$parent.$parent.newTag.setText("")},this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(t,e,n,a){var s,c=[r,i,o,u,l],g=t.suggestionList,d=a.registerAutocomplete(),p=t.options,f=t.events;p.tagsInput=d.getOptions(),s=function(t){return t&&t.length>=p.minLength||!t&&p.loadOnEmpty},t.addSuggestionByIndex=function(e){g.select(e),t.addSuggestion()},t.addSuggestion=function(){var t=!1;return g.selected&&(d.addTag(angular.copy(g.selected)),g.reset(),d.focusInput(),t=!0),t},t.track=function(t){return t[p.tagsInput.keyProperty||p.tagsInput.displayProperty]},d.on("tag-added invalid-tag input-blur",function(){g.reset()}).on("input-change",function(t){s(t)?g.load(t,d.getTags()):g.reset()}).on("input-focus",function(){var e=d.getCurrentTagText();t.hasFocus=!0,t.shouldLoadSuggestions=s(e),p.loadOnFocus&&t.shouldLoadSuggestions&&g.load(e,d.getTags())}).on("input-keydown",function(e){var n=e.keyCode,a=!1;if(-1!==c.indexOf(n))return g.visible?n===l?(g.selectNext(),a=!0):n===u?(g.selectPrior(),a=!0):n===o?(g.reset(),a=!0):n!==r&&n!==i||(a=t.addSuggestion()):n===l&&t.options.loadOnDownArrow&&(g.load(d.getCurrentTagText(),d.getTags()),a=!0),a?(e.preventDefault(),e.stopImmediatePropagation(),!1):void 0}).on("input-blur",function(){t.hasFocus=!1}),f.on("suggestion-selected",function(t){!function(t,e){var n=t.find("li").eq(e),a=n.parent(),i=n.prop("offsetTop"),r=n.prop("offsetHeight"),o=a.prop("clientHeight"),s=a.prop("scrollTop");i<s?a.prop("scrollTop",i):i+r>o+s&&a.prop("scrollTop",i+r-o)}(e,t)})}}}]),m.directive("tiAutocompleteMatch",["$sce","tiUtil",function(t,e){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,a,i,r){var o=r.registerAutocompleteMatch(),s=o.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=e.safeHighlight(n,o.getQuery())),t.trustAsHtml(n)},n.$getDisplayText=function(){return e.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),m.directive("tiTranscludeAppend",function(){return function(t,e,n,a,i){i(function(t){e.append(t)})}}),m.directive("tiAutosize",["tagsInputConfig",function(t){return{restrict:"A",require:"ngModel",link:function(e,n,a,i){var r,o,s=t.getTextAutosizeThreshold();(r=angular.element('<span class="input"></span>')).css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(r),o=function(t){var e,i=t;return angular.isString(i)&&0===i.length&&(i=a.placeholder),i&&(r.text(i),r.css("display",""),e=r.prop("offsetWidth"),r.css("display","none")),n.css("width",e?e+s+"px":""),t},i.$parsers.unshift(o),i.$formatters.unshift(o),a.$observe("placeholder",function(t){i.$modelValue||o(t)})}}}]),m.directive("tiBindAttrs",function(){return function(t,e,n){t.$watch(n.tiBindAttrs,function(t){angular.forEach(t,function(t,a){"type"===a?e[0].type=t:n.$set(a,t)})},!0)}}),m.provider("tagsInputConfig",function(){var t={},e={},n=3;this.setDefaults=function(e,n){return t[e]=n,this},this.setActiveInterpolation=function(t,n){return e[t]=n,this},this.setTextAutosizeThreshold=function(t){return n=t,this},this.$get=["$interpolate",function(a){var i={};return i[String]=function(t){return t},i[Number]=function(t){return parseInt(t,10)},i[Boolean]=function(t){return"true"===t.toLowerCase()},i[RegExp]=function(t){return new RegExp(t)},{load:function(n,r,o,s){var u=function(){return!0};r.options={},angular.forEach(s,function(s,l){var c,g,d,p,f,m;c=s[0],g=s[1],d=s[2]||u,p=i[c],f=function(){var e=t[n]&&t[n][l];return angular.isDefined(e)?e:g},m=function(t){r.options[l]=t&&d(t)?p(t):f()},e[n]&&e[n][l]?o.$observe(l,function(t){m(t),r.events.trigger("option-change",{name:l,newValue:t})}):m(o[l]&&a(o[l])(r.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),m.factory("tiUtil",["$timeout",function(t){var e={debounce:function(e,n){var a;return function(){var i=arguments;t.cancel(a),a=t(function(){e.apply(null,i)},n)}},makeObjectArray:function(t,e){return(t=t||[]).length>0&&!angular.isObject(t[0])&&t.forEach(function(n,a){t[a]={},t[a][e]=n}),t},findInObjectArray:function(t,n,a,i){var r=null;return i=i||e.defaultComparer,t.some(function(t){if(i(t[a],n[a]))return r=t,!0}),r},defaultComparer:function(t,n){return e.safeToString(t).toLowerCase()===e.safeToString(n).toLowerCase()},safeHighlight:function(t,n){if(!n)return t;t=e.encodeHTML(t),n=e.encodeHTML(n);var a=new RegExp("&[^;]+;|"+function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(n),"gi");return t.replace(a,function(t){return t.toLowerCase()===n.toLowerCase()?"<em>"+t+"</em>":t})},safeToString:function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},encodeHTML:function(t){return e.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},handleUndefinedResult:function(t,e){return function(){var n=t.apply(null,arguments);return angular.isUndefined(n)?e:n}},replaceSpacesWithDashes:function(t){return e.safeToString(t).replace(/\s/g,"-")},simplePubSub:function(){var t={};return{on:function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},trigger:function(n,a){return(t[n]||[]).every(function(t){return e.handleUndefinedResult(t,!0)(a)}),this}}}};return e}]),m.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" data-ng-click="eventHandlers.host.click()" ti-transclude-append=""><div class="tags" data-ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" data-ng-repeat="tag in tagList.items track by track(tag)" data-ng-class="{ selected: tag == tagList.selected }"><ti-tag-item data="tag"></ti-tag-item></li></ul><input class="input u-no-margin--top u-no-margin--bottom" autocomplete="off" data-ng-model="newTag.text" data-ng-change="eventHandlers.input.change(newTag.text)" data-ng-keydown="eventHandlers.input.keydown($event)" data-ng-focus="eventHandlers.input.focus($event)" data-ng-blur="eventHandlers.input.blur($event)" data-ng-paste="eventHandlers.input.paste($event)" data-ng-trim="false" data-ng-class="{\'invalid-tag\': newTag.invalid}" data-ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize=""></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="p-icon--close" data-ng-click="$removeTag()" data-ng-bind="$$removeTagSymbol">Remove tag</a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" data-ng-if="suggestionList.visible"><ul class="p-list suggestion-list"><li class="suggestion-item create-tag-label" data-ng-if="getCurrentTag().length"><span data-ng-click="addTag(getCurrentTag())">Create new tag</span> <span class="tag-item">{$ getCurrentTag() $}</span></li><li class="suggestion-item" data-ng-repeat="item in suggestionList.items track by track(item)" data-ng-class="{selected: item == suggestionList.selected}" data-ng-click="addSuggestionByIndex($index)" data-ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="item"></ti-autocomplete-match></li></ul></div><div class="autocomplete no-suggestion" data-ng-if="!suggestionList.visible && hasFocus && shouldLoadSuggestions && getCurrentTag().length"><ul class="p-list suggestion-list"><li class="suggestion-item create-tag-label" data-ng-if="getCurrentTag().length"><span data-ng-click="addTag(getCurrentTag())">Create new tag</span> <span class="tag-item">{$ getCurrentTag() $}</span></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span data-ng-bind-html="$highlight($getDisplayText())"></span>')}])},625:function(t,e,n){t.exports=n(624)}});
//# sourceMappingURL=vendor-min.js.map